
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../ECE482L2/">
      
      
        <link rel="next" href="../ECE482L4/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Lab 03 - Renaissancor</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lab-03" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Renaissancor" class="md-header__button md-logo" aria-label="Renaissancor" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Renaissancor
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab 03
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Renaissancor" class="md-nav__button md-logo" aria-label="Renaissancor" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Renaissancor
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome to MkDocs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250401/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AR250401
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250402/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AR250402
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250403/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CPP Dynamic Array
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ECE482FA24
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            ECE482FA24
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ECE482HW
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            ECE482HW
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482HW/ECE482H1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment I
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482HW/ECE482H2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment II
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482HW/ECE482H3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment III
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482HW/ECE482H4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment IV
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482HW/ECE482H5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment V
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482HW/ECE482H6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment VI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482HW/ECE482H7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment VII
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482HW/ECE482H8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment VIII
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" checked>
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ECE482LAB
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            ECE482LAB
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 01
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 10
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 11
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 02
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Lab 03
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Lab 03
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-project-1-presentations-part-2" class="md-nav__link">
    <span class="md-ellipsis">
      1 Project 1: presentations (part 2)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-source-code" class="md-nav__link">
    <span class="md-ellipsis">
      2 Source code
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 Source code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-linux-kernel-walk-through" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Linux kernel walk-through
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-the-diff-and-patch-commands" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 The diff and patch commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2 The diff and patch commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read-the-man-pages-of-diff-and-patch" class="md-nav__link">
    <span class="md-ellipsis">
      Read the man pages of diff and patch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#edit-a-file-of-your-choice-in-usrsrc-eg-add-a-comment-to-a-file" class="md-nav__link">
    <span class="md-ellipsis">
      Edit a file of your choice in /usr/src, e.g. add a comment to a file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-diff-command-create-a-patch-corresponding-to-the-above-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Using the diff command, create a patch corresponding to the above changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieve-your-patch-on-your-linux-system" class="md-nav__link">
    <span class="md-ellipsis">
      Retrieve your patch on your Linux system
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apply-your-patch-to-the-copy-of-usrsrc_orig-on-your-linux-system" class="md-nav__link">
    <span class="md-ellipsis">
      Apply your patch to the copy of /usr/src_orig on your Linux system
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revert-the-patch" class="md-nav__link">
    <span class="md-ellipsis">
      Revert the patch
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-basic-git-usage" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Basic git usage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-scripting-and-regular-expressions" class="md-nav__link">
    <span class="md-ellipsis">
      3 Scripting and regular expressions
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 04
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 05
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 06
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 07
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 08
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L9/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 09
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ECE482P2
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            ECE482P2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P2/Design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P2/DeveloperGuide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P2/Home/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project 2 LemonDB Multi Threading Database
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P2/MultiThreading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multi-threading Challenges
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P2/Performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Performance Improvements
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P2/RoadMap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Road Map
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ECE482P3
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            ECE482P3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P3/Design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P3/Developer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P3/Home/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project 3 Lottery Scheduling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P3/Performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P3/Risk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project 3 Lottery Scheduling Risk Assessment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P3/RoadMap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project 3 Lottery Scheduling RoadMap
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-project-1-presentations-part-2" class="md-nav__link">
    <span class="md-ellipsis">
      1 Project 1: presentations (part 2)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-source-code" class="md-nav__link">
    <span class="md-ellipsis">
      2 Source code
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 Source code">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-linux-kernel-walk-through" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 Linux kernel walk-through
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-the-diff-and-patch-commands" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 The diff and patch commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2 The diff and patch commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read-the-man-pages-of-diff-and-patch" class="md-nav__link">
    <span class="md-ellipsis">
      Read the man pages of diff and patch
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#edit-a-file-of-your-choice-in-usrsrc-eg-add-a-comment-to-a-file" class="md-nav__link">
    <span class="md-ellipsis">
      Edit a file of your choice in /usr/src, e.g. add a comment to a file
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-the-diff-command-create-a-patch-corresponding-to-the-above-changes" class="md-nav__link">
    <span class="md-ellipsis">
      Using the diff command, create a patch corresponding to the above changes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retrieve-your-patch-on-your-linux-system" class="md-nav__link">
    <span class="md-ellipsis">
      Retrieve your patch on your Linux system
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#apply-your-patch-to-the-copy-of-usrsrc_orig-on-your-linux-system" class="md-nav__link">
    <span class="md-ellipsis">
      Apply your patch to the copy of /usr/src_orig on your Linux system
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#revert-the-patch" class="md-nav__link">
    <span class="md-ellipsis">
      Revert the patch
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-basic-git-usage" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 Basic git usage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-scripting-and-regular-expressions" class="md-nav__link">
    <span class="md-ellipsis">
      3 Scripting and regular expressions
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="lab-03">Lab 03</h1>
<p>ECE4820 FA2024 Introduction to Operating Systems</p>
<p>518370990004 Jae Heung Park</p>
<hr />
<h3 id="1-project-1-presentations-part-2">1 Project 1: presentations (part 2)</h3>
<h3 id="2-source-code">2 Source code</h3>
<p>When joining an existing two aspects are critical. First it is very important to understand the general
structure of the project while also getting familiar with the coding style of the other developers. Then
when starting to code one wants to keep track of the changes, while also being able to export and import
them in a simple fashion.</p>
<h4 id="21-linux-kernel-walk-through">2.1 Linux kernel walk-through</h4>
<p>In order to be more effective when solving homework 2 exercise 2, pay attention on how the TAs use
the tools presented in lab 1 in order to find their way in Linux kernel source code. Carefully listen to the
explanations related to the structure of code and common C strategies you might (re)discover.</p>
<h4 id="22-the-diff-and-patch-commands">2.2 The <code>diff</code> and <code>patch</code> commands</h4>
<p>When dealing with source code two main situations are likely to arise: (i) you want to share your changes
with others, or (ii) you want to apply changed performed by someone else.
Most of the time updates on source code concern few lines scattered over several files. Therefore instead
of sharing all the files it is much more convenient to only specify which lines should be updated, and
how. This is the role of the diff command. The patch command is used to apply the changes previously
created with diff. Both diff and patch programs should already be installed in your OS.</p>
<ul>
<li>Read the man pages of <code>diff</code> and <code>patch</code></li>
<li>Edit a file of your choice in /usr/src, e.g. add a comment to a file</li>
<li>Using the diff command, create a patch corresponding to the above changes</li>
<li>Retrieve your patch on your Linux system</li>
<li>Apply your patch to the copy of /usr/src_orig on your Linux system</li>
<li>Revert the patch</li>
</ul>
<h5 id="read-the-man-pages-of-diff-and-patch">Read the man pages of <code>diff</code> and <code>patch</code></h5>
<pre><code class="language-shell">man diff
</code></pre>
<pre><code class="language-text">DIFF(1)                          User Commands                         DIFF(1)

NAME
       diff - compare files line by line

SYNOPSIS
       diff [OPTION]... FILES

DESCRIPTION
       Compare FILES line by line.
       Mandatory  arguments  to  long  options are mandatory for short options
       too.
</code></pre>
<p>Manual of <code>patch</code> is longer.</p>
<pre><code class="language-shell">man patch
</code></pre>
<pre><code class="language-text">PATCH(1)                    General Commands Manual                   PATCH(1)

NAME
       patch - apply a diff file to an original

SYNOPSIS
       patch [options] [originalfile [patchfile]]

       but usually just

       patch -pnum &lt;patchfile

DESCRIPTION
       patch takes a patch file patchfile containing a difference listing pro‐
       duced by the diff program and applies those differences to one or  more
       original  files, producing patched versions.  Normally the patched ver‐
       sions are put in place of the originals.  Backups can be made; see  the
       -b  or  --backup option.  The names of the files to be patched are usu‐
       ally taken from the patch file, but if there's  just  one  file  to  be
       patched it can be specified on the command line as originalfile.

       Upon startup, patch attempts to determine the type of the diff listing,
       unless overruled by a -c (--context), -e (--ed), -n (--normal),  or  -u
       (--unified)  option.  Context diffs (old-style, new-style, and unified)
       and normal diffs are applied by the  patch  program  itself,  while  ed
       diffs are simply fed to the ed(1) editor via a pipe.

       patch  tries to skip any leading garbage, apply the diff, and then skip
       any trailing garbage.  Thus you could feed an article or  message  con‐
       taining  a  diff  listing  to patch, and it should work.  If the entire
       diff is indented by a consistent amount, if lines end in CRLF, or if  a
       diff  is  encapsulated  one  or  more times by prepending &quot;- &quot; to lines
       starting with &quot;-&quot; as specified by Internet RFC 934, this is taken  into
       account.   After  removing  indenting or encapsulation, lines beginning
       with # are ignored, as they are considered to be comments.

        With context diffs, and to a lesser extent with normal diffs, patch can
       detect  when the line numbers mentioned in the patch are incorrect, and
       attempts to find the correct place to apply each hunk of the patch.  As
       a first guess, it takes the line number mentioned for the hunk, plus or
       minus any offset used in applying the previous hunk.  If  that  is  not
       the correct place, patch scans both forwards and backwards for a set of
       lines matching the context given in the hunk.  First patch looks for  a
       place where all lines of the context match.  If no such place is found,
       and it's a context diff, and the maximum fuzz factor is  set  to  1  or
       more, then another scan takes place ignoring the first and last line of
       context.  If that fails, and the maximum fuzz factor is  set  to  2  or
       more,  the first two and last two lines of context are ignored, and an‐
       other scan is made.  (The default maximum fuzz factor is 2.)

       Hunks with less prefix context  than  suffix  context  (after  applying
       fuzz)  must  apply  at the start of the file if their first line number
       is 1.  Hunks with more prefix context than suffix context (after apply‐
       ing fuzz) must apply at the end of the file.

       If patch cannot find a place to install that hunk of the patch, it puts
       the hunk out to a reject file, which normally is the name of the output
       file  plus  a .rej suffix, or # if .rej would generate a file name that
       is too long (if even appending the single character #  makes  the  file
       name too long, then # replaces the file name's last character).

       The  rejected hunk comes out in unified or context diff format.  If the
       input was a normal diff, many of the contexts  are  simply  null.   The
       line  numbers  on the hunks in the reject file may be different than in
       the patch file: they reflect the approximate location patch thinks  the
       failed hunks belong in the new file rather than the old one.

       As  each  hunk is completed, you are told if the hunk failed, and if so
       which line (in the new file) patch thought the hunk should go  on.   If
       the  hunk  is installed at a different line from the line number speci‐
       fied in the diff, you are told the offset.  A single large  offset  may
       indicate  that  a  hunk was installed in the wrong place.  You are also
       told if a fuzz factor was used to make the match,  in  which  case  you
       should  also be slightly suspicious.  If the --verbose option is given,
       you are also told about hunks that match exactly.
...
</code></pre>
<h5 id="edit-a-file-of-your-choice-in-usrsrc-eg-add-a-comment-to-a-file">Edit a file of your choice in <code>/usr/src</code>, e.g. add a comment to a file</h5>
<p>First, make a backup for <code>usr/src</code></p>
<pre><code class="language-shell">sudo cp -r /usr/src /usr/src_backup
</code></pre>
<p>Now edit file inside <code>/usr/src</code>.</p>
<pre><code class="language-text">jhpark@jhparkvm:/usr/src$ ls linux-headers-6.5.0-35-generic/
arch    Documentation  init      Kconfig   mm              samples   tools
block   drivers        io_uring  kernel    Module.symvers  scripts   ubuntu
certs   fs             ipc       lib       net             security  usr
crypto  include        Kbuild    Makefile  rust            sound     virt

jhpark@jhparkvm:/usr/src$ ls linux-hwe-6.5-headers-6.5.0-35/
arch    Documentation  init      Kconfig   mm       scripts   ubuntu
block   drivers        io_uring  kernel    net      security  usr
certs   fs             ipc       lib       rust     sound     virt
crypto  include        Kbuild    Makefile  samples  tools
</code></pre>
<p>I decided to add a comment to a Makefile.</p>
<pre><code class="language-shell">sudo nano /usr/src/linux-headers-6.5.0-35-generic/Makefile
# Test comment made by JH Park for ECE482
</code></pre>
<h5 id="using-the-diff-command-create-a-patch-corresponding-to-the-above-changes">Using the diff command, create a patch corresponding to the above changes</h5>
<pre><code class="language-shell">sudo diff -u /usr/src/linux-headers-6.5.0-35-generic/Makefile /usr/src_backup/linux-headers-6.5.0-35-generic/Makefile &gt; jhpark_patch.patch
</code></pre>
<p>Patch created.</p>
<h5 id="retrieve-your-patch-on-your-linux-system">Retrieve your patch on your Linux system</h5>
<p>Patch command updated the difference of code I added well.</p>
<pre><code class="language-shell">cat jhpark_patch.patch
</code></pre>
<p>Patch comment updated.</p>
<pre><code class="language-text">--- /usr/src/linux-headers-6.5.0-35-generic/Makefile    2024-10-21 01:14:53.470376307 +0800
+++ /usr/src_backup/linux-headers-6.5.0-35-generic/Makefile 2024-10-21 01:11:46.859876208 +0800
@@ -1,4 +1,3 @@
-# Test comment made by JH Park for ECE482
 # SPDX-License-Identifier: GPL-2.0
 VERSION = 6
 PATCHLEVEL = 5
</code></pre>
<h5 id="apply-your-patch-to-the-copy-of-usrsrc_orig-on-your-linux-system">Apply your patch to the copy of /usr/src_orig on your Linux system</h5>
<p>I made backup branch name as <code>usr/src_backup</code> so copied again.</p>
<pre><code class="language-shell">sudo cp -r /usr/src_backup /usr/src_orig
</code></pre>
<p>Now apply patch to newly created <code>usr/src_orig</code>.</p>
<pre><code class="language-shell">sudo patch /usr/src_backup/linux-headers-6.5.0-35-generic/Makefile &lt; jhpark_patch.patch
</code></pre>
<p>Finally, check if change is applied.</p>
<pre><code class="language-shell">head /usr/src/linux-headers-6.5.0-35-generic/Makefile
head /usr/src_orig/linux-headers-6.5.0-35-generic/Makefile
</code></pre>
<p>It is applied successfully.</p>
<h5 id="revert-the-patch">Revert the patch</h5>
<p>Execute patch with revert option</p>
<pre><code class="language-shell">sudo patch -R /usr/src_orig/linux-headers-6.5.0-35-generic/Makefile &lt; jhpark_patch.patch
</code></pre>
<h4 id="23-basic-git-usage">2.3 Basic <code>git</code> usage</h4>
<p>The programs patch and diff are very useful however when big projects are managed by many people at
the same time they are not convenient to handle. A more advanced, automatised approach is required
such as to help solving collisions in a more simple way. For instance user A commits some changes on
the initial version of the file foo.c. Then user B does the same. Notice that changes made by B may
collide with updates from A. To prevent such issues B should have worked based on A’s version of the
foo.c file.</p>
<p>To overcome such kind of issues and render things smoother and easier several systems were created; at
the moment the most commonly used is called git, older ones such as svn or cvs are still used in some
places. In the remainder of this course you will be required to use the gitea in order to keep track of your
project work.</p>
<p>Go to http://learngitbranching.js.org/ and complete the following levels:</p>
<ul>
<li>Main → Introduction Sequence: all;</li>
<li>Main → Ramping Up: all;</li>
<li>Main → A mixed bag: 1, 4;</li>
<li>Remote → Push &amp; Pull – Git Remotes!: 1-4, 6;</li>
</ul>
<p><img alt="Git Photo" src="../images/image.png" /></p>
<h3 id="3-scripting-and-regular-expressions">3 Scripting and regular expressions</h3>
<p>Two programming languages often used in conjunction with Bash are <code>sed</code> and <code>awk</code>.
Pipelining the output of ifconfig to awk return only the ip address of your current active network
connection (the active network interface can be passed to ifconfig).</p>
<p>Install network tools</p>
<pre><code class="language-shell">sudo apt-get install net-tools
</code></pre>
<p>Ip check commands by <code>ifconfig</code> and <code>awk</code> is required.</p>
<pre><code class="language-shell">ifconfig | awk '/inet / {print $2}'
</code></pre>
<p>Returns this ip address</p>
<pre><code class="language-text">172.16.43.132
127.0.0.1
</code></pre>
<p>IP address from my Linux Ubuntu installed in VMWare fusion</p>
<pre><code class="language-text">127.0.0.1
192.168.101.8
0.0.1.1
198.18.0.1
192.168.100.1
172.16.43.1
</code></pre>
<p>IP address from my Mac OS terminal.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>