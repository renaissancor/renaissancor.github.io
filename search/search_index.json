{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"#common-commands","title":"Common Commands","text":"<pre><code>mkdocs serve\nmkdocs build\nmkdocs gh-deploy\n</code></pre>"},{"location":"AR111111/","title":"Sample Template Title","text":"<p>Write a Markdown-formatted study note for my MkDocs-based C++ blog. Generate markdown texts with this kind of structure:</p>"},{"location":"AR111111/#sample-template-title_1","title":"Sample Template Title","text":""},{"location":"AR111111/#date-2025-01-01","title":"Date: 2025-01-01","text":""},{"location":"AR111111/#key-points","title":"Key Points","text":"<ul> <li>Move semantics transfer ownership instead of copying.</li> <li><code>std::move()</code> performs a cast to an rvalue reference.</li> <li>Mark move operations <code>noexcept</code> to enable STL optimizations.</li> <li>Rule of Five: if you define one special function, consider defining all five.</li> </ul>"},{"location":"AR111111/#overview","title":"Overview","text":"<p>Move semantics, introduced in C++11, enable efficient resource transfer?\ubd34seful for managing dynamic memory, file handles, etc.</p> <pre><code>class Resource {\n    int* data; size_t size;\n\npublic:\n    Resource(size_t s) : size(s), data(new int[s]) {}\n    ~Resource() { delete[] data; }\n\n    Resource(const Resource&amp; other);\n\n    Resource(Resource&amp;&amp; other) noexcept\n        : data(other.data), size(other.size) {\n        other.data = nullptr; other.size = 0;\n    }\n\n    Resource&amp; operator=(Resource&amp;&amp; other) noexcept {\n        if (this != &amp;other) {\n            delete[] data;\n            data = other.data; size = other.size;\n            other.data = nullptr; other.size = 0;\n        }\n        return *this;\n    }\n};\n</code></pre>"},{"location":"AR111111/#common-mistakes","title":"Common Mistakes","text":"<p>Using moved-from objects <pre><code>std::vector&lt;int&gt; v1 = {1, 2, 3};\nstd::vector&lt;int&gt; v2 = std::move(v1);\n// v1 is now valid but unspecified\n</code></pre></p> <p>Missing <code>noexcept</code> <pre><code>class A {\npublic:\n    A(A&amp;&amp;) noexcept;  // Allows STL containers to optimize\n};\n</code></pre></p> <p>Preventing RVO (Return Value Optimization) <pre><code>std::vector&lt;int&gt; create() {\n    std::vector&lt;int&gt; v = {1, 2};\n    return std::move(v);  // Bad: disables RVO\n    // return v;          // Good: lets RVO work\n}\n</code></pre></p>"},{"location":"AR111111/#tricky-case-unique_ptr","title":"Tricky Case: <code>unique_ptr</code>","text":"<pre><code>auto ptr = std::make_unique&lt;Resource&gt;();\n\n// Error: copy is disabled\n// process(ptr);\n\n// Correct: use std::move\nprocess(std::move(ptr));\n</code></pre> <p>After the move, <code>ptr</code> is null and must not be used except for reset or reassignment.</p>"},{"location":"AR111111/#interview-questions","title":"Interview Questions","text":"<p>Q: Difference between <code>std::move</code> and <code>std::forward</code>? A: <code>std::move</code> casts to rvalue; <code>std::forward</code> preserves value category in template functions.</p> <p>Q: Why use <code>noexcept</code> with move? A: Containers prefer <code>noexcept</code> move operations to maintain strong exception guarantees.</p>"},{"location":"AR111111/#modern-examples","title":"Modern Examples","text":"<pre><code>// C++17: optional + implicit move\nstd::optional&lt;std::string&gt; get(bool ok) {\n    if (ok) return std::string(\"value\");\n    return std::nullopt;\n}\n\n// C++20: constexpr move\nconstexpr std::string create() {\n    std::string a = \"A\";\n    return std::move(a);\n}\n</code></pre>"},{"location":"AR111111/#code-demonstration","title":"Code Demonstration","text":"<pre><code>std::string a = \"Hello\";\nstd::string b = std::move(a);\n\nstd::cout &lt;&lt; \"b: \" &lt;&lt; b &lt;&lt; \"\\n\";\nstd::cout &lt;&lt; \"a: \" &lt;&lt; a &lt;&lt; \"\\n\";  // Moved-from state\n</code></pre>"},{"location":"AR111111/#visual-ownership-transfer","title":"Visual: Ownership Transfer","text":"<pre><code>Before Move             After Move\n------------            -------------\nObject A                Object A\n[data -&gt; 0x1234]        [data -&gt; nullptr]\n\nObject B                Object B\n[data -&gt; nullptr]       [data -&gt; 0x1234]\n</code></pre> <p>Format the explanation clearly and concisely,  so easily readable while containing all necessary details.  Respect the comments inside the code and rewrite them in the blog text description.  Keep code blocks clean and readable.  Focus on tricky cases and common cases that might be crucial later.  Create extra contents for common mistakes or tricky cases.  Make sample interview questions and answers.  Sample interview questions are necessary. Others are not necessary. It is good to make tricky cases or sample interview questions related to input text.  Write in English. Do not use icon. Return markdown in canvas, aka textdoc editor. Now convert the study code I will copy and paste below.  Date is 2025 03 10</p>"},{"location":"AR250305/","title":"C++ Data Types and Basics","text":""},{"location":"AR250305/#date-2025-03-05","title":"Date: 2025-03-05","text":""},{"location":"AR250305/#key-points","title":"Key Points","text":"<ul> <li>Data types define the size and purpose of variables in memory.</li> <li>Each type has a default range and behavior, especially with signed vs unsigned.</li> <li>Type casting allows explicit conversion between types.</li> <li>Floating-point numbers follow the IEEE standard.</li> </ul>"},{"location":"AR250305/#overview","title":"Overview","text":"<p>In C++, data types determine how memory is allocated for variables and how operations are performed. Understanding data types is fundamental for both correctness and performance.</p>"},{"location":"AR250305/#primitive-data-types","title":"Primitive Data Types","text":""},{"location":"AR250305/#integer-types","title":"Integer Types","text":"<p>Integer types store whole numbers and can be either signed (default) or unsigned.</p> <pre><code>// Signed: can represent negative and positive values\nsigned char sc = 0;    // Range: -128 to 127\n\n// Unsigned: only non-negative values\nunsigned char uc = 0;  // Range: 0 to 255\n\nsc = 128;  // Triggers overflow, behavior is implementation-defined\nuc = 128;  // Valid\n</code></pre>"},{"location":"AR250305/#integer-size-summary","title":"Integer Size Summary","text":"<ul> <li><code>bool</code> ??? 1 byte</li> <li><code>char</code> ??? 1 byte</li> <li><code>short</code> ??? 2 bytes</li> <li><code>int</code> ??? 4 bytes</li> <li><code>long</code> ??? 4 bytes (platform dependent)</li> <li><code>long long</code> ??? 8 bytes</li> </ul>"},{"location":"AR250305/#signed-vs-unsigned-behavior","title":"Signed vs Unsigned Behavior","text":"<p>Signed integers can represent both positive and negative values using two's complement representation. To convert a positive binary to its negative form, invert the bits and add 1.</p> <pre><code>char c = 256;                  // Overflow: wraps around to 0\nunsigned char unchar = -1;     // Stores 255 due to wrap-around\n</code></pre>"},{"location":"AR250305/#floating-point-types","title":"Floating-Point Types","text":"<p>Floating-point types store real numbers, including decimals. They follow the IEEE 754 standard for binary representation.</p> <pre><code>float fData = 3.66f;  // 4 bytes\nfloat fResult;\n\nint iData = 20;\nfResult = (float)iData + fData;  // Type casting to float for precise addition\n</code></pre>"},{"location":"AR250305/#initialization-vs-assignment","title":"Initialization vs Assignment","text":"<pre><code>int i = 10;     // Initialization\nfloat f;\nf = 20.5f;      // Assignment\n</code></pre>"},{"location":"AR250305/#type-conversion-and-casting","title":"Type Conversion and Casting","text":""},{"location":"AR250305/#implicit-conversion","title":"Implicit Conversion","text":"<p>Assigning an integer to a float will automatically cast the value:</p> <pre><code>float f = 3;  // Implicitly becomes 3.0\n</code></pre>"},{"location":"AR250305/#explicit-casting","title":"Explicit Casting","text":"<p>Use C-style casting for precise control:</p> <pre><code>float result = (float)iData + fData;\n</code></pre>"},{"location":"AR250305/#common-mistakes","title":"Common Mistakes","text":"<p>Overflow on signed/unsigned types: <pre><code>signed char sc = 128;  // Undefined or implementation-defined\n</code></pre></p> <p>Assigning negative to unsigned types: <pre><code>unsigned char uc = -1; // Becomes 255\n</code></pre></p> <p>Assigning float to int: <pre><code>int i = 3.99;  // i = 3, truncates decimal part\n</code></pre></p>"},{"location":"AR250305/#interview-questions","title":"Interview Questions","text":"<p>Q: What is the difference between signed and unsigned types? A: Signed types represent both negative and positive values using two's complement. Unsigned types can only represent zero and positive values.</p> <p>Q: What happens when you assign a negative number to an unsigned variable? A: The value wraps around using modulo arithmetic. For example, <code>unsigned char uc = -1;</code> results in <code>uc = 255</code>.</p> <p>Q: What is the difference between float and double? A: <code>float</code> uses 4 bytes and has lower precision. <code>double</code> uses 8 bytes and offers higher precision for decimal values.</p> <p>Q: When should you use explicit casting in C++? A: When combining different data types in operations, such as adding an int to a float, or to avoid implicit conversion bugs.</p>"},{"location":"AR250305/#references","title":"References","text":"<ul> <li>data_type.cpp</li> </ul>"},{"location":"AR250306/","title":"Operators and Precedence","text":""},{"location":"AR250306/#date-2025-03-06","title":"Date: 2025-03-06","text":""},{"location":"AR250306/#key-points","title":"Key Points","text":"<ul> <li>Operators perform computations on variables and values.</li> <li>Operator precedence determines evaluation order in expressions.</li> <li>C++ includes arithmetic, assignment, comparison, logical, and increment/decrement operators.</li> </ul>"},{"location":"AR250306/#arithmetic-operators","title":"Arithmetic Operators","text":"<pre><code>int a = 10, b = 3;\n\nint sum = a + b;    // 13\nint diff = a - b;   // 7\nint prod = a * b;   // 30\nint div = a / b;    // 3 (integer division)\nint mod = a % b;    // 1 (remainder)\n</code></pre> <ul> <li>When both operands are integers, division truncates the result.</li> <li><code>%</code> is only applicable to integers.</li> </ul>"},{"location":"AR250306/#floating-point-division","title":"Floating-Point Division","text":"<pre><code>float fdiv = 10.f / 3.f;    // 3.333...\ndouble ddiv = 10.0 / 3.0;   // 3.333...\n</code></pre> <ul> <li>Floating-point division returns a more accurate result.</li> </ul>"},{"location":"AR250306/#assignment-operator","title":"Assignment Operator","text":"<pre><code>int x = 5;  // Assigns value 5 to x\n</code></pre> <ul> <li><code>=</code> assigns the right-hand side value to the left-hand variable.</li> </ul>"},{"location":"AR250306/#increment-and-decrement","title":"Increment and Decrement","text":"<pre><code>int num = 0;\n\n++num; // Pre-increment: increment before use\n--num; // Pre-decrement\n\nnum++; // Post-increment: use before increment\ndec--; // Post-decrement\n\nint result = num++;  // result gets old num; num is incremented afterward\n</code></pre> <ul> <li>Pre-increment/decrement has higher precedence than post.</li> <li>Mixed with other expressions, they can affect evaluation order.</li> </ul>"},{"location":"AR250306/#comparison-operators","title":"Comparison Operators","text":"<pre><code>int a = 10, b = 20;\n\nbool isEqual = (a == b);   // false\nbool isNotEqual = (a != b);// true\nbool isGreater = (a &gt; b);  // false\nbool isLessEqual = (a &lt;= b); // true\n</code></pre> <ul> <li>Always return boolean values: <code>true</code> or <code>false</code>.</li> </ul>"},{"location":"AR250306/#boolean-and-logical-operators","title":"Boolean and Logical Operators","text":"<pre><code>bool result1 = true &amp;&amp; false;  // false (AND)\nbool result2 = true || false;  // true  (OR)\nbool result3 = !true;          // false (NOT)\n</code></pre> <ul> <li><code>&amp;&amp;</code>, <code>||</code> use short-circuit evaluation.</li> <li>Only <code>0</code> is false; all non-zero integers are considered true.</li> </ul>"},{"location":"AR250306/#operator-precedence-example","title":"Operator Precedence Example","text":"<pre><code>int x = 10, y = 20;\nbool result = x++ &lt; y &amp;&amp; y++ &gt; 15;\n</code></pre> <ul> <li><code>x++ &lt; y</code>: <code>x</code> is compared first, then incremented.</li> <li><code>&amp;&amp;</code>: evaluates only if the first condition is true.</li> <li><code>y++ &gt; 15</code>: executed only if <code>x++ &lt; y</code> is true.</li> </ul>"},{"location":"AR250306/#tricky-case-precedence-pitfall","title":"Tricky Case: Precedence Pitfall","text":"<pre><code>int i = 10;\nint j = i++ * 2 + ++i;\n</code></pre> <p>Step-by-step evaluation: - <code>i++</code> = 10 (then i becomes 11) - <code>++i</code> = 12 (i becomes 12 before use) - <code>j = 10 * 2 + 12 = 32</code></p>"},{"location":"AR250306/#interview-questions","title":"Interview Questions","text":"<p>Q: What's the difference between <code>++i</code> and <code>i++</code>? A: <code>++i</code> increments the value before it's used in the expression, while <code>i++</code> uses the current value and then increments.</p> <p>Q: What happens when mixing <code>&amp;&amp;</code>, <code>||</code>, and comparison operators in one expression? A: C++ follows operator precedence rules: comparison operators are evaluated first, then logical AND (<code>&amp;&amp;</code>), then logical OR (<code>||</code>). Use parentheses for clarity.</p> <p>Q: What\u2019s short-circuit evaluation? A: In logical expressions, <code>&amp;&amp;</code> stops evaluating if the first condition is false, and <code>||</code> stops if the first is true. This avoids unnecessary computation.</p>"},{"location":"AR250306/#references","title":"References","text":"<ul> <li>data_type.cpp</li> </ul>"},{"location":"AR250307/","title":"Control Flow in C++","text":""},{"location":"AR250307/#date-2025-03-07","title":"Date: 2025-03-07","text":""},{"location":"AR250307/#key-points","title":"Key Points","text":"<ul> <li>Control flow directs the order of execution in programs.</li> <li><code>if</code>, <code>else if</code>, <code>else</code> allow conditional execution.</li> <li><code>switch-case</code> enables value-based branching.</li> <li>Logical expressions (<code>&amp;&amp;</code>, <code>||</code>, <code>!</code>) are key in decision making.</li> <li>Only the first satisfied condition in <code>if-else if</code> chain is executed.</li> </ul>"},{"location":"AR250307/#overview","title":"Overview","text":"<p>Control flow determines which parts of code get executed and in what order. It is essential for making decisions, handling conditions, and branching logic. In C++, control flow constructs include conditional statements like <code>if</code>, <code>else if</code>, <code>else</code>, and multi-way branching using <code>switch-case</code>.</p>"},{"location":"AR250307/#conditional-statements","title":"Conditional Statements","text":""},{"location":"AR250307/#if-else-if-else","title":"If, Else If, Else","text":"<pre><code>int HP = 0;\n\n// If HP is greater than 80\nif (80 &lt; HP) {\n    int a = 0;\n}\n// If HP is greater than 60 but less than or equal to 80\nelse if (60 &lt; HP) {\n    int a = 0;\n}\n// If HP is greater than 40 but less than or equal to 60\nelse if (40 &lt; HP) {\n    int a = 0;\n}\n// If HP is greater than 20 but less than or equal to 40\nelse if (20 &lt; HP) {\n    int a = 0;\n}\n// If all above conditions fail\nelse {\n    int a = 0;\n}\n</code></pre> <ul> <li><code>else if</code> conditions are only checked if previous ones fail.</li> <li>Only one block will execute in a single <code>if-else if-else</code> chain.</li> <li>If you want all conditions checked independently, use separate <code>if</code> statements.</li> </ul>"},{"location":"AR250307/#logical-operators-in-conditions","title":"Logical Operators in Conditions","text":"<pre><code>int IsTrue = 10 &amp;&amp; 0;    // false\nIsTrue = 1 || 0;         // true\nIsTrue = !IsTrue;        // false\n</code></pre> <ul> <li><code>&amp;&amp;</code> (logical AND) returns true if both operands are true.</li> <li><code>||</code> (logical OR) returns true if at least one operand is true.</li> <li><code>!</code> (logical NOT) inverts the boolean value.</li> </ul>"},{"location":"AR250307/#interview-questions","title":"Interview Questions","text":"<p>Q: What is the difference between <code>if-else if</code> and multiple <code>if</code> statements? A: In <code>if-else if</code>, only the first true condition is executed; remaining conditions are skipped. Multiple <code>if</code> statements are evaluated independently.</p> <p>Q: What happens if multiple <code>else if</code> conditions are true? A: Only the first true condition??\uc172 block is executed; the rest are ignored.</p> <p>Q: How does short-circuiting work in logical expressions? A: In expressions like <code>a &amp;&amp; b</code>, if <code>a</code> is false, <code>b</code> is not evaluated. Similarly, in <code>a || b</code>, if <code>a</code> is true, <code>b</code> is skipped.</p>"},{"location":"AR250307/#references","title":"References","text":"<ul> <li>data_type.cpp</li> </ul>"},{"location":"AR250310/","title":"Bitwise Operators &amp; Preprocessor Macros","text":""},{"location":"AR250310/#date-2025-03-10","title":"Date: 2025-03-10","text":""},{"location":"AR250310/#key-points","title":"Key Points","text":"<ul> <li>Macros simplify complex or frequently-used expressions.</li> <li>Bitwise operators manipulate data at the bit level.</li> <li>Use <code>unsigned</code> types with bitwise operations to avoid signed behavior issues.</li> <li>Bit masks efficiently represent multiple boolean flags in a single variable.</li> <li>Combine and check bitwise states using <code>|</code>, <code>&amp;</code>, <code>^</code>, <code>~</code>, and shift operators.</li> </ul>"},{"location":"AR250310/#overview","title":"Overview","text":"<p>C++ provides a rich set of bitwise operators that are useful for low-level programming tasks. When used correctly with <code>#define</code> macros, they can improve both code clarity and performance??\ubd22specially in scenarios like setting and checking character statuses in games.</p> <p>The <code>#define</code> preprocessor directive is used to define constants or macro functions that can simplify repetitive or verbose code patterns.</p>"},{"location":"AR250310/#bit-mask-macros","title":"Bit Mask Macros","text":"<pre><code>#define MY int\n#define MAX_FLOOR 60\n\n#define ATT_UP     0x1\n#define DEF_UP     0x2\n#define DEX_UP     0x4\n#define SPEED_UP   0x8\n#define ATT_DOWN   0x10\n#define DEF_DOWN   0x20\n#define DEX_DOWN   0x40\n#define SPEED_DOWN 0x80\n\n#define EVENT_POTION (ATT_UP | DEF_UP | DEX_UP | SPEED_UP)\n</code></pre> <p>These macros define constants using hexadecimal values where each constant represents a unique bit flag. <code>EVENT_POTION</code> combines several buffs using the bitwise OR operator (<code>|</code>).</p>"},{"location":"AR250310/#bitwise-operators","title":"Bitwise Operators","text":""},{"location":"AR250310/#left-shift","title":"Left Shift (<code>&lt;&lt;</code>)","text":"<p>Doubles the value for each shift to the left. <pre><code>int a = 2 &lt;&lt; 3; // a = 16 (2 * 2^3)\n</code></pre></p>"},{"location":"AR250310/#right-shift","title":"Right Shift (<code>&gt;&gt;</code>)","text":"<p>Halves the value for each shift to the right. <pre><code>unsigned char c = 127;\nc = c &gt;&gt; 1; // c = 63\n</code></pre></p> <p>Use <code>unsigned</code> types to avoid unexpected behavior due to sign bit propagation in signed integers.</p>"},{"location":"AR250310/#bitwise-and-or-xor-not","title":"Bitwise AND, OR, XOR, NOT","text":"<pre><code>unsigned char c1 = 10;   // 0000 1010\nunsigned char c2 = 2;    // 0000 0010\n\nunsigned char c3 = c1 &amp; c2; // AND: 0000 0010\nc3 = c1 | c2;               // OR:  0000 1010\nc1 = ~c1;                   // NOT: 1111 0101 (bitwise inverse)\nc3 = c1 ^ c2;               // XOR: 0000 1000\n</code></pre> <p>You can also use compound assignment operators for clarity: <pre><code>c3 += 2;  // Instead of: c3 = c3 + 2\n</code></pre></p>"},{"location":"AR250310/#character-status-flags","title":"Character Status Flags","text":"<p>Use a single variable to hold multiple flags.</p> <pre><code>unsigned long long CharStat = 0;\n\nCharStat |= ATT_UP;\nCharStat |= DEF_UP;\nCharStat |= DEX_UP;\nCharStat |= SPEED_UP;\n</code></pre> <p>Check if a flag is set: <pre><code>if (CharStat &amp; DEF_UP) {\n    // DEF_UP is active\n}\n</code></pre></p> <p>Remove a flag using XOR (toggles the bit): <pre><code>if (CharStat &amp; SPEED_UP) {\n    CharStat ^= SPEED_UP;\n}\n</code></pre></p> <p>Forcefully clear a flag using AND with NOT: <pre><code>CharStat &amp;= ~SPEED_UP; // Clear SPEED_UP\n</code></pre></p> <p>Re-apply a predefined buff combination: <pre><code>CharStat |= EVENT_POTION;\n</code></pre></p>"},{"location":"AR250310/#tricky-case-signed-vs-unsigned-shift","title":"Tricky Case: Signed vs Unsigned Shift","text":"<p>Avoid right-shifting signed integers, as the behavior of sign bit propagation may differ between platforms.</p> <pre><code>char c = -1;\nc = c &gt;&gt; 1; // May retain sign bit (platform-dependent)\n\n// Use unsigned instead:\nunsigned char c = -1; // Interpreted as 255\nc = c &gt;&gt; 1;           // Safe right shift\n</code></pre>"},{"location":"AR250310/#interview-questions","title":"Interview Questions","text":"<p>Q: Why use <code>unsigned</code> types with bitwise operations? A: Signed types may cause platform-dependent behavior during right shifts and logical operations due to sign bit extension. Unsigned ensures consistent results.</p> <p>Q: What??\uc172 the difference between <code>|</code>, <code>^</code>, and <code>&amp;</code>? A: <code>|</code> sets bits, <code>&amp;</code> checks or clears bits, <code>^</code> toggles bits. Used with bit masks to manipulate flags.</p> <p>Q: How do you clear a specific bit in a bitmask? A: Use <code>bitmask &amp;= ~BIT_FLAG;</code> to forcefully turn off the bit.</p> <p>Q: When should you use macros vs <code>const</code> or <code>enum</code>? A: Use macros for preprocessor control or platform-specific conditions. Prefer <code>const</code> or <code>enum class</code> for type safety in C++.</p>"},{"location":"AR250310/#visual-bit-flag-example","title":"Visual: Bit Flag Example","text":"<pre><code>Initial:        0000 0000\n+ATT_UP:        0000 0001\n+DEF_UP:        0000 0011\n+DEX_UP:        0000 0111\n+SPEED_UP:      0000 1111\n~SPEED_UP:      1111 0111 (Mask)\n</code></pre>"},{"location":"AR250310/#references","title":"References","text":"<ul> <li>data_type.cpp</li> <li>bit_operator.cpp</li> </ul>"},{"location":"AR250311/","title":"Local Variables, Arrays, &amp; Loops","text":""},{"location":"AR250311/#date-2025-03-11","title":"Date: 2025-03-11","text":""},{"location":"AR250311/#key-points","title":"Key Points","text":"<ul> <li>Local variables are scoped to blocks and their lifetime ends with the block.</li> <li>Variable name collisions in nested scopes cause ambiguity.</li> <li>Arrays occupy continuous memory; their name points to the starting address.</li> <li>Use <code>sizeof()</code> to determine array size in memory.</li> <li>Loops allow repetitive execution of code blocks; be cautious of infinite loops.</li> <li><code>break</code> exits a loop immediately; <code>continue</code> skips the current iteration.</li> </ul>"},{"location":"AR250311/#overview","title":"Overview","text":"<p>This example introduces basic concepts in C++, including: - Local variable scoping - Arrays and memory layout - Control flow using <code>while</code>, <code>for</code>, and nested loops</p> <p>We also touch on size evaluation using <code>sizeof()</code> and demonstrate a star-pattern using nested loops.</p>"},{"location":"AR250311/#local-variables-and-scope","title":"Local Variables and Scope","text":"<p>Variables declared inside functions are local. Re-declaring a variable name in a nested scope creates ambiguity if not managed properly:</p> <pre><code>int a1 = 0;\n{\n    int a1 = 0; // Hides outer a1\n    a1 = 10;\n    {\n        int a1 = 0; // Hides above a1\n    }\n}\na1 = 10; // Refers to the outermost a1\n</code></pre> <p>Variables declared in a scope are destroyed once the block ends, but the memory might not be immediately released.</p>"},{"location":"AR250311/#arrays-in-c","title":"Arrays in C++","text":"<p>Arrays consist of elements stored in contiguous memory. The array name represents the starting address.</p> <pre><code>int Arr[10] = {1, 2}; // Remaining elements initialized to 0\n\nArr[0] = 10;\nArr[1] = 20;\nArr[9] = 100;\n\nint data = Arr[9]; // Accessing the last element\n</code></pre>"},{"location":"AR250311/#size-calculation","title":"Size Calculation","text":"<pre><code>int size = sizeof(Arr);             // Total byte size\nint ArrCount = sizeof(Arr) / sizeof(int); // Number of elements\n</code></pre>"},{"location":"AR250311/#loops","title":"Loops","text":""},{"location":"AR250311/#while-loop","title":"While Loop","text":"<pre><code>int Count = 0;\nwhile (Count &lt; 4) {\n    ++Count;\n}\n</code></pre>"},{"location":"AR250311/#infinite-loop-with-break","title":"Infinite Loop with <code>break</code>","text":"<pre><code>int C = 0;\nwhile (1) {\n    ++C;\n    if (C == 4) break;\n}\n</code></pre>"},{"location":"AR250311/#for-loop-with-commented-game-logic","title":"For Loop with Commented Game Logic","text":"<pre><code>for (int Count = 0; Count &lt; 4; ++Count) {\n    // if (Object[Count]-&gt;IsMonster()) {\n    //     SetDamage(Object[Count]);\n    // } else {\n    //     continue;\n    // }\n}\n</code></pre>"},{"location":"AR250311/#populating-array-with-loop","title":"Populating Array with Loop","text":"<pre><code>for (int i = 0; i &lt; ArrCount; ++i) {\n    Arr[i] = (i + 1) * 10;\n    printf(\"Output\\n\");\n}\n</code></pre>"},{"location":"AR250311/#nested-loop-triangle-star-pattern","title":"Nested Loop: Triangle Star Pattern","text":"<p><pre><code>int Num = 5;\nfor (int j = 0; j &lt; Num; ++j) {\n    for (int i = 0; i &lt; (j + 1); ++i) {\n        printf(\"*\");\n    }\n    printf(\"\\n\");\n}\n</code></pre> This prints: <pre><code>*\n**\n***\n****\n*****\n</code></pre></p>"},{"location":"AR250311/#homework-tip","title":"Homework Tip","text":"<p>Print a balanced tree star pattern using nested loops and space alignment: <pre><code>    *\n   * *\n  * * *\n * * * *\n* * * * *\n</code></pre> Use careful spacing before the <code>*</code> in each row.</p>"},{"location":"AR250311/#sample-interview-questions","title":"Sample Interview Questions","text":"<p>Q: What happens if you declare a variable with the same name in an inner scope? A: It hides the outer variable. Only the innermost declared variable is visible within its scope.</p> <p>Q: How do arrays behave in memory? A: Array elements are stored in contiguous memory blocks. The array name acts as the pointer to its first element.</p> <p>Q: What is the difference between <code>break</code> and <code>continue</code> in a loop? A: <code>break</code> exits the loop immediately; <code>continue</code> skips to the next iteration.</p> <p>Q: Why is <code>sizeof</code> useful in loops? A: It helps calculate the number of elements in a statically declared array, which avoids hardcoding loop limits.</p>"},{"location":"AR250311/#references","title":"References","text":"<ul> <li>Array_Iteration.cpp</li> </ul>"},{"location":"AR250312/","title":"Structs and Functions","text":""},{"location":"AR250312/#date-2025-03-12","title":"Date: 2025-03-12","text":""},{"location":"AR250312/#key-points","title":"Key Points","text":"<ul> <li>Structs in C++ can include both variables and functions.</li> <li><code>typedef</code> can simplify type declarations and increase readability.</li> <li>Structs can be nested to represent composite data.</li> <li>Functions modularize logic and support code reuse.</li> <li>Default function arguments simplify function calls.</li> </ul>"},{"location":"AR250312/#overview","title":"Overview","text":"<p>Structs in C and C++ allow the creation of user-defined data types. C++ enhances struct capabilities by allowing member functions. Structs are crucial for organizing related variables under a single composite type.</p> <p>Functions in C++ help break down logic into reusable blocks. They support return types, parameters, and default arguments for flexible usage.</p> <pre><code>// Simple struct with member variables\nstruct MyType {\n    int I;\n    float F;\n};\n\n// Nested struct example\nstruct NewType {\n    MyType type;\n    int Age;\n    int Height;\n};\n\n// C-style struct with typedef\ntypedef struct Player {\n    int MaxHP;\n    int CurHP;\n    int Att;\n    int Def;\n    int Dex;\n    int Agi;\n    int Int;\n} PLAYER;\n</code></pre>"},{"location":"AR250312/#typedef-and-aliasing","title":"Typedef and Aliasing","text":"<p><code>typedef</code> simplifies complex type declarations. It helps improve readability and maintainability.</p> <pre><code>typedef int INT;\ntypedef int SIZE;\ntypedef int TIME;\n\nINT a = 0;\nSIZE b = 0;\nTIME c = 0;\n</code></pre> <p>You can also typedef structs:</p> <pre><code>typedef struct Monster {\n    int i;\n    char c;\n    short s;\n} MONSTER;\n\nMonster n = {};\nMONSTER m = {};\n</code></pre>"},{"location":"AR250312/#code-demonstration-struct-usage","title":"Code Demonstration: Struct Usage","text":"<pre><code>int main() {\n    struct Player p;   // C-style declaration\n    PLAYER p1;         // Typedef alias\n\n    struct MyType t1;\n    MyType t;\n\n    t.I = 100;\n    t.F = 1.1111f;\n\n    int size = sizeof(MyType);  // size of the struct\n\n    return 0;\n}\n</code></pre>"},{"location":"AR250312/#functions-in-c","title":"Functions in C++","text":"<p>Functions modularize code, allowing you to write logic once and reuse it. Default parameters provide flexibility for function calls.</p> <pre><code>// Function with a default argument\nint Add(int _a, int _b, int _c = 0) {\n    int c = _a + _b;\n    return c;\n}\n\n// Function with void return type\nvoid TestFunc() {\n    return;  // ends function execution early\n}\n</code></pre> <p>Calling a function with fewer arguments uses the default:</p> <pre><code>int main() {\n    int Data = Add(10, 20);  // _c defaults to 0\n    return 0;\n}\n</code></pre>"},{"location":"AR250312/#tricky-case-typedef-confusion","title":"Tricky Case: Typedef Confusion","text":"<p>Issue: Mixing C-style and C++-style struct names can confuse beginners.</p> <pre><code>typedef struct Monster {\n    int i;\n    char c;\n    short s;\n} MONSTER;\n\nMonster n = {};  // Using the struct name\nMONSTER m = {};  // Using the typedef alias\n</code></pre> <p>Both <code>Monster</code> and <code>MONSTER</code> refer to the same structure type, which can cause ambiguity in naming conventions.</p>"},{"location":"AR250312/#interview-questions","title":"Interview Questions","text":"<p>Q: What's the difference between <code>struct</code> in C and C++? A: In C, <code>struct</code> only supports data members. In C++, structs can have functions, constructors, destructors, and access specifiers (default is public).</p> <p>Q: What is the use of <code>typedef</code> in C++? A: It creates aliases for types, making code easier to read and manage, especially for complex types like structs or function pointers.</p> <p>Q: How do default arguments in functions work? A: They allow omission of arguments during function calls. Defaults must be provided from right to left in the parameter list.</p> <p>Q: Can <code>typedef</code> be replaced in modern C++? A: Yes, <code>using</code> is preferred in modern C++ for type aliasing.</p>"},{"location":"AR250312/#visual-struct-with-nested-members","title":"Visual: Struct with Nested Members","text":"<pre><code>MyType\n------\nI : int\nF : float\n\nNewType\n--------\ntype   : MyType\nAge    : int\nHeight : int\n</code></pre>"},{"location":"AR250312/#references","title":"References","text":"<ul> <li>array_iteration.cpp</li> <li>switch_case.cpp</li> <li>struct.cpp</li> <li>function.cpp</li> </ul>"},{"location":"AR250313/","title":"Recursion and Function Mechanics","text":""},{"location":"AR250313/#date-2025-03-13","title":"Date: 2025-03-13","text":""},{"location":"AR250313/#key-points","title":"Key Points","text":"<ul> <li>Recursion involves a function calling itself.</li> <li>Recursive functions must include a termination condition to prevent infinite calls.</li> <li>Iterative approaches can replace recursion for performance.</li> <li>Local variables are stored in the stack during function calls.</li> <li>Stack overflow can occur if recursion is too deep or unbounded.</li> </ul>"},{"location":"AR250313/#overview","title":"Overview","text":"<p>Functions in C++ are modular blocks of code that perform a specific task. Understanding how they work at runtime and how memory is allocated during execution is essential for debugging and optimizing performance. Recursive functions, in particular, are elegant for solving hierarchical problems but require careful handling.</p>"},{"location":"AR250313/#iterative-factorial-function","title":"Iterative Factorial Function","text":"<pre><code>// Calculates N! using iteration\nint Factorial(int _N)\n{\n    int Value = 1;\n\n    for (int i = 0; i &lt; _N - 1; ++i)\n    {\n        Value *= (i + 2);\n    }\n\n    return Value;\n}\n</code></pre> <p>This function computes factorial using a for-loop, multiplying from 2 to N. It avoids stack usage beyond the function call.</p>"},{"location":"AR250313/#recursive-factorial-function","title":"Recursive Factorial Function","text":"<pre><code>// Calculates N! using recursion\nint Factorial_Recursion(int _N)\n{\n    if (_N == 1)\n        return 1;\n\n    return Factorial_Recursion(_N - 1) * _N;\n}\n</code></pre> <p>This approach uses the call stack to solve the problem. It's more readable but can lead to stack overflow for large values.</p>"},{"location":"AR250313/#power-function-iterative","title":"Power Function (Iterative)","text":"<pre><code>int Pow(int _a, int _b)\n{\n    int Value = 1;\n\n    for (int i = 0; i &lt; _b; ++i)\n    {\n        Value *= _a;\n    }\n\n    return Value;\n}\n</code></pre> <p>Raises <code>_a</code> to the power <code>_b</code> using a loop. Simple and avoids recursive overhead.</p>"},{"location":"AR250313/#infinite-recursion-example-caution","title":"Infinite Recursion Example (Caution!)","text":"<pre><code>void NewFunc(int a)\n{\n    NewFunc(100);  // No termination -&gt; infinite recursion!\n}\n</code></pre> <p>This function continuously calls itself with a constant value. Without a base case, it causes a stack overflow.</p>"},{"location":"AR250313/#function-call-mechanics","title":"Function Call Mechanics","text":"<ul> <li>Each function call uses a new stack frame.</li> <li>Local variables reside in the stack.</li> <li>Stack grows with each recursive call until the base case is reached or overflow occurs.</li> </ul> <pre><code>int main()\n{\n    int i = Pow(2, 4);       // 16\n    i = Pow(10, 4);          // 10000\n\n    int c = 10;\n    c = 20;\n\n    NewFunc(100);            // Infinite recursion: stack overflow\n\n    return 0;\n}\n</code></pre> <p>Use breakpoints and step execution to observe the stack behavior during debugging.</p>"},{"location":"AR250313/#debugging-tips","title":"Debugging Tips","text":"<ul> <li>F5: Start/continue debugging</li> <li>F9: Toggle breakpoint</li> <li>F10: Step over (function as a block)</li> <li>F11: Step into (enter function call)</li> <li>Ctrl + Shift + F9: Clear all breakpoints</li> </ul> <p>These commands help you trace function execution and understand stack changes.</p>"},{"location":"AR250313/#interview-questions","title":"Interview Questions","text":"<p>Q: What is a recursive function? A: A function that calls itself to solve a subproblem.</p> <p>Q: What are the dangers of recursion? A: Infinite recursion can cause a stack overflow if there's no proper termination condition.</p> <p>Q: Can all recursive logic be written iteratively? A: Yes, but sometimes recursion improves readability, especially for tree and graph problems.</p> <p>Q: Why is the stack important in recursion? A: Each recursive call stores its context (variables, return address) on the stack.</p>"},{"location":"AR250313/#tricky-case-recursion-vs-iteration","title":"Tricky Case: Recursion vs Iteration","text":"<p>Recursive code: <pre><code>int Factorial_Recursion(int n) {\n    if (n == 1) return 1;\n    return Factorial_Recursion(n - 1) * n;\n}\n</code></pre></p> <p>Equivalent iterative code: <pre><code>int Factorial(int n) {\n    int result = 1;\n    for (int i = 2; i &lt;= n; ++i)\n        result *= i;\n    return result;\n}\n</code></pre></p> <p>Prefer the iterative approach if performance and stack safety are priorities.</p>"},{"location":"AR250313/#references","title":"References","text":"<ul> <li>array_iteration.cpp</li> <li>recursion.cpp</li> <li>function_call.cpp</li> </ul>"},{"location":"AR250317/","title":"Recursion and Static Variables","text":""},{"location":"AR250317/#date-2025-03-17","title":"Date: 2025-03-17","text":""},{"location":"AR250317/#key-points","title":"Key Points","text":"<ul> <li>Recursive functions must include a termination condition.</li> <li>Iterative and recursive versions of algorithms (e.g., Fibonacci) often differ in efficiency.</li> <li>Static variables inside functions retain values across calls.</li> <li>Global and local variables with the same name prioritize local scope.</li> <li>Use <code>::</code> to explicitly access global variables.</li> <li>Global, static, and external variables reside in the data segment, not on the stack.</li> </ul>"},{"location":"AR250317/#overview","title":"Overview","text":"<p>This note covers fundamental concepts in C++ involving recursion, Fibonacci sequence implementations, and different types of variables (local, global, static, and extern). The examples illustrate usage patterns and potential tricky cases.</p>"},{"location":"AR250317/#recursive-function-example","title":"Recursive Function Example","text":"<p><pre><code>void TestFunc(int _a)\n{\n    if (_a == 1)    // Termination condition\n        return;\n\n    TestFunc(_a - 1);  // Recursive call\n}\n</code></pre> This simple recursive function calls itself until <code>_a</code> reaches 1.</p>"},{"location":"AR250317/#fibonacci-sequence","title":"Fibonacci Sequence","text":""},{"location":"AR250317/#iterative-version","title":"Iterative Version","text":"<p><pre><code>int Fibonacci(int _N)\n{\n    if (_N == 1 || _N == 2)\n        return 1;\n\n    int n1 = 1;\n    int n2 = 1;\n    int Value = 0;\n\n    for (int i = 0; i &lt; _N - 2; ++i)\n    {\n        Value = n1 + n2;\n        n1 = n2;\n        n2 = Value;\n    }\n    return Value;\n}\n</code></pre> The iterative version avoids stack overhead and performs better.</p>"},{"location":"AR250317/#recursive-version","title":"Recursive Version","text":"<p><pre><code>int Fibonacci_Re(int _N)\n{\n    if (_N == 1 || _N == 2)\n        return 1;\n\n    return Fibonacci_Re(_N - 1) + Fibonacci_Re(_N - 2);\n}\n</code></pre> This version is intuitive but inefficient due to repeated calculations.</p>"},{"location":"AR250317/#variable-scopes-and-types","title":"Variable Scopes and Types","text":""},{"location":"AR250317/#global-variable","title":"Global Variable","text":"<p><pre><code>int g_A = 0;  // Global variable declared in data segment\n</code></pre> Always exists during program execution. Avoid name collisions.</p>"},{"location":"AR250317/#static-variable-inside-function","title":"Static Variable Inside Function","text":"<p><pre><code>int Test()\n{\n    static int StaticParam = 0;  // Retains value across calls\n    ++StaticParam;\n    return StaticParam;\n}\n</code></pre> <code>StaticParam</code> is initialized once and keeps its value between function calls.</p>"},{"location":"AR250317/#local-vs-global-scope","title":"Local vs Global Scope","text":"<p><pre><code>int Test()\n{\n    int g_A = 0;      // Local variable with same name as global\n    g_A = 100;        // Refers to local g_A\n    ++::g_A;          // Refers to global g_A using scope resolution\n    return ::g_A;\n}\n</code></pre> Local variable hides the global one unless the global is explicitly accessed via <code>::</code>.</p>"},{"location":"AR250317/#tricky-case-static-variables-and-side-effects","title":"Tricky Case: Static Variables and Side Effects","text":"<p>Calling a function with static variables multiple times results in state accumulation:</p> <p><pre><code>Test();  // StaticParam becomes 1\nTest();  // StaticParam becomes 2\nint Count = Test();  // StaticParam becomes 3, Count = 3\n</code></pre> This makes functions impure and not thread-safe. Use caution in multithreaded or state-dependent scenarios.</p>"},{"location":"AR250317/#interview-questions","title":"Interview Questions","text":"<p>Q: What is the difference between a static and global variable? A: Both are stored in the data segment and retain values for the program's lifetime, but static variables are only visible in the scope where they are declared.</p> <p>Q: How does tail recursion differ from regular recursion? A: In tail recursion, the recursive call is the last operation, allowing the compiler to optimize it into a loop.</p> <p>Q: What happens if a local variable has the same name as a global one? A: The local variable takes precedence. Use <code>::</code> to access the global variable explicitly.</p> <p>Q: Why avoid recursion for large inputs? A: Recursion can cause stack overflows and is generally less efficient than iteration for large input sizes.</p>"},{"location":"AR250317/#code-demonstration","title":"Code Demonstration","text":"<pre><code>#include &lt;stdio.h&gt;\n\nint g_A = 0;\n\nint Test()\n{\n    static int StaticParam = 0;\n    ++StaticParam;\n    ++::g_A;\n    return ::g_A;\n}\n\nint main()\n{\n    int Arr[100] = {};\n    g_A = 20;\n\n    Test();  // g_A becomes 21\n    Test();  // g_A becomes 22\n    int Count = Test();  // g_A becomes 23, Count = 23\n\n    return 0;\n}\n</code></pre>"},{"location":"AR250317/#visual-variable-scopes","title":"Visual: Variable Scopes","text":"Variable Type Memory Area Lifetime Scope Local Stack Until function ends Current function Global Data Segment Entire program All files (unless static) Static (local) Data Segment Entire program Declaring function only External Data Segment Entire program Across files (with <code>extern</code>)"},{"location":"AR250317/#references","title":"References","text":"<ul> <li>recursion2.cpp</li> <li>variable_types.cpp</li> </ul>"},{"location":"AR250318/","title":"Global and Static Variables","text":""},{"location":"AR250318/#date-2025-03-18","title":"Date: 2025-03-18","text":""},{"location":"AR250318/#key-points","title":"Key Points","text":"<ul> <li><code>extern</code> declares a global variable without defining it.</li> <li><code>static</code> at global scope makes the variable local to the file (translation unit).</li> <li>Duplicate global variable definitions across files cause linker errors.</li> <li>Global variables should be used carefully to avoid name conflicts and side effects.</li> </ul>"},{"location":"AR250318/#overview","title":"Overview","text":"<p>This code sample illustrates how global and static variables behave across translation units in C++. It also covers the role of <code>extern</code>, the risks of duplicate global variable definitions, and file-local static global variables.</p>"},{"location":"AR250318/#header-file-funch","title":"Header File: <code>func.h</code>","text":"<pre><code>#pragma once\n\nint Add(int a, int b);\nint Sub(int a, int b);\nint Mul(int a, int b);\nint Div(int a, int b);\nint Func();\n\n// Declares that an int global variable named g_A exists somewhere.\nextern int g_A;\n\n// Defines a static global variable unique to each file including this header.\nstatic int g_NewStatic = 0;\n\n// Uncommenting the below line would define a global variable in every file including func.h, leading to linker errors.\n// int g_GlobalParam = 0;\n```~~~~\n\n### Source File 1: `func.cpp`\n\n```cpp\n#include \"func.h\"\n\n// File-local global variable\nstatic int g_Global = 0;\n\n// Use of externally declared variable\nextern int g_A;\n\nint Add(int a, int b)\n{\n    g_Global = 10; // modifies local static global\n    g_A = 200;     // modifies shared global declared with extern\n    return a + b;\n}\n\nint Sub(int a, int b) { return a - b; }\nint Mul(int a, int b) { return a * b; }\nint Div(int a, int b) { return a / b; }\nint Func() { return 0; }\n</code></pre>"},{"location":"AR250318/#source-file-2-maincpp","title":"Source File 2: <code>main.cpp</code>","text":"<pre><code>#include \"func.h\"\n\n// File-local global\nstatic int g_Global = 0;\n\n// Definition of global variable declared with extern\nint g_A = 0;\n\nint main()\n{\n    // Local static variable: retains value across function calls\n    static int iStatic = 0;\n\n    g_Global = 200;  // refers to file-local static variable\n    // g_A = 100;    // modifies global variable shared across files\n\n    int i = 0;\n    i = Add(1, 9);\n    i = Sub(1, 9);\n    i = Mul(1, 9);\n    i = Div(1, 9);\n    Func();\n\n    return 0;\n}\n</code></pre>"},{"location":"AR250318/#tricky-cases","title":"Tricky Cases","text":""},{"location":"AR250318/#1-static-global-variable","title":"1. Static Global Variable","text":"<p>A static global variable like <code>static int g_Global</code> is only visible to the file where it's defined. Both <code>func.cpp</code> and <code>main.cpp</code> have their own <code>g_Global</code>, which do not conflict.</p>"},{"location":"AR250318/#2-extern-global-variable","title":"2. Extern Global Variable","text":"<p><code>extern int g_A;</code> in <code>func.h</code> tells other files about a global variable defined elsewhere. In <code>main.cpp</code>, <code>int g_A = 0;</code> provides the actual definition. This shared global can be modified in any file including <code>func.h</code>.</p>"},{"location":"AR250318/#3-global-variable-in-header-file","title":"3. Global Variable in Header File","text":"<p>Declaring a global variable directly in a header like <code>int g_GlobalParam = 0;</code> (commented out in the sample) causes a new definition in every file that includes it?\ubd31esulting in multiple definitions and linker errors.</p>"},{"location":"AR250318/#sample-interview-questions","title":"Sample Interview Questions","text":"<p>Q: What does <code>static</code> do to a global variable? A: It limits the variable's linkage to the current translation unit (source file), making it file-local.</p> <p>Q: What happens if you define a global variable in a header file and include it in multiple source files? A: Each source file gets its own definition, leading to a multiple definition linker error.</p> <p>Q: How does <code>extern</code> help in managing global variables? A: <code>extern</code> declares a variable without defining it, allowing shared access across files if it's defined once elsewhere.</p> <p>Q: Can two source files define a static global variable with the same name? A: Yes, because each static global is local to its file; they won't interfere with each other.</p>"},{"location":"AR250318/#summary","title":"Summary","text":"<ul> <li>Use <code>extern</code> in headers for shared globals, define them only once in a <code>.cpp</code> file.</li> <li>Use <code>static</code> for file-local globals to avoid conflicts.</li> <li>Never define non-static globals directly in headers.</li> <li>Carefully manage visibility and linkage to prevent subtle bugs and linker errors.</li> </ul> <p>These behaviors are essential when working on large C++ projects with multiple source files.</p>"},{"location":"AR250318/#references","title":"References","text":"<ul> <li>func.cpp</li> <li>func.h</li> <li>main.cpp</li> </ul>"},{"location":"AR250319/","title":"Pointer Basics and Function Overloading","text":""},{"location":"AR250319/#date-2025-03-19","title":"Date: 2025-03-19","text":""},{"location":"AR250319/#key-points","title":"Key Points","text":"<ul> <li>Pointers store memory addresses; their size is typically 8 bytes on modern systems.</li> <li><code>&amp;</code> retrieves a variable's address, <code>*</code> dereferences a pointer.</li> <li><code>void*</code> is a generic pointer type, but cannot be dereferenced directly.</li> <li>Pointer arithmetic depends on the pointer's data type.</li> <li>Arrays and pointers are closely related; array indexing uses pointer arithmetic.</li> <li>Function overloading allows multiple functions with the same name but different signatures.</li> </ul>"},{"location":"AR250319/#overview","title":"Overview","text":"<p>This code snippet covers fundamental C++ concepts including pointer usage, function overloading, pointer casting, and memory operations using external functions like <code>MemSet</code> and <code>MemMove</code>.</p> <p>Let's walk through the details.</p>"},{"location":"AR250319/#function-overloading-in-c","title":"Function Overloading in C++","text":"<p>Function overloading allows the same function name to be used with different parameter lists.</p> <pre><code>int Test(int _a) {\n    return 10;\n}\n\nvoid Test(float _f) {\n}\n\nvoid Test(int _a, int _b = 0) {\n}\n\nint main() {\n    Test(1.1f);    // Calls void Test(float)\n    Test(10, 20);  // Calls void Test(int, int)\n    return 0;\n}\n</code></pre>"},{"location":"AR250319/#tricky-case-default-parameters-and-overloading","title":"Tricky Case: Default Parameters and Overloading","text":"<p>Be cautious when using default parameters with overloaded functions??\ubd33hey can lead to ambiguity.</p>"},{"location":"AR250319/#pointer-fundamentals","title":"Pointer Fundamentals","text":"<p>Pointers are variables that store memory addresses.</p> <pre><code>int i = 0;\nchar c = 0;\nshort s = 0;\n\nint*   pI = 0;\nchar*  pC = 0;\nshort* pS = 0;\n\npI = &amp;i;\npC = &amp;c;\npS = &amp;s;\n\n*pI = 10;\n*pC = 20;\n*pS = 30;\n</code></pre> <p>Declaring a pointer with a type (e.g., <code>int*</code>) defines how the memory at that address will be interpreted.</p>"},{"location":"AR250319/#pointer-casting","title":"Pointer Casting","text":"<pre><code>pI = (int*)&amp;c;\npC = (char*)&amp;i;\n</code></pre> <p>This forces interpretation of memory as another type. Use with caution??\ubd27t bypasses type safety.</p>"},{"location":"AR250319/#void-pointers","title":"Void Pointers","text":"<pre><code>void* pVoid = 0;\npVoid = &amp;i;\npVoid = &amp;c;\npVoid = &amp;s;\n</code></pre> <p><code>void*</code> can store any address but must be cast to another type before dereferencing.</p> <pre><code>// Invalid:\n// pS = pVoid;\n</code></pre>"},{"location":"AR250319/#memory-utilities","title":"Memory Utilities","text":"<p>Assuming the following external functions:</p> <pre><code>void MemSet(void* _pData, int _Size);\nvoid MemMove(void* _pData, int _Size, void* _Src);\n</code></pre>"},{"location":"AR250319/#example-usage","title":"Example Usage","text":"<pre><code>short arr[10];\nMemSet(arr, 20);\n\nint k;\nMemSet(&amp;k, sizeof(int));\n\nint iArr[10] = { 1,2,3,4,5,6,7,8,9,10 };\nint iArrOther[10] = {};\nMemMove(iArrOther, sizeof(int) * 10, iArr);\n</code></pre>"},{"location":"AR250319/#pointer-arithmetic","title":"Pointer Arithmetic","text":"<pre><code>int* pInt = 0;\npInt += 1;  // Moves pointer by sizeof(int)\n\nshort* pShort = 0;\npShort += 1;  // Moves pointer by sizeof(short)\n</code></pre> <p>The increment steps over a number of bytes depending on the type.</p>"},{"location":"AR250319/#array-and-pointer-relationship","title":"Array and Pointer Relationship","text":"<pre><code>int iTest[5] = {};\npInt = iTest;\n\npInt[0] = 1;  // *(pInt + 0)\npInt[1] = 2;  // *(pInt + 1)\n</code></pre> <p>Array indexing is syntactic sugar for pointer arithmetic.</p>"},{"location":"AR250319/#interview-questions","title":"Interview Questions","text":"<p>Q: What is a pointer in C++? A: A pointer is a variable that stores the memory address of another variable.</p> <p>Q: Can you dereference a void pointer? A: No, a <code>void*</code> must first be cast to a specific type before dereferencing.</p> <p>Q: How is pointer arithmetic affected by the data type? A: The pointer moves in steps of the size of the data type it points to (e.g., <code>int*</code> moves 4 bytes, <code>short*</code> moves 2 bytes).</p> <p>Q: What's the relationship between arrays and pointers? A: An array name is effectively a pointer to its first element. Array indexing uses pointer arithmetic under the hood.</p> <p>Q: What is the purpose of function overloading? A: Function overloading allows multiple functions with the same name to coexist as long as their signatures differ.</p>"},{"location":"AR250319/#visual-pointer-arithmetic","title":"Visual: Pointer Arithmetic","text":"<pre><code>int* pInt = 0;\npInt += 1;\n\nBefore: pInt = 0x1000\nAfter : pInt = 0x1004 (assuming int = 4 bytes)\n</code></pre> <p>Keep these principles in mind when dealing with pointers.  They're powerful but error-prone if misused.  Use pointer casting and void pointers with caution,  and always be aware of type sizes when doing arithmetic.</p>"},{"location":"AR250319/#references","title":"References","text":"<ul> <li>pointer.cpp</li> <li>function_overloading.cpp</li> <li>MemSet.cpp</li> </ul>"},{"location":"AR250320/","title":"Constexpr, Const, Volatile, and Pointer Fundamentals","text":""},{"location":"AR250320/#date-2025-03-20","title":"Date: 2025-03-20","text":""},{"location":"AR250320/#key-points","title":"Key Points","text":"<ul> <li><code>const</code> prevents variable reassignment after initialization.</li> <li><code>volatile</code> disables compiler optimizations for variables that may change externally.</li> <li><code>constexpr</code> enforces compile-time constant evaluation.</li> <li>Modifying <code>const</code> or <code>constexpr</code> via pointer casting can lead to undefined behavior.</li> <li><code>nullptr</code> is a dedicated keyword for null pointers in C++.</li> <li>Double pointers allow pointer manipulation across functions.</li> <li><code>void*</code> pointers are type-agnostic and require size information for operations.</li> </ul>"},{"location":"AR250320/#overview","title":"Overview","text":"<p>Understanding <code>const</code>, <code>constexpr</code>, and <code>volatile</code> is crucial for writing safe and optimized C++ code. These keywords provide control over variable mutability and evaluation timing, and interact closely with pointer semantics. This note also explores pointer-related concepts like null pointers, double pointers, and low-level memory manipulation with <code>MemSet</code> and <code>MemMove</code> functions.</p>"},{"location":"AR250320/#const-volatile-and-constexpr","title":"Const, Volatile, and Constexpr","text":"<pre><code>volatile const int iConst = 100;\n//iConst = 200; // Error: cannot assign to a const\n\nvolatile const int* pData = &amp;iConst;\n//*pData = 200; // Error: pData is a pointer to const\n\nint* pData1 = (int*)&amp;iConst;\n*pData1 = 200; // Undefined behavior, bypasses const\n\nint k = iConst; // Might use cached register value if not volatile\n</code></pre>"},{"location":"AR250320/#why-volatile-matters","title":"Why <code>volatile</code> Matters","text":"<p>The compiler might optimize access to <code>iConst</code>, assuming it doesn't change. Using <code>volatile</code> forces re-evaluation every time, useful when memory might be modified outside of program control (e.g., hardware registers).</p>"},{"location":"AR250320/#constexpr-constants","title":"<code>constexpr</code> Constants","text":"<p><pre><code>volatile constexpr int iConstExpr = 100;\nint* pConstExpr = (int*)&amp;iConstExpr;\n*pConstExpr = 200; // Still undefined behavior\nint p = iConstExpr; // Always 100 at compile time\n</code></pre> <code>constexpr</code> requires compile-time evaluable expressions. It's stricter than <code>const</code> and allows compiler optimizations without runtime overhead.</p>"},{"location":"AR250320/#null-pointer-boolean-macros-and-pointer-safety","title":"Null Pointer, Boolean Macros, and Pointer Safety","text":""},{"location":"AR250320/#null-pointers","title":"Null Pointers","text":"<p><pre><code>int* pData = nullptr; // Safe null initialization\n</code></pre> Use <code>nullptr</code> to represent a pointer to no object. Avoid using <code>0</code> or <code>NULL</code> in modern C++.</p>"},{"location":"AR250320/#boolean-macros-c-style","title":"Boolean Macros (C-style)","text":"<p><pre><code>#define TRUE 1;\n#define FALSE 0;\n\nbool IsTrue = TRUE;\n</code></pre> C++ provides <code>true</code> and <code>false</code> as keywords. Macros like <code>TRUE</code>/<code>FALSE</code> are legacy from C.</p>"},{"location":"AR250320/#tricky-case-pointer-passing-and-double-pointers","title":"Tricky Case: Pointer Passing and Double Pointers","text":""},{"location":"AR250320/#accessing-local-variables-in-other-functions","title":"Accessing Local Variables in Other Functions","text":"<pre><code>void Test(int* _Data) {\n    *_Data = 10;\n}\n\nint i = 0;\nTest(&amp;i); // i is now 10\n</code></pre>"},{"location":"AR250320/#double-pointers-for-pointer-modification","title":"Double Pointers for Pointer Modification","text":"<p><pre><code>void Test(int** _Data) {\n    *_Data = nullptr;\n}\n\nint* pInt = (int*)1;\nTest(&amp;pInt); // pInt is now nullptr\n</code></pre> This is useful when you want to modify the pointer itself (not just the data it points to).</p>"},{"location":"AR250320/#memory-initialization-and-movement-with-void","title":"Memory Initialization and Movement with <code>void*</code>","text":"<p><pre><code>typedef unsigned char BYTE;\n\nvoid MemSet(void* _pData, int _Size) {\n    BYTE* pData = (BYTE*)_pData;\n    for (int i = 0; i &lt; _Size; ++i) {\n        pData[i] = 0;\n    }\n}\n\nvoid MemMove(void* _Dest, int _Size, void* _Src) {\n    BYTE* pDest = (BYTE*)_Dest;\n    BYTE* pSrc = (BYTE*)_Src;\n    for (int i = 0; i &lt; _Size; ++i) {\n        pDest[i] = pSrc[i];\n    }\n}\n</code></pre> These utility functions show how <code>void*</code> enables flexible memory manipulation. Use with care, as type safety is lost.</p>"},{"location":"AR250320/#interview-questions","title":"Interview Questions","text":"<p>Q: What is the difference between <code>const</code> and <code>constexpr</code>? A: <code>const</code> applies at runtime and allows runtime-initialized values. <code>constexpr</code> requires compile-time evaluable expressions and provides stronger optimization.</p> <p>Q: Why use <code>volatile</code> with a <code>const</code> variable? A: It prevents the compiler from optimizing out reads to the variable, ensuring the program always fetches the latest value.</p> <p>Q: What does <code>nullptr</code> represent and why use it over <code>0</code>? A: <code>nullptr</code> is a type-safe null pointer constant in C++11+, unlike <code>0</code> which can be ambiguous in overload resolution.</p> <p>Q: Why are double pointers used in C++? A: Double pointers (<code>T**</code>) allow functions to modify the original pointer passed to them, useful for reassigning memory or nullifying pointers.</p> <p>Q: What are the risks of casting away <code>const</code> using a pointer? A: It results in undefined behavior if the object was originally declared as <code>const</code>. Compilers may optimize assuming immutability.</p>"},{"location":"AR250320/#visual-const-volatile-and-pointer-interaction","title":"Visual: Const, Volatile, and Pointer Interaction","text":"<pre><code>Original Const Variable\n------------------------\niConst = 100\n\nPointer Access\n--------------\npData -&gt; [100]   // Safe read\npData1 -&gt; [200]  // Forced overwrite (UB)\n\nEffect on Compiler\n------------------\nWith volatile: Always re-reads value\nWithout volatile: Might cache value\n</code></pre>"},{"location":"AR250320/#references","title":"References","text":"<ul> <li>MemSet.cpp</li> <li>const, const pointer.cpp</li> <li>nullptr, double pointer.cpp</li> <li>pointer.cpp</li> </ul>"},{"location":"AR250320/#references_1","title":"References","text":"<ul> <li>const_const_pointer.cpp</li> <li>nullptr_double_pointer.cpp</li> <li>pointer_problem.cpp</li> </ul>"},{"location":"AR250324/","title":"Const Pointers and Type-Punning","text":""},{"location":"AR250324/#date-2025-03-24","title":"Date: 2025-03-24","text":""},{"location":"AR250324/#key-points","title":"Key Points","text":"<ul> <li><code>const int*</code> means a pointer to a constant value. You can read but not write.</li> <li><code>int* const</code> means a constant pointer to an int. You can modify the value but not reassign the pointer.</li> <li>When both <code>const</code> modifiers are used, the pointer cannot be reassigned or modify the target.</li> <li>Type punning using casts (<code>char*</code>, <code>int*</code>, etc.) must be done with caution due to strict aliasing rules.</li> <li>Use <code>const</code> correctness to ensure safer, more predictable code.</li> </ul>"},{"location":"AR250324/#overview","title":"Overview","text":"<p>Understanding <code>const</code> with pointers is essential in modern C++ for writing safe and efficient code. It allows expressing intent clearly and protects against unintended modification. Pointers themselves can be constant or point to constant data, and the position of <code>const</code> determines the behavior.</p>"},{"location":"AR250324/#pointer-to-constant-value","title":"Pointer to Constant Value","text":"<pre><code>const int a = 10; // Constant integer value\nconst int* pInt = &amp;a; // Pointer to a constant int\n\n// *pInt = 100; // Error: cannot modify through pInt\npInt = nullptr; // Allowed: pointer can point elsewhere\n</code></pre>"},{"location":"AR250324/#constant-pointer-to-variable","title":"Constant Pointer to Variable","text":"<pre><code>int j = 0;\nint* const pContInt = &amp;j; // Constant pointer to a variable\n\n*pContInt = 200; // Allowed: can modify the target\n// pContInt = nullptr; // Error: cannot change the pointer itself\n</code></pre>"},{"location":"AR250324/#constant-pointer-to-constant-value","title":"Constant Pointer to Constant Value","text":"<pre><code>const int* const pCCInt = &amp;j; // Read-only pointer and value\n\n// *pCCInt = 300;     // Error\n// pCCInt = nullptr;  // Error\n</code></pre>"},{"location":"AR250324/#const-safety-in-functions","title":"Const Safety in Functions","text":""},{"location":"AR250324/#safe-read-only-access","title":"Safe Read-Only Access","text":"<p><pre><code>void DataOutput(const int* _Data) {\n    printf(\"%d\\n\", *_Data);\n    // *_Data = 300; // Error: _Data points to a const\n}\n</code></pre> Passing a <code>const int*</code> ensures the function cannot modify the value it receives.</p>"},{"location":"AR250324/#type-punning-with-structs-and-pointers","title":"Type-Punning with Structs and Pointers","text":"<pre><code>struct MyType {\n    int   i;\n    short s;\n};\n\nMyType type = {10, 20};\nMyType* pType = &amp;type;\n\npType-&gt;i = 50;\npType-&gt;s = 60;\n</code></pre> <p>Accessing struct members through pointers is direct and efficient. Arrow <code>-&gt;</code> syntax is shorthand for dereferencing and accessing (<code>(*p).x</code>).</p>"},{"location":"AR250324/#pointer-size-and-type-awareness","title":"Pointer Size and Type Awareness","text":"<pre><code>int* pInt = nullptr;\nchar* pChar = nullptr;\n\nint Size = sizeof(int*); // Pointer size is typically 8 bytes on 64-bit systems\n</code></pre> <p>Pointers, regardless of the type they point to, usually have the same size on a given architecture.</p>"},{"location":"AR250324/#tricky-case-pointer-arithmetic-and-type-punning","title":"Tricky Case: Pointer Arithmetic and Type-Punning","text":""},{"location":"AR250324/#casting-char-to-int","title":"Casting <code>char[]</code> to <code>int*</code>","text":"<p><pre><code>char arrData[10] = {2, 4, 6, 8, 10, 12, 14, 16, 18, 20};\nint* pData = (int*)arrData;\npData += 2; // Advances by 2 * sizeof(int) bytes\n\nchar* pChar = (char*)pData;\nchar a = *pChar;\n</code></pre> Pointer arithmetic on a casted pointer can easily misalign data and lead to undefined behavior. Be careful when casting <code>char[]</code> to <code>int*</code>, especially when accessing or modifying memory.</p>"},{"location":"AR250324/#signed-vs-unsigned-char-interpretation","title":"Signed vs Unsigned Char Interpretation","text":"<p><pre><code>char CharData = -1;\n\nunsigned char* pUChar = (unsigned char*)&amp;CharData;\nchar* pChar = &amp;CharData;\n\nint intData = *pUChar; // Value: 255 (unsigned interpretation)\nintData = *pChar;      // Value: -1 (signed interpretation)\n</code></pre> Casting a signed <code>char</code> to <code>unsigned char</code> reveals how the same memory is interpreted differently. This is useful in low-level programming but must be used carefully.</p>"},{"location":"AR250324/#common-mistakes","title":"Common Mistakes","text":"<p>Mistake: Modifying <code>const</code> value through cast <pre><code>const int Data = 100;\nint* p = (int*)&amp;Data;\n*p = 200; // Undefined behavior\n</code></pre> Modifying a <code>const</code> value using a cast is undefined behavior. Avoid this in production code.</p> <p>Mistake: Confusing pointer const-ness <pre><code>int* const ptr = &amp;x; // Cannot change ptr itself\nconst int* ptr2 = &amp;x; // Cannot modify *ptr2\n</code></pre> Understand which part is <code>const</code> ??the pointer or the value ??to avoid bugs.</p>"},{"location":"AR250324/#interview-questions","title":"Interview Questions","text":"<p>Q: What's the difference between <code>const int*</code> and <code>int* const</code>? A: - <code>const int*</code>: pointer to const int ??can't modify the value. - <code>int* const</code>: const pointer to int ??can't change the pointer.</p> <p>Q: Can you cast away <code>const</code> and modify the value? A: Technically yes using <code>(int*)</code>, but doing so leads to undefined behavior and must be avoided.</p> <p>Q: What is <code>nullptr</code>? Why not just use 0 or NULL? A: <code>nullptr</code> (C++11) is a type-safe null pointer constant. Prevents overload ambiguity and improves readability.</p> <p>Q: What does <code>const int* const ptr</code> mean? A: Pointer is constant and points to a constant value. Neither the address nor the value can be changed.</p>"},{"location":"AR250324/#summary-table","title":"Summary Table","text":"Declaration Can Change Value Can Reassign Pointer <code>const int* ptr</code> No Yes <code>int* const ptr</code> Yes No <code>const int* const ptr</code> No No <p>This guide covers core behavior of <code>const</code> with pointers and tricky memory manipulation patterns using pointer casting. Mastering these concepts gives a solid foundation for deeper system-level C++ work.</p>"},{"location":"AR250324/#references","title":"References","text":"<ul> <li>MemSet.cpp</li> <li>const_pointer2.cpp</li> <li>struct+pointer.cpp</li> <li>pointer_problem.cpp</li> </ul>"},{"location":"AR250325/","title":"Custom String Utilities","text":""},{"location":"AR250325/#date-2025-03-25","title":"Date: 2025-03-25","text":""},{"location":"AR250325/#key-points","title":"Key Points","text":"<ul> <li>Custom functions like <code>StringCopy</code>, <code>StringCat</code>, <code>StringLen</code> mimic standard C-string utilities.</li> <li>Null-termination (<code>\\0</code>) is critical for proper string manipulation.</li> <li><code>ItoA</code> and <code>AtoI</code> provide manual int-to-string and string-to-int conversions.</li> <li><code>const char*</code> string literals reside in read-only memory (ROM).</li> <li>Writing to ROM-located string literals causes runtime errors.</li> </ul>"},{"location":"AR250325/#overview","title":"Overview","text":"<p>This study covers a set of hand-written C-style string utilities to better understand low-level memory manipulation and string processing in C++. These functions replicate behavior of standard C functions like <code>strcpy</code>, <code>strcat</code>, <code>strlen</code>, <code>itoa</code>, and <code>atoi</code>.</p>"},{"location":"AR250325/#implementations","title":"Implementations","text":""},{"location":"AR250325/#stringcopy","title":"<code>StringCopy</code>","text":"<p>Copies the content of <code>_Src</code> into <code>_Dest</code>, including the null terminator:</p> <pre><code>void StringCopy(char* _Dest, const char* _Src) {\n    int idx = 0;\n    while (_Src[idx] != 0) {\n        _Dest[idx] = _Src[idx];\n        ++idx;\n    }\n    _Dest[idx] = _Src[idx]; // Copy the null-terminator\n}\n</code></pre>"},{"location":"AR250325/#stringlen","title":"<code>StringLen</code>","text":"<p>Calculates the length of a string by counting until the null character:</p> <pre><code>int StringLen(const char* _Src) {\n    int Len = 0;\n    while (_Src[Len] != 0) {\n        ++Len;\n    }\n    return Len;\n}\n</code></pre>"},{"location":"AR250325/#stringcat","title":"<code>StringCat</code>","text":"<p>Appends <code>_Src</code> to the end of <code>_Dest</code>:</p> <pre><code>void StringCat(char* _Dest, const char* _Src) {\n    int DestLen = StringLen(_Dest);\n    int SrcLen = StringLen(_Src);\n\n    for (int i = 0; i &lt; SrcLen; ++i) {\n        _Dest[i + DestLen] = _Src[i];\n    }\n\n    _Dest[DestLen + SrcLen] = 0; // Null-terminate result\n}\n</code></pre>"},{"location":"AR250325/#itoa","title":"<code>ItoA</code>","text":"<p>Converts an integer to its ASCII string representation:</p> <pre><code>void ItoA(char* _Dest, int _Num) {\n    int Count = 0;\n    int Result = _Num;\n    while (true) {\n        Result /= 10;\n        ++Count;\n        if (Result == 0)\n            break;\n    }\n\n    for (int i = 0; i &lt; Count; ++i) {\n        _Dest[Count - (i + 1)] = (_Num % 10) + 48;\n        _Num /= 10;\n    }\n\n    _Dest[Count] = 0; // Null-terminate\n}\n</code></pre>"},{"location":"AR250325/#atoi","title":"<code>AtoI</code>","text":"<p>Converts a numeric string to its integer representation:</p> <pre><code>int AtoI(const char* _Src) {\n    int Count = StringLen(_Src);\n    int Value = 0;\n    for (int i = 0; i &lt; Count; ++i) {\n        Value *= 10;\n        Value += (_Src[i] - 48);\n    }\n    return Value;\n}\n</code></pre>"},{"location":"AR250325/#common-mistakes","title":"Common Mistakes","text":"<p>Modifying string literals</p> <pre><code>const char* pString = \"abcdef\";\npString[0] = 'z'; // Runtime error: attempting to modify ROM\n</code></pre> <p>Forgetting null-termination</p> <pre><code>char str[4] = {'1', '2', '3'}; // Missing null terminator!\n// String functions like strlen or strcpy may read past the end.\n</code></pre> <p>Incorrect array sizing</p> <pre><code>char buffer[4] = \"abcd\"; // Buffer overflow: needs 5 bytes (4 chars + null)\n</code></pre>"},{"location":"AR250325/#tricky-case-literal-vs-writable-strings","title":"Tricky Case: Literal vs. Writable Strings","text":"<pre><code>const char* literal = \"hello\"; // Stored in ROM (read-only)\nchar buffer[] = \"hello\";       // Stored in RAM (writable)\n\nliteral[0] = 'H'; // ??Runtime crash\nbuffer[0] = 'H';  // ??OK\n</code></pre> <p>Understanding the storage location and mutability of strings is key in avoiding subtle bugs.</p>"},{"location":"AR250325/#interview-questions","title":"Interview Questions","text":"<p>Q: Why can't we modify <code>const char*</code> literals? A: String literals are stored in ROM, which is read-only. Attempting to write causes undefined behavior or runtime errors.</p> <p>Q: How does manual <code>ItoA</code> work? A: It repeatedly divides the number by 10 to count digits, then fills the array from the end with ASCII character equivalents (<code>+48</code>).</p> <p>Q: What's a common mistake with <code>StringCat</code>? A: Not ensuring that <code>_Dest</code> has enough space to hold the combined result, potentially causing buffer overflows.</p> <p>Q: Difference between <code>char[]</code> and <code>const char*</code>? A: <code>char[]</code> is a writable local array. <code>const char*</code> may point to a literal in ROM?\ubd31ead-only memory.</p>"},{"location":"AR250325/#code-demonstration","title":"Code Demonstration","text":"<pre><code>char szSrc[100] = \"Copy\";\nchar szDest[100] = \"\";\nStringCopy(szDest, szSrc); // szDest == \"Copy\"\n\nchar szSrc1[100] = \"defg\";\nchar szDest1[100] = \"abc\";\nStringCat(szDest1, szSrc1); // szDest1 == \"abcdefg\"\n\nchar szNum[100] = {};\nItoA(szNum, 72543); // szNum == \"72543\"\n\nint value = AtoI(\"2452\"); // value == 2452\n</code></pre>"},{"location":"AR250325/#visual-string-concatenation","title":"Visual: String Concatenation","text":"<pre><code>Before Cat:\nDest: \"abc\"\nSrc:  \"def\"\n\nAfter Cat:\nDest: \"abcdef\"\n</code></pre>"},{"location":"AR250325/#summary","title":"Summary","text":"<p>These foundational string functions provide a great low-level look into memory layout, string processing, and manual type conversions in C++. Knowing their implementation helps reinforce understanding of pointers, arrays, and memory safety?\ubd22ssential skills for systems-level programming.</p>"},{"location":"AR250325/#references","title":"References","text":"<ul> <li>my_string.cpp</li> <li>my_string.h</li> <li>char_char_array.cpp</li> <li>char_and_pointer.cpp</li> </ul>"},{"location":"AR250326/","title":"Memory Layout and Static Variables","text":""},{"location":"AR250326/#date-2025-03-26","title":"Date: 2025-03-26","text":""},{"location":"AR250326/#key-points","title":"Key Points","text":"<ul> <li>Local variables reside in the stack segment.</li> <li>Global, static, and external variables live in the data segment.</li> <li><code>static</code> variables retain state across function calls.</li> <li>Heap memory is dynamically allocated during runtime.</li> <li>ROM includes constants, code, and string literals.</li> <li>Accessing static variables via pointers allows indirect manipulation.</li> <li>Dynamic allocation enables flexible memory usage.</li> </ul>"},{"location":"AR250326/#overview","title":"Overview","text":"<p>Understanding how different types of variables are stored in memory is crucial for writing efficient and bug-free C/C++ code. This includes knowing the distinctions between stack, data, heap, and ROM segments.</p> <p>This example demonstrates the use of various storage classes: local, global, static, and dynamic memory allocation. It also shows how to indirectly modify <code>static</code> variables declared within a function using pointers.</p> <pre><code>#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n\n// Global variable - stored in data segment\ntint global = 10;\nint g_Arr[10] = {}; // Global array - also in data segment\n\n// Custom data type defined by struct\nstruct MyDatType {\n    int arr[2];     // Two integer elements\n    float fArr[3];  // Three float elements\n};\n\n// Function that returns a pointer to a static variable\nint* Test() {\n    static int iStatic = 0; // Stored in data segment, retains value across calls\n\n    ++global;     // Modify global variable\n    ++iStatic;    // Modify static variable\n\n    return &amp;iStatic; // Return address to allow external modification\n}\n\nint main() {\n    // Accessing and modifying a static variable indirectly via pointer\n    int* pInt = Test();\n    *pInt = 100;  // Modifies the static variable directly\n    Test();       // Calls again to observe incremented behavior\n\n    ++global;     // Directly modify global variable\n\n    // Dynamic memory allocation happens in heap\n    // Enables allocation of memory at runtime\n\n    int Value = 10;         // Local variable - stack\n    int iArr[10];           // Local array - stack\n\n    MyDatType data = {};    // Struct instance - stack\n    data.arr[0];            // Accessing struct members\n    data.arr[1];\n    data.fArr[0];\n    data.fArr[1];\n    data.fArr[2];\n\n    return 0;\n}\n</code></pre>"},{"location":"AR250326/#common-mistakes","title":"Common Mistakes","text":"<p>Trying to directly access a static variable outside its scope <pre><code>// ++iStatic; // Invalid - `iStatic` is local to Test(), cannot access directly\n</code></pre></p> <p>Forgetting to initialize dynamically allocated memory <pre><code>int* arr = (int*)malloc(10 * sizeof(int));\n// Always initialize or set the memory to avoid garbage values\nfree(arr); // Always remember to free dynamically allocated memory\n</code></pre></p>"},{"location":"AR250326/#tricky-case-static-inside-function","title":"Tricky Case: Static Inside Function","text":"<p>Even though a <code>static</code> variable is local to a function, you can manipulate its value from outside by returning its address.</p> <pre><code>int* p = Test();\n*p = 42; // Updates the static variable inside Test()\n</code></pre> <p>The static variable is still not globally accessible, but its address can leak outside the function scope for controlled use.</p>"},{"location":"AR250326/#interview-questions","title":"Interview Questions","text":"<p>Q: What is the difference between <code>static</code> and <code>global</code> variables in C? A: Both are stored in the data segment, but <code>static</code> limits the scope to the defining function or file, while global variables are accessible across files.</p> <p>Q: What are the different memory segments in a C program? A: Stack (local variables), Heap (dynamic allocation), Data (global/static), ROM (constants, code).</p> <p>Q: Can you return a pointer to a local variable from a function? A: No. Local variables are destroyed after function returns. But returning the address of a <code>static</code> variable is valid since it lives beyond the function scope.</p> <p>Q: Why is heap allocation not related to the heap data structure? A: The term \"heap\" here refers to a memory region, not the data structure. Dynamic allocation uses this region but not the heap structure (min/max trees).</p>"},{"location":"AR250326/#visual-memory-segments","title":"Visual: Memory Segments","text":"<pre><code>Memory Segment     | Contents                      | Example\n------------------ | ----------------------------- | ----------------------\nStack              | Local variables               | int x;\nHeap               | Dynamically allocated memory  | malloc()\nData               | Static/Global variables       | static int i;\nROM (Text)         | Code, constants, literals     | \"Hello\" string\n</code></pre>"},{"location":"AR250326/#summary","title":"Summary","text":"<p>This study explores how variable storage classes affect memory usage and lifetime. <code>static</code> variables are powerful tools when persistent state is needed within function scope, while dynamic memory allows flexibility at runtime. Being aware of memory segment layout is essential for low-level optimization and preventing memory issues.</p>"},{"location":"AR250326/#references","title":"References","text":"<ul> <li>my_string.cpp</li> <li>my_string.h</li> <li>dynamic_allocation</li> <li>char_char_array.cpp</li> <li>char_and_pointer.cpp</li> </ul>"},{"location":"AR250327/","title":"Dynamic Memory Allocation and Heap Management","text":""},{"location":"AR250327/#date-2025-03-27","title":"Date: 2025-03-27","text":""},{"location":"AR250327/#key-points","title":"Key Points","text":"<ul> <li><code>malloc()</code> allocates memory in the heap based on the byte size.</li> <li>Always <code>free()</code> dynamically allocated memory to prevent memory leaks.</li> <li>The return type of <code>malloc()</code> is <code>void*</code> because it doesn't assume the type of allocated memory.</li> <li>Heap corruption can occur if memory is accessed beyond the allocated bounds.</li> <li>Using structures like dynamic arrays requires careful memory management.</li> </ul>"},{"location":"AR250327/#overview","title":"Overview","text":"<p>Dynamic memory allocation in C is a powerful tool that enables allocating memory at runtime using the heap. This is particularly useful for variable-sized data like dynamic arrays.</p> <p>The functions <code>malloc()</code> and <code>free()</code> are essential: - <code>malloc(size)</code> allocates <code>size</code> bytes and returns a pointer to the first byte. - <code>free(ptr)</code> deallocates memory previously allocated with <code>malloc()</code>.</p> <p>If memory is allocated and not freed, it leads to a memory leak, which can gradually consume all available memory.</p> <pre><code>#include &lt;stdlib.h&gt;\n\nint main()\n{\n    // Allocate 200 bytes in the heap\n    void* pData = malloc(200);\n\n    // Always free dynamically allocated memory\n    free(pData);\n\n    return 0;\n}\n</code></pre>"},{"location":"AR250327/#dynamic-array-example","title":"Dynamic Array Example","text":"<p>This sample shows how a custom dynamic array is used via a user-defined structure and helper functions (<code>InitArr</code>, <code>PushBack</code>).</p> <pre><code>#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n#include \"Array.h\"\n\nint main()\n{\n    int iArr[10] = {}; // Static array\n\n    tArray arr = {};   // Custom dynamic array\n    InitArr(&amp;arr);     // Initialize dynamic array\n\n    // Push elements into dynamic array\n    PushBack(&amp;arr, 100);\n    PushBack(&amp;arr, 200);\n    PushBack(&amp;arr, 300);\n    PushBack(&amp;arr, 400);\n    PushBack(&amp;arr, 500);\n    PushBack(&amp;arr, 600);\n    PushBack(&amp;arr, 700);\n    PushBack(&amp;arr, 800);\n    PushBack(&amp;arr, 900);\n\n    // Print all elements\n    for (int i = 0; i &lt; arr.Size; ++i)\n    {\n        printf(\"%d\\n\", arr.pArr[i]);\n    }\n\n    // Free the allocated memory to avoid memory leak\n    free(arr.pArr);\n\n    return 0;\n}\n</code></pre>"},{"location":"AR250327/#common-mistakes","title":"Common Mistakes","text":"<p>Memory Leak <pre><code>void* p = malloc(100);\n// forgot to free(p); -&gt; memory leak\n</code></pre></p> <p>Heap Corruption <pre><code>arr.pArr[1800] = 10; // Dangerous: Accessing memory beyond allocation\n</code></pre> Accessing beyond the allocated size may corrupt memory and lead to unpredictable behavior. It may or may not crash the program, making it hard to detect.</p>"},{"location":"AR250327/#tricky-case-void-pointer-and-casting","title":"Tricky Case: Void Pointer and Casting","text":"<p><code>malloc()</code> returns a <code>void*</code>, which must be cast to the appropriate type:</p> <p><pre><code>int* pData = (int*)malloc(sizeof(int));\n*pData = 10;\n</code></pre> This makes the allocation flexible but puts the responsibility of correct usage on the programmer.</p>"},{"location":"AR250327/#interview-questions","title":"Interview Questions","text":"<p>Q: Why does <code>malloc()</code> return <code>void*</code>? A: It returns <code>void*</code> to allow allocating memory for any data type. The caller casts the returned pointer to the appropriate type.</p> <p>Q: What happens if you forget to <code>free()</code> memory? A: It results in a memory leak ? memory stays allocated until the program terminates, reducing available memory over time.</p> <p>Q: How can you prevent heap corruption? A: Always ensure you access memory within the bounds of what you allocated. Use debugging tools like Valgrind or built-in runtime checks when available.</p> <p>Q: What's the difference between stack and heap allocation? A: Stack allocation is automatic and limited in size, suitable for small, fixed-size data. Heap allocation is manual and allows large or dynamic-sized data but must be freed manually.</p>"},{"location":"AR250327/#summary","title":"Summary","text":"<p>Dynamic memory is key to flexible C programs. Functions like <code>malloc()</code> and <code>free()</code> provide control but demand responsibility. Mismanagement leads to memory leaks or heap corruption. Understanding how and when to allocate/deallocate memory is essential to writing safe and efficient code.</p>"},{"location":"AR250327/#references","title":"References","text":"<ul> <li>dynamic_alloc_usage.cpp</li> <li>dynamic_alloc_apply.cpp</li> </ul>"},{"location":"AR250328/","title":"Linked List and Dynamic Array Study","text":""},{"location":"AR250328/#date-2025-03-28","title":"Date: 2025-03-28","text":""},{"location":"AR250328/#key-points","title":"Key Points","text":"<ul> <li>Linked lists enable constant time insertion at the front (<code>O(1)</code>), but traversal and indexing are linear (<code>O(N)</code>).</li> <li>Dynamic arrays allow fast indexing (<code>O(1)</code>), but insertion can require memory reallocation (<code>O(N)</code> worst case).</li> <li>Big-O notation is used to describe algorithm efficiency in terms of input size.</li> <li>Memory management is crucial: always <code>free()</code> dynamically allocated memory to avoid leaks.</li> <li>Debug flags like <code>_CRTDBG_LEAK_CHECK_DF</code> can help identify memory leaks in development.</li> </ul>"},{"location":"AR250328/#overview","title":"Overview","text":"<p>This example demonstrates dynamic memory management through a basic implementation of a dynamic array and a singly linked list. Key focus areas include:</p> <ul> <li>Dynamic allocation using <code>malloc</code></li> <li>Linked list operations: <code>PushBack</code>, <code>PushFront</code>, and <code>Release</code></li> <li>Manual memory management and debugging practices</li> </ul>"},{"location":"AR250328/#dynamic-array","title":"Dynamic Array","text":"<p>The array expands dynamically when capacity is exceeded:</p> <pre><code>void PushBack(tArray* _pArr, int _Data) {\n    if (_pArr-&gt;Size == _pArr-&gt;Capacity) {\n        int* pNew = (int*)malloc(sizeof(int) * _pArr-&gt;Capacity * 2);\n        for (int i = 0; i &lt; _pArr-&gt;Size; ++i) {\n            pNew[i] = _pArr-&gt;pArr[i];\n        }\n        free(_pArr-&gt;pArr);\n        _pArr-&gt;pArr = pNew;\n        _pArr-&gt;Capacity *= 2;\n    }\n    _pArr-&gt;pArr[_pArr-&gt;Size++] = _Data;\n}\n</code></pre> <p>This ensures capacity is doubled when full, mimicking vector-like behavior.</p>"},{"location":"AR250328/#linked-list","title":"Linked List","text":"<p>The list supports inserting data at both the front and the back:</p> <pre><code>void PushBack(tList* _List, int _Data) {\n    tNode* pNode = (tNode*)malloc(sizeof(tNode));\n    pNode-&gt;Data = _Data;\n    pNode-&gt;pNext = nullptr;\n\n    if (_List-&gt;pHead == nullptr) {\n        _List-&gt;pHead = pNode;\n    } else {\n        tNode* pLast = _List-&gt;pHead;\n        while (pLast-&gt;pNext != nullptr) {\n            pLast = pLast-&gt;pNext;\n        }\n        pLast-&gt;pNext = pNode;\n    }\n    ++_List-&gt;Size;\n}\n</code></pre> <pre><code>void PushFront(tList* _List, int _Data) {\n    tNode* pNewNode = (tNode*)malloc(sizeof(tNode));\n    pNewNode-&gt;Data = _Data;\n    pNewNode-&gt;pNext = _List-&gt;pHead;\n    _List-&gt;pHead = pNewNode;\n    ++_List-&gt;Size;\n}\n</code></pre>"},{"location":"AR250328/#memory-management","title":"Memory Management","text":"<p>Every dynamic allocation must be paired with a corresponding deallocation to prevent memory leaks:</p> <pre><code>void Release(tList* _List) {\n    tNode* pNode = _List-&gt;pHead;\n    while (pNode != nullptr) {\n        tNode* pNext = pNode-&gt;pNext;\n        free(pNode);\n        pNode = pNext;\n    }\n    _List-&gt;pHead = nullptr;\n    _List-&gt;Size = 0;\n}\n</code></pre> <p>Enable memory leak checks in Visual Studio with:</p> <pre><code>_CrtSetDbgFlag(_CRTDBG_ALLOC_MEM_DF | _CRTDBG_LEAK_CHECK_DF);\n</code></pre>"},{"location":"AR250328/#common-mistakes","title":"Common Mistakes","text":"<p>Accessing Freed Memory <pre><code>Release(&amp;list);\nlist.pHead-&gt;Data = 5;  // Undefined behavior!\n</code></pre> Always reset pointers after <code>free</code> or inside cleanup functions.</p> <p>Forgetting to Resize Dynamic Arrays <pre><code>// Incorrect usage - no resize logic\narr.pArr[arr.Size++] = 999;  // May cause heap corruption\n</code></pre> Always check and resize when adding elements.</p>"},{"location":"AR250328/#tricky-case-memory-debugging","title":"Tricky Case: Memory Debugging","text":"<p>When using <code>_CrtSetDbgFlag</code>, memory leaks are printed automatically at the end of program execution in debug mode. This is particularly useful when working with dynamic structures like linked lists.</p>"},{"location":"AR250328/#interview-questions","title":"Interview Questions","text":"<p>Q: When would you choose a linked list over a dynamic array? A: When frequent insertions/removals at the beginning or middle of the collection are required. Linked lists allow <code>O(1)</code> front insertion, unlike arrays which require shifting elements.</p> <p>Q: Why is it dangerous to access memory after freeing it? A: The memory region may be reassigned or invalidated, leading to undefined behavior or program crashes.</p> <p>Q: What happens when you forget to <code>free()</code> dynamically allocated memory? A: It results in a memory leak, which can cause performance degradation over time.</p> <p>Q: Why does <code>malloc</code> return <code>void*</code>? A: Because <code>malloc</code> doesn't know the target type. It returns a generic pointer that must be cast by the programmer.</p> <p>Q: What is the time complexity of inserting at the end of a singly linked list? A: <code>O(N)</code>, unless a tail pointer is maintained, in which case it becomes <code>O(1)</code>.</p>"},{"location":"AR250328/#code-demonstration-output","title":"Code Demonstration Output","text":"<pre><code>// list2 stores 300, 200, 100 via PushFront()\ntNode* pNode = list2.pHead;\nwhile (pNode) {\n    printf(\"%d\\n\", pNode-&gt;Data);\n    pNode = pNode-&gt;pNext;\n}\n</code></pre> <p>Expected output: <pre><code>300\n200\n100\n</code></pre></p>"},{"location":"AR250328/#references","title":"References","text":"<ul> <li>dynamic_alloc_apply.cpp</li> <li>linked_list.cpp</li> <li>list.cpp</li> <li>list.h</li> <li>array.cpp</li> <li>array.h</li> </ul>"},{"location":"AR250331/","title":"AR250331","text":""},{"location":"AR250331/#references","title":"References","text":"<ul> <li>list.cpp</li> <li>list.h</li> <li>linked_list.cpp</li> <li>oop_access_specifier</li> <li>struct_size</li> <li>generator_terminator.cpp</li> </ul>"},{"location":"AR250401/","title":"Operator Overloading","text":"<p>?\u317c\uc5eb?\u317d\ub7f9?\ub301\ub4aa Namespace </p>"},{"location":"AR250401/#references","title":"References","text":"<ul> <li>generator_and_terminator.cpp</li> <li>reference.cpp</li> <li>operator_overloading.cpp</li> </ul>"},{"location":"AR250402/","title":"AR250402","text":""},{"location":"AR250402/#copy-operator-and","title":"Copy Operator and","text":"<pre><code>class CNew\n{\nprivate:\n    int m_i; \n    short m_s; \n\npublic: \n    void SetInt(int _a)\n    {\n        m_i = a; \n    }\n    // Default Assignment operator \n    void operator=(const CNew&amp; _Other){\n        m_i = _Other.m_i; \n        m_s = _Other.m_s; \n\n        return *this; \n    }\npublic: \n    // Default Copy operator \n    CNew(const CNew &amp; _Other) = delete; //  \n    CNew(const CNew &amp; _Other)\n    :m_i(_Other.m_i), m_s(_Other.m_s)\n    {}\n}\n</code></pre> <p>Basic Generator</p> <p>CNew Inst1; // Default Generator  CNew Inst1(); // When generated like this  // Complier misunderstands it as function declaration  Inst1.SetInt(10); // Generator with input </p> <p>Copy Generator Default Generator is not available.  If Copy generator is implemented and default generator  is not implemented, then default generator is not automatically generated. </p> <p>CNew Inst2(Inst1);</p> <p>Originally no need to make copy operator But if copy function is implemented The compiler originally based copy</p> <p>In all cases, if any generator is implemented by programmer  Default automatic generator of class is not autogenerated by the compiler </p> <p>Thus, when making copy generator or any other implemented  generator, default generator should also be generated together. </p> <p>Assignment Operator CNew Inst3; Inst3 = Inst1;</p>"},{"location":"AR250402/#references","title":"References","text":"<ul> <li>operator_overloading.cpp</li> <li>namespace.cpp</li> <li>class_default_copy_gen_oper.cpp</li> <li>class_copy_gen_assign_oper.cpp</li> </ul>"},{"location":"AR250403/","title":"CPP Dynamic Array","text":"<p>Dynamic Array Class  New Delete CPP Dynamic Allocation  Template </p>"},{"location":"AR250403/#template","title":"Template","text":"<p><pre><code>void SetData(int (&amp;_Arr)[10])\n{\n    for(int i=0; i&lt;Size; ++i)\n    {\n        _Arr[i] = i + 1; \n    }\n}\n\nint iArr[10] = {}; \nint jArr[20] = {}; \nSetData(iArr);\nSetData(jArr); // ERROR \n</code></pre> Template Required case when Array Reference is input </p> <pre><code>template&lt;int Size&gt;\nvoid SetData(int (&amp;_Arr)[Size])\n{\n    for(int i=0; i&lt;Size; ++i)\n    {\n        _Arr[i] = i + 1; \n    }\n}\n</code></pre> <p>However, each template generates new function per each different int size.  Thus, those are all diffrent generatead functions, and not efficient. </p> <p><pre><code>template&lt;int Size&gt;\nvoid SetData(int *_Arr, int Size)\n{\n    for(int i=0; i&lt;Size; ++i)\n    {\n        _Arr[i] = i + 1; \n    }\n}\n</code></pre> Recomomended to get input by pointer and size to be better like this. </p>"},{"location":"AR250403/#new-delete","title":"New &amp; Delete","text":"<p><code>Malloc</code> will </p> <p><pre><code>// C Style Dynamic Allocation \nint* pData = (*int) malloc (sizeof(int)*2); \nfree(pData);\n\n// CPP Generator, Terminator and Dynamic Allocation \nMyClass my; \n</code></pre> If class is generated on the scope, automatically terminator is called at the end of scope</p> <p>malloc(4) return void; </p> <p>This object declaration guarantees default generator call  MyClass my; </p> <p>However, malloc does not guarantee default generator call  new + MyClass represents  new = malloc + Class Generator Call Template  new MyClass; </p> <p>new delete Template malloc free Generator Terminator Call  When class is generated or terminated new delete </p> <p>Basic malloc and free dynamically allocate requested size and free the notified memory  It is impossible to figure out how that space is currently used  Thus when object is generated into the heap memory as a class type data unit  Class generator and terminator call is NOT guaranteed </p> <p>Thus, to solve this new, delete template is required to the corresponding data type  So that size gets dynamic allocation </p> <p>MyClass pMy = (MyClass)malloc(sizeof(MyClass));  free(pMy); </p> <p>MyClass * pNewMy = new MyClass;  delete pNewMy; </p>"},{"location":"AR250403/#references","title":"References","text":""},{"location":"AR250407/","title":"AR250407","text":"<p>Heap \uf9cd\ub349\uc520?\uaca2?\uc612?\ub4aa \u5a9b\uc579\uaedc ?\uae6e?\uaf66?\uc604 ?\ub0fc\uf9ce\uba84\uc604 ?\uc29c?\ub8c4 ?\ube23?\uc82e \u4ee5?</p> <p>new</p> <p>m_data = (*int) malloc (sizeof(int) * m_Capacity);  m_Data = new int[m_Capacity]; </p> <p>MyClass *pNewMy = new MyClass;  delete pNewMy; </p> <p>MyClass *pMyArr = new MyClass[10];  delete [] pMyArr;  ?\ubff0?\ub0fd?\uc45d\u6fe1? \u5a9b\uc579\uaedc\u745c? ?\ubfec?\uc72d \u5a9b? \uf9cd\ub6ae\ubc7e?\ubfc0?\uc45d\uf9ce? \u6d39\uba83\uae77 DELETE ?\ub586  ?\ub8f7?\uc524?\uaf63 ?\ube2f?\uad79\u6fe1? ?\uc524?\ub587?\ube2f\u6e72? ?\ube23\u81fe\uba84\ubfc9 [] \u745c? \u907a\uc208\ubfec\u4ee5\uc10f\ube5e ?\ube3f </p> <p>template   template  <p>template  void CArray::push_back(const T&amp; _Data) {} <p>Generator Function CArray::CArray();  <p>const reference only borrowing the address  copy new one while keeping original value constant </p> <p>Compile Success  Link Error ? Duplicate  ?\ube3f?\ub2d4 ?\uc7fe\u8adb? ?\uaf51?\ubf35??? ?\ube2f\u6028? \u63f4\u044b\uc07d \u6e90\ub6ae\u3268?\uc4ec  int Add(int a, int b); </p> <p>int main(){     Add(1,2);     return 0;  }</p> <p>?\uae6e?\uaf66?\uc604 ?\uc0c7\u7570? \uf9de??\ubfed \u8e42??\ub2d4  ?\ub0fc\uf9ce\uba84\uc604  Template \uf9cf\u2464\ubc7a \u63f4\u044b\uc07d \u907a?\u907a\uafa9\uc4e3 ?\uc7fe\u907a? ?\ub58e header ?\ub646?\uc52a\u6fe1?  ?\uc0b7\u5bc3? ?\ub103?\ube18?\ube5e ?\ube3f class ?\uae6e?\uaf66?\uc604??? ?\ub0fc\uf9ce\uba84\uc604\u5a9b? ?\uaf51?\ubf35\uf9cd? ?\ub9ba?\ubf31 ?\uc5f3\u6028?  ?\uc609?\uaf66?\uc520 ?\ub9ba?\ubf31 ?\uc5f3\uf9de? ?\ube21?\ub58e\uf9ce? </p> <p>h ?\ub646?\uc52a ?\uaf51?\ubf35 </p> <p>vector  reserve Capacity Acquisition  resize Capacity Acquire + feel every capacity  into the same value, so size = capacity  The default value of the type value </p> <p>If it was generated by class, then the class is generated by default generator function </p> <p>?\ub8de?\uc7fb \u8adb\uacd7\ubff4?\uc520 \u5a9b?\uf9de? \u5bc3? \u8e42\ub300\ub58e ?\ub102??? ?\uc524?\ub733?\ub4aa  Capacity </p> <p>assert.h Warning  assert(nullptr) -&gt; Prompt  assert(1) or whatever -&gt; No Prompt  assert(m_CurSize &gt; _idx); </p> <p>resize result in default value</p> <p>0408 </p> <p>External class and inner class  inner class can be called like external class like namespace  but why? use class instead of namespace -&gt; hidden concealable like private protected  Class inner values are private in default  If willing to access inner class externally should be inside public scope  Inner class can access to the private scope of the outer class </p> <p>Check By Code OUTPUT if you want to check </p> <p>vector::iterator itr;  Begin, the first element  End iterator, after the last element  <p>so for two smiple loops why iterator is better than the vector member function?  Speed efficiency indexing is quick O(1) in vector or dynamic array  However link is maximuum O(n)</p> <p>List is better to connect removing data inside  but not good at accessing really quickly  If indexing is required vector is recommended, but for list not likely by index access. </p> <p>list::iterator listIter= intList.begin();  for(; listIter!=end(); listIter++)"},{"location":"AR250409/","title":"AR250409","text":"<p>iterator cannto exceed the end of the datatype </p> <p>dynamic array is inefficient when middle part of data is removed  so latter elements should be moved one unit.  In extremely worst case when first one is removed in dynamic array aka vector  it is not efficient </p> <p>However linked list is relatively easier</p> <p>That is why  vector only has pop_back it takes only O(1)  but pop_front for vector will have O(n) time complexity </p> <p>vecInt.erase(where) where means iterator  iter = vecInt.begin();  vecInt.erase(iter); </p> <p>Similarly in linked list also exists  list::iterator Liter = intList.begin();  intList.erase(Liter);  <p>vector is dynamic array based data structure  using the front data is inefficient, so pop_front is not supported </p> <p>List is linked list based data structure so specific index access among saved data, [] operator or at() function is not supported,  but iterator allow specific data index value. </p> <p>erase usage cautions, after iterator input is erased in list  so that its iterator value is removed, then iterator became not usable </p> <p>iter let it possible to access the value of the iterater points  However after it is removed, the iterator is no longer valid </p> <p>since iterator cannot move beyond the end of the data structure  for loop like iter != array.end(); is safe loop? </p> <p>When erase is used be catious during loop  intList.erase(Liter); // error, since iterator became invalid  Liter = intList.erase(Liter); // Returns next value of iterator  // However, this loop also is problematic, since erase already  move into next iterator, and for loop moves one more step.  // for(Liter = iList.begin(); iter != iList.end(); iter++)  for(Liter = iList.begin(); iter != iList.end(); ){     if(*iter &lt; 60){         // iList.erase(iter); // iter became invalid          iter = iList.erase(iter); // iterator move next this way      } else {         iter++;      } } return 0; </p> <p>iterator can access to  C array private data </p> <p>begin iterator to int reference </p> <p>make begin () and end () iterator returning function inside dynamic array </p> <p>iterator default generator  iterator(): m_Owner(nullptr), m_idx(-1);  iterator generator with input  iterator(Carray * _Owner, int _Idx) : m_Owner(_Owner), m_Idx(_Idx){} <p>based on these generator, iterator begin () will return  return iterator(this, 0); </p> <p>iterator end () will return  return iterator(this, -1); </p> <p>if m_Owner == nullptr &amp;&amp; m_IDx == -1 ==&gt; Nothing is pointed iterator  if m_Owner != nullptr &amp;&amp; m_IDx == -1 ==&gt; Certain filled container's end pointing </p> <p>if m_Idx == -1 then assert, show error as it is ++ to end iterator  expressed as assert(m_Idx != -1);  When end iterator is called with ++. </p> <p>if vec.begin () == vec.end() then vector is empty </p> <p>if m_curSize == 0 return end iterator for empmty vector this.end()  Else, meaning vector is not empty return iterator(this, 0); </p> <p>When data is not existinig and call begin, end iterator is returned  AKA begin and end iterators are same, when vector is empty </p> <p>Increment, Decrement Operator are separateed into two types ++ --  iterator is inner class so can access private data easily </p> <p>When defined increment or decrement operator is implemented in custom  void operator ++(void) // AKA ++iterator</p> <p>void operator ++(int input == 0) // AKA iterator++ </p> <p>++ iterator AKA iterator.operator++();  iterator ++ AKA iterator.operator++(0); input is meaningless, always 0. </p> <p>Iterator member function operator ++ are just function call. </p>"},{"location":"Algorithm/HKUL1P1/","title":"Divide and Conquer","text":""},{"location":"Algorithm/HKUL1P1/#learning-outcome","title":"Learning Outcome","text":"<ul> <li>Learn how to analyze recursive algorithms.</li> <li>Understand the divide-and-conquer technique, recurrence relations, and recursive functions.</li> </ul>"},{"location":"Algorithm/HKUL1P1/#what-is-a-recursive-function","title":"What is a Recursive Function?","text":"<ul> <li>A recursive function calls itself with a smaller input.</li> <li>It consists of:<ul> <li>A base case that stops the recursion.</li> <li>A recursive case that breaks the problem into a smaller subproblem.</li> </ul> </li> </ul>"},{"location":"Algorithm/HKUL1P1/#example","title":"Example","text":"<p><pre><code>f(n) = 1                 if n = 1\nf(n) = f(n - 1) + n      if n &gt; 1\n</code></pre> To compute f(4): <pre><code>f(4) = f(3) + 4\n     = f(2) + 3 + 4\n     = f(1) + 2 + 7\n     = 1 + 9 = 10\n</code></pre></p>"},{"location":"Algorithm/HKUL1P1/#finding-a-closed-form-non-recursive-formula","title":"Finding a Closed Form (Non-Recursive Formula)","text":""},{"location":"Algorithm/HKUL1P1/#method-iteration","title":"Method: Iteration","text":"<p>By expanding the recurrence: <pre><code>f(n) = f(n-1) + n\n     = f(n-2) + (n-1) + n\n     = ...\n     = 1 + 2 + ... + n = n(n+1)/2\n</code></pre></p>"},{"location":"Algorithm/HKUL1P1/#mathematical-induction","title":"Mathematical Induction","text":"<p>To prove: f(n) = n(n+1)/2 - Base case: n = 1 \u2192 f(1) = 1, and 1(1+1)/2 = 1 \u2705 - Inductive step:   Assume f(k) = k(k+1)/2   Show f(k+1) = f(k) + (k+1) = k(k+1)/2 + (k+1) = (k+1)(k+2)/2 \u2705</p>"},{"location":"Algorithm/HKUL1P1/#asymptotic-analysis-big-o","title":"Asymptotic Analysis (Big-O)","text":"<p>We often care about the growth rate instead of the exact formula.</p>"},{"location":"Algorithm/HKUL1P1/#prove-fn-on2","title":"Prove: f(n) = O(n\u00b2)","text":"<p>We want to find a constant c such that f(n) \u2264 cn\u00b2 for all n \u2265 1.</p> <p>Step 1: Trial to find c <pre><code>f(n) = f(n-1) + n \u2264 c(n-1)\u00b2 + n = cn\u00b2 - (2cn - c - n)\n</code></pre> To ensure f(n) \u2264 cn\u00b2, we need: <pre><code>2cn - c - n \u2265 0 \u2192 c \u2265 n / (2n - 1)\n</code></pre> Since n / (2n - 1) \u2264 1 for all n \u2265 1, choose c = 1.</p> <p>Step 2: Induction proof - Base: f(1) = 1 \u2264 1\u00b2 - Inductive step:   Assume f(k) \u2264 k\u00b2   Then f(k+1) = f(k) + (k+1) \u2264 k\u00b2 + (k+1) \u2264 (k+1)\u00b2</p> <p>So, f(n) = O(n\u00b2) is proven.</p>"},{"location":"Algorithm/HKUL1P1/#take-home-exercise","title":"Take-home Exercise","text":"<p>Prove: f(n) = O(n), where <pre><code>f(1) = 3\nf(n) = f(n - 1) + 10 for n &gt; 1\n</code></pre></p>"},{"location":"Algorithm/HKUL1P1/#solving-recurrences-how-to-find-asymptotic-bounds","title":"Solving Recurrences (How to Find Asymptotic Bounds)","text":"<p>Here are three common techniques: 1. Substitution Method 2. Recursion Tree Method 3. Master Method</p> <p>These are detailed in MIT Introduction to Algorithms (CLRS), Chapters 4.3 to 4.5. While not a major exam topic, understanding them is useful for mastering algorithm analysis. You can review online materials or request a tutorial if needed.</p>"},{"location":"Algorithm/HKUL1P1/#divide-and-conquer-overview","title":"Divide and Conquer Overview","text":"<p>This approach leads to recursive algorithms. Their time complexity is usually described by recurrence relations.</p> <p>The general structure: 1. Divide the problem into subproblems 2. Conquer each subproblem recursively 3. Combine their solutions</p>"},{"location":"Algorithm/HKUL1P1/#factorial-example","title":"Factorial Example","text":""},{"location":"Algorithm/HKUL1P1/#recursive-code","title":"Recursive Code","text":"<pre><code>fact(n) {\n  if (n == 1) return 1;\n  else return n * fact(n-1);\n}\n</code></pre>"},{"location":"Algorithm/HKUL1P1/#time-complexity-analysis","title":"Time Complexity Analysis","text":"<p>Let T(n) be the runtime: - T(1) = c1 - T(n) = T(n - 1) + c2 (for n &gt; 1)</p> <p>Unfolding: <pre><code>T(n) = T(n-1) + c2\n     = T(n-2) + 2c2\n     = ...\n     = T(1) + (n - 1)c2 = c1 + (n - 1)c2\n</code></pre> Therefore, T(n) = O(n)</p> <p>This shows that the recursive factorial algorithm runs in linear time.</p>"},{"location":"Algorithm/HKUL1P1/#tower-of-hanoi-summary","title":"Tower of Hanoi - Summary","text":""},{"location":"Algorithm/HKUL1P1/#problem-overview","title":"Problem Overview","text":"<ul> <li>Given 3 pegs and n disks of different sizes stacked in increasing size on one peg (largest at bottom).</li> <li>Goal: Move all disks from the source peg to the destination peg.</li> </ul>"},{"location":"Algorithm/HKUL1P1/#rules","title":"Rules","text":"<ol> <li>Only one disk can be moved at a time.</li> <li>A disk can only be placed on top of a larger disk or an empty peg.</li> </ol>"},{"location":"Algorithm/HKUL1P1/#recursive-solution-strategy","title":"Recursive Solution Strategy","text":"<p>To move <code>n</code> disks from Peg A to Peg C using Peg B: 1. Move <code>n-1</code> disks from A to B (using C as auxiliary). 2. Move the largest disk (nth) from A to C. 3. Move the <code>n-1</code> disks from B to C (using A as auxiliary).</p>"},{"location":"Algorithm/HKUL1P1/#base-case","title":"Base Case","text":"<p>If <code>n = 1</code>: Move the single disk directly from A to C.</p>"},{"location":"Algorithm/HKUL1P1/#pseudocode","title":"Pseudocode","text":"<pre><code>TofH(A, B, C, n) {\n    if (n == 1)\n        move disk from A to C;\n    else {\n        TofH(A, C, B, n - 1);\n        move disk from A to C;\n        TofH(B, A, C, n - 1);\n    }\n}\n</code></pre>"},{"location":"Algorithm/HKUL1P1/#visual-explanation-for-n-3","title":"Visual Explanation for n = 3","text":""},{"location":"Algorithm/HKUL1P1/#initial-state","title":"Initial State","text":"<pre><code>Peg A       Peg B       Peg C\n[3]         |           |\n[2]         |           |\n[1]         |           |\n</code></pre>"},{"location":"Algorithm/HKUL1P1/#step-by-step-moves","title":"Step-by-step Moves","text":"<ol> <li> <p>Move 2 disks from A to B (use C):</p> <ul> <li>Move [1] A \u2192 C</li> <li>Move [2] A \u2192 B</li> <li>Move [1] C \u2192 B <pre><code>Peg A       Peg B       Peg C\n[3]         [2]         |\n            [1]         |\n</code></pre></li> </ul> </li> <li> <p>Move [3] A \u2192 C <pre><code>Peg A       Peg B       Peg C\n            [2]        [3]\n            [1]         |\n</code></pre></p> </li> <li> <p>Move 2 disks from B to C (use A):</p> <ul> <li>Move [1] B \u2192 A</li> <li>Move [2] B \u2192 C</li> <li>Move [1] A \u2192 C <pre><code>Peg A       Peg B       Peg C\n            |          [3]\n            |          [2]\n            |          [1]\n</code></pre></li> </ul> </li> </ol>"},{"location":"Algorithm/HKUL1P1/#number-of-moves","title":"Number of Moves","text":"<p>Let f(n) be the number of moves: - f(1) = 1 - f(n) = 2f(n-1) + 1</p> <p>Solving recurrence: <pre><code>f(n) = 2f(n - 1) + 1\n     = 2(2f(n - 2) + 1) + 1 = 4f(n - 2) + 3\n     = ...\n     = 2\u207f - 1\n</code></pre></p>"},{"location":"Algorithm/HKUL1P1/#time-complexity","title":"Time Complexity","text":"<ul> <li>Recursive algorithm performs <code>2\u207f - 1</code> moves</li> <li>\u21d2 Time complexity: O(2\u207f) (exponential)</li> </ul> <p>This version includes structured visuals and step-by-step logic for explaining Tower of Hanoi to students in an intuitive way. You can draw each state on a whiteboard or use the pseudocode and recurrence to connect with algorithm analysis.</p>"},{"location":"Algorithm/HKUL1P2/","title":"Tower of Hanoi","text":""},{"location":"Algorithm/HKUL1P2/#problem-overview","title":"Problem Overview","text":"<ul> <li>Given 3 pegs and n disks of different sizes stacked in increasing size on one peg (largest at bottom).</li> <li>Goal: Move all disks from the source peg to the destination peg.</li> </ul>"},{"location":"Algorithm/HKUL1P2/#rules","title":"Rules","text":"<ol> <li>Only one disk can be moved at a time.</li> <li>A disk can only be placed on top of a larger disk or an empty peg.</li> </ol>"},{"location":"Algorithm/HKUL1P2/#recursive-solution-strategy","title":"Recursive Solution Strategy","text":"<p>To move <code>n</code> disks from Peg A to Peg C using Peg B: 1. Move <code>n-1</code> disks from A to B (using C as auxiliary). 2. Move the largest disk (nth) from A to C. 3. Move the <code>n-1</code> disks from B to C (using A as auxiliary).</p>"},{"location":"Algorithm/HKUL1P2/#base-case","title":"Base Case","text":"<p>If <code>n = 1</code>: Move the single disk directly from A to C.</p>"},{"location":"Algorithm/HKUL1P2/#pseudocode","title":"Pseudocode","text":"<pre><code>TofH(A, B, C, n) {\n    if (n == 1)\n        move disk from A to C;\n    else {\n        TofH(A, C, B, n - 1);\n        move disk from A to C;\n        TofH(B, A, C, n - 1);\n    }\n}\n</code></pre>"},{"location":"Algorithm/HKUL1P2/#visual-explanation-for-n-3","title":"Visual Explanation for n = 3","text":""},{"location":"Algorithm/HKUL1P2/#initial-state","title":"Initial State","text":"<pre><code>Peg A       Peg B       Peg C\n[3]         |           |\n[2]         |           |\n[1]         |           |\n</code></pre>"},{"location":"Algorithm/HKUL1P2/#step-by-step-moves","title":"Step-by-step Moves","text":"<ol> <li> <p>Move 2 disks from A to B (use C):</p> <ul> <li>Move [1] A \u2192 C</li> <li>Move [2] A \u2192 B</li> <li>Move [1] C \u2192 B <pre><code>Peg A       Peg B       Peg C\n[3]         [2]         |\n            [1]         |\n</code></pre></li> </ul> </li> <li> <p>Move [3] A \u2192 C <pre><code>Peg A       Peg B       Peg C\n            [2]        [3]\n            [1]         |\n</code></pre></p> </li> <li> <p>Move 2 disks from B to C (use A):</p> <ul> <li>Move [1] B \u2192 A</li> <li>Move [2] B \u2192 C</li> <li>Move [1] A \u2192 C <pre><code>Peg A       Peg B       Peg C\n            |          [3]\n            |          [2]\n            |          [1]\n</code></pre></li> </ul> </li> </ol>"},{"location":"Algorithm/HKUL1P2/#number-of-moves","title":"Number of Moves","text":"<p>Let f(n) be the number of moves: - f(1) = 1 - f(n) = 2f(n-1) + 1</p> <p>Solving recurrence: <pre><code>f(n) = 2f(n - 1) + 1\n     = 2(2f(n - 2) + 1) + 1 = 4f(n - 2) + 3\n     = ...\n     = 2\u207f - 1\n</code></pre></p>"},{"location":"Algorithm/HKUL1P2/#time-complexity","title":"Time Complexity","text":"<ul> <li>Recursive algorithm performs <code>2\u207f - 1</code> moves</li> <li>\u21d2 Time complexity: O(2\u207f) (exponential)</li> </ul>"},{"location":"Algorithm/HKUL1P2/#incorrect-attempt-at-hanoi","title":"\u26a0\ufe0f Incorrect Attempt at Hanoi","text":"<p>Student\u2019s Wrong Approach: <pre><code>TofH2(A, B, C, n) {\n  if (n == 1)\n    move disk from A to C;\n  else {\n    TofH2(A, C, B, n/2);\n    TofH2(A, B, C, n/2);\n    TofH2(B, A, C, n/2);\n  }\n}\n</code></pre></p>"},{"location":"Algorithm/HKUL1P2/#why-its-incorrect","title":"Why It\u2019s Incorrect","text":"<ul> <li>Tower of Hanoi must preserve disk ordering.</li> <li>Splitting into <code>n/2</code> is invalid because it breaks the top-to-bottom size rule.</li> <li>The correct subproblem is always: move top <code>n-1</code> disks first.</li> </ul>"},{"location":"Algorithm/HKUL1P3/","title":"Divide-and-Conquer Approach","text":""},{"location":"Algorithm/HKUL1P3/#key-concepts","title":"Key Concepts","text":"<ol> <li> <p>Divide-and-Conquer Strategy:</p> <ul> <li>Solve a problem of size <code>n</code> by assuming solutions exist for smaller inputs (<code>n-1</code>, or <code>n/2</code>).</li> <li>Then, combine those solutions to build the solution for size <code>n</code>.</li> </ul> </li> <li> <p>Base Case is Essential:</p> <ul> <li>For factorial: <code>n! = 1</code> when <code>n = 1</code></li> <li>For Tower of Hanoi: Move 1 disk directly</li> </ul> </li> <li> <p>Steps in Divide-and-Conquer:</p> <ul> <li>Define subproblems</li> <li>Solve base cases</li> <li>Combine subproblem solutions</li> <li>Formulate a recursive algorithm</li> <li>Model running time as recurrence and solve it</li> </ul> </li> </ol>"},{"location":"Algorithm/HKUL1P3/#example-finding-the-maximum-number","title":"Example: Finding the Maximum Number","text":""},{"location":"Algorithm/HKUL1P3/#goal","title":"Goal","text":"<p>Find the largest value in an array using recursion.</p>"},{"location":"Algorithm/HKUL1P3/#strategy","title":"Strategy","text":"<ul> <li>Base Case: If one number, return it.</li> <li>Recursive Case: Compare the last number with the result from a recursive call on the rest.</li> </ul>"},{"location":"Algorithm/HKUL1P3/#pseudocode","title":"Pseudocode","text":"<pre><code>largest1(A[1..n]) {\n  if (n == 1) return A[1];\n  x = largest1(A[1..n-1]);\n  if (x &gt; A[n]) return x;\n  else return A[n];\n}\n</code></pre>"},{"location":"Algorithm/HKUL1P3/#time-complexity","title":"Time Complexity","text":"<ul> <li><code>T(n) = T(n-1) + c2</code>, <code>T(1) = c1</code></li> <li>\u21d2 T(n) = O(n)</li> </ul>"},{"location":"Algorithm/HKUL1P3/#example-execution","title":"Example Execution","text":"<pre><code>largest1([4, 60, 21, 3, 5])\n  \u2192 largest1([4, 60, 21, 3])\n    \u2192 largest1([4, 60, 21])\n      \u2192 largest1([4, 60])\n        \u2192 largest1([4]) \u2192 4\n        \u2192 return max(4, 60) \u2192 60\n      \u2192 return max(60, 21) \u2192 60\n    \u2192 return max(60, 3) \u2192 60\n  \u2192 return max(60, 5) \u2192 60\n</code></pre>"},{"location":"Algorithm/HKUL1P3/#divide-and-conquer-finding-the-largest-number-alternative-approach","title":"Divide and Conquer: Finding the Largest Number (Alternative Approach)","text":""},{"location":"Algorithm/HKUL1P3/#problem","title":"Problem:","text":"<p>Find the largest number in an array of size <code>n</code> using divide-and-conquer.</p>"},{"location":"Algorithm/HKUL1P3/#key-idea","title":"Key Idea:","text":"<ul> <li>Divide the array into two equal halves.</li> <li>Conquer each half recursively.</li> <li>Combine: Compare the maximums from both halves.</li> </ul>"},{"location":"Algorithm/HKUL1P3/#algorithm","title":"Algorithm:","text":"<pre><code>// Assume n is a power of 2 for simplicity\nlargest2(A[1..n]) {\n    if (n == 1)\n        return A[1];\n    else {\n        x1 = largest2(A[1..n/2]);\n        x2 = largest2(A[n/2+1..n]);\n        if (x1 &gt; x2)\n            return x1;\n        else\n            return x2;\n    }\n}\n</code></pre>"},{"location":"Algorithm/HKUL1P3/#time-complexity_1","title":"Time Complexity:","text":"<p>Let T(n) be the time taken to find the largest element in n numbers. - T(1) = c1 - T(n) = 2T(n/2) + c2 - Using Master Theorem, this gives T(n) = O(n)</p>"},{"location":"Algorithm/HKUL1P3/#example","title":"Example:","text":"<p>Array: [14, 65, 34, 33, 7, 56, 100, 20]</p> <p>Step-by-step recursive split: <pre><code>Left: [14, 65, 34, 33]           Right: [7, 56, 100, 20]\n  \u251c\u2500\u2500 [14, 65]                      \u251c\u2500\u2500 [7, 56]\n  \u2502     \u251c\u2500\u2500 14                     \u2502     \u251c\u2500\u2500 7\n  \u2502     \u2514\u2500\u2500 65                     \u2502     \u2514\u2500\u2500 56\n  \u2514\u2500\u2500 [34, 33]                     \u2514\u2500\u2500 [100, 20]\n        \u251c\u2500\u2500 34                           \u251c\u2500\u2500 100\n        \u2514\u2500\u2500 33                           \u2514\u2500\u2500 20\n</code></pre> Compare and propagate max values up: - max(14, 65) \u2192 65 - max(34, 33) \u2192 34 - max(65, 34) \u2192 65 - max(7, 56) \u2192 56 - max(100, 20) \u2192 100 - max(56, 100) \u2192 100 - final max: max(65, 100) \u2192 100</p>"},{"location":"Algorithm/HKUL1P3/#comparison-with-straightforward-approach","title":"Comparison with Straightforward Approach:","text":"<p><pre><code>largest(A[1..n]) {\n    maximum = A[1];\n    for (i = 2; i &lt;= n; i++) {\n        if (A[i] &gt; maximum)\n            maximum = A[i];\n    }\n    return maximum;\n}\n</code></pre> - Also O(n) time complexity. - This method is simpler, but the divide-and-conquer version helps practice recursion.</p>"},{"location":"Algorithm/HKUL1P3/#summary","title":"Summary:","text":"<ul> <li>Divide-and-conquer is not always the most efficient in practice but is helpful conceptually.</li> <li>Good for illustrating recursion and recurrence analysis.</li> </ul>"},{"location":"Algorithm/HKUL1P4/","title":"Master Theorem, Fibonacci Example","text":""},{"location":"Algorithm/HKUL1P4/#master-theorem-simplified-statement","title":"Master Theorem (Simplified Statement)","text":"<p>For recurrence of the form: <pre><code>T(n) = aT(n/b) + f(n)\n</code></pre> where: - <code>a \u2265 1</code> (number of subproblems) - <code>b \u2265 2</code> (factor of size reduction) - <code>f(n) = \u0398(n^p)</code> (non-recursive work per level)</p> <p>Then: - If <code>f(n) = O(n^{log_b a - \u03b5})</code> for some \u03b5 &gt; 0:     - T(n) = \u0398(n^{log_b a}) - If <code>f(n) = \u0398(n^{log_b a})</code>:     - T(n) = \u0398(n^{log_b a} log n) - If <code>f(n) = \u03a9(n^{log_b a + \u03b5})</code> and regularity condition holds:     - T(n) = \u0398(f(n))</p> <p>For cases where <code>n</code> is not a perfect power of <code>b</code>, the time complexity usually stays the same, but algorithms may require additional handling for leftover elements.</p>"},{"location":"Algorithm/HKUL1P4/#fibonacci-numbers-recursive-vs-iterative","title":"Fibonacci Numbers: Recursive vs Iterative","text":""},{"location":"Algorithm/HKUL1P4/#definition","title":"Definition:","text":"<pre><code>F(1) = 1\nF(2) = 1\nF(n) = F(n-1) + F(n-2) for n &gt; 2\n</code></pre>"},{"location":"Algorithm/HKUL1P4/#algorithm-1-naive-recursion","title":"Algorithm 1: Naive Recursion","text":"<p><pre><code>FIB1(n):\n  if n \u2264 2:\n    return 1\n  else:\n    return FIB1(n-1) + FIB1(n-2)\n</code></pre> - Recurrence:     - T(n) = T(n-1) + T(n-2) + c\u2082     - T(n) = exponential time (approximately \u0398(1.618^n)) - Inefficient: Recomputes many values</p> <p>Claim: T(n) &gt; 2^(n/2 - 1) - Recursive calls double roughly every two levels - Exponential growth due to repeated calls</p>"},{"location":"Algorithm/HKUL1P4/#algorithm-2-iterative-loop","title":"Algorithm 2: Iterative Loop","text":"<p><pre><code>FIB2(n):\n  if n \u2264 2:\n    return 1\n  p = 1\n  q = 1\n  for i = 3 to n:\n    r = p + q\n    p = q\n    q = r\n  return r\n</code></pre> - Time Complexity: \u0398(n) - Efficient: No redundant computations</p>"},{"location":"Algorithm/HKUL1P4/#q-can-we-do-even-better","title":"Q: Can We Do Even Better?","text":"<ul> <li>Yes! Matrix exponentiation or using Binet\u2019s formula (closed-form) can bring time complexity to O(log n).</li> <li>Example: Fast doubling or matrix power via divide-and-conquer.</li> </ul>"},{"location":"Algorithm/HKUL1P5/","title":"Fibonacci Numbers &amp; Matrix Exponentiation Summary","text":""},{"location":"Algorithm/HKUL1P5/#problem-compute-the-n-th-fibonacci-number-efficiently","title":"Problem: Compute the n-th Fibonacci number efficiently","text":"<p>We\u2019ve seen two common approaches:</p> <ol> <li> <p>Recursive (FIB1)</p> <ul> <li>Direct implementation of the recurrence.</li> <li>Time Complexity: Exponential, \\( T(n) = \\Theta(1.618^n) \\)</li> <li>Inefficient due to repeated computation.</li> </ul> </li> <li> <p>Iterative (FIB2)</p> <ul> <li>Uses a loop to iteratively build up to \\( F_n \\).</li> <li>Time Complexity: \\( \\Theta(n) \\)</li> <li>Much faster, but can we go even faster?</li> </ul> </li> </ol>"},{"location":"Algorithm/HKUL1P5/#matrix-exponentiation","title":"Matrix Exponentiation","text":"<p>Fibonacci numbers can be computed using matrix exponentiation:</p> <p>Let: <pre><code>    | 0 1 |\nA = | 1 1 |\n</code></pre> Then, <pre><code>    | F(n)   F(n+1) |\nA\u207f =| F(n-1) F(n)   |\n</code></pre></p> <p>To compute Fibonacci numbers, compute \\( A^{n-1} \\), and return the value at position (2,2).</p>"},{"location":"Algorithm/HKUL1P5/#matrix-power-algorithms","title":"Matrix Power Algorithms","text":"<p>1st Attempt: Straightforward Recursion <pre><code>Power1(A, n):\n  if (n == 1): return A\n  else: return Multiply(A, Power1(A, n-1))\n</code></pre> - Time: \\( O(n) \\)</p> <p>2nd Attempt: If n is a power of 2 <pre><code>Power2(A, n):\n  if (n == 1): return A\n  else:\n    B = Power2(A, n/2)\n    return Multiply(B, B)\n</code></pre> - Time: \\( O(\\log n) \\)</p> <p>3rd Attempt: General n (Odd or Even) <pre><code>Power3(A, n):\n  if (n == 1): return A\n  if (n is even):\n    B = Power3(A, n/2)\n    return Multiply(B, B)\n  else:\n    B = Power3(A, (n-1)/2)\n    return Multiply(A, Multiply(B, B))\n</code></pre> - Time: \\( O(\\log n) \\)</p>"},{"location":"Algorithm/HKUL1P5/#application-to-fibonacci","title":"Application to Fibonacci","text":"<ul> <li>Use the matrix: <pre><code>    | 0 1 |\n    | 1 1 |\n</code></pre></li> <li>Compute \\( A^{n-1} \\) using Power3 to get \\( F(n) \\) efficiently.</li> <li>Time Complexity: \\( O(\\log n) \\), very efficient for large n.</li> </ul>"},{"location":"Algorithm/HKUL1P6/","title":"Maximum Subarray Problem","text":"<p>Problem Statement: Given an array <code>A[1..n]</code> of integers, find a contiguous subarray (nonempty) whose sum is the largest among all possible contiguous subarrays.</p> <p>Example: A = [-4, 6, -3, -1, 6, 1, -2]</p> <p>The maximum subarray is A[2..6] = [6, -3, -1, 6, 1], and the sum is 9.</p> <p>1st Attempt: Brute-force Algorithm</p> <p>Idea: Try all possible subarrays and compute the sum of each.</p> <p>Algorithm (Max_subarray1): <pre><code>max = -inf;\nfor i = 1 to n:\n    for j = i to n:\n        sum = 0;\n        for k = i to j:\n            sum += A[k];\n        if sum &gt; max:\n            max = sum;\n            ans = (i, j, max);\nreturn ans;\n</code></pre> Time Complexity: O(n^3)</p> <p>Observation: The brute-force algorithm does a lot of redundant addition. For example: - For <code>i=1, j=2</code>: sum = A[1] + A[2] - For <code>i=1, j=3</code>: sum = A[1] + A[2] + A[3] (repeats the work done in <code>j=2</code>)</p> <p>2nd Attempt: Improved Brute-force</p> <p>Idea: Reuse the computed sums to avoid redundancy.</p> <p>Algorithm (Max_subarray2): <pre><code>max = -inf;\nfor i = 1 to n:\n    sum = 0;\n    for j = i to n:\n        sum += A[j];\n        if sum &gt; max:\n            max = sum;\n            ans = (i, j, max);\nreturn ans;\n</code></pre> Time Complexity: O(n^2)</p> <p>This version significantly improves performance by avoiding unnecessary recomputation of subarray sums.</p> <p>Next Step: Can we do even better? (Hint: use divide-and-conquer or dynamic programming)</p> <p>Maximum Subarray Problem (Divide-and-Conquer Approach)</p> <p>Goal: Given an array A[1..n] of integers, find a nonempty, contiguous subarray of A whose values have the largest sum.</p> <p>3rd Attempt: Divide-and-Conquer Approach</p> <p>Key Idea: - Divide the array into two halves around the midpoint. - Recursively solve the maximum subarray problem on the left half and the right half. - Additionally, find the maximum subarray that crosses the midpoint.</p>"},{"location":"Algorithm/HKUL1P6/#why","title":"Why?","text":"<p>Even if the best subarray doesn't lie entirely in one half, it may span both.</p> <p>Example: Array: <code>[3, -1, 3, -5, 4, 5, -8, 2, 0, 4]</code> - Left recursion returns max sum 5 for <code>[3, -1, 3]</code> - Right recursion returns max sum 6 for <code>[2, 0, 4]</code> - But crossing subarray <code>[4, 5]</code> yields sum 9 \u2014 the true maximum.</p>"},{"location":"Algorithm/HKUL1P6/#finding-maximum-subarray-across-the-middle","title":"Finding Maximum Subarray Across the Middle:","text":"<ul> <li>Find max sum from middle to left. <pre><code>max = -\u221e; sum = 0;\nfor i from mid downto 1:\n    sum += A[i]\n    if sum &gt; max:\n        max = sum; left_index = i\n</code></pre></li> <li>Find max sum from middle+1 to right. <pre><code>max = -\u221e; sum = 0;\nfor j from mid+1 to n:\n    sum += A[j]\n    if sum &gt; max:\n        max = sum; right_index = j\n</code></pre></li> <li>Combine both results into a crossing subarray.</li> <li>This takes O(n) time.</li> </ul>"},{"location":"Algorithm/HKUL1P6/#full-recursive-algorithm","title":"Full Recursive Algorithm:","text":"<pre><code>Max_subarray3(A, p, q):\n  if p == q:\n    return (p, q, A[p])\n\n  mid = (p + q) // 2\n  (i1, j1, max1) = Max_subarray3(A, p, mid)\n  (i2, j2, max2) = Max_subarray3(A, mid + 1, q)\n  (i3, j3, max3) = Max_subarray_middle(A, p, q)\n\n  if max1 &gt;= max2 and max1 &gt;= max3:\n    return (i1, j1, max1)\n  elif max2 &gt;= max3:\n    return (i2, j2, max2)\n  else:\n    return (i3, j3, max3)\n</code></pre> <p>Time Complexity: - T(n) = 2T(n/2) + cn  =&gt; T(n) = O(n log n)</p> <p>Can we do even better? (Hint: Yes \u2014 Kadane\u2019s Algorithm)</p>"},{"location":"Algorithm/HKUL1P7/","title":"Exercises Summary","text":"<p>1) Recursive Average of Array - Idea: Use a recursive function to compute the sum of the array and divide by the number of elements. - Algorithm:   <pre><code>avg(A[1..n]) {\n  if (n == 1) return A[1];\n  return (avg(A[1..n-1]) * (n-1) + A[n]) / n;\n}\n</code></pre> - Time Complexity: O(n), as each recursive call processes one element.</p> <p>2) Recursive Array Reversal - Idea: Swap the first and last elements and recurse on the subarray. - Algorithm:   <pre><code>reverse(A, start, end) {\n  if (start &gt;= end) return;\n  swap(A[start], A[end]);\n  reverse(A, start + 1, end - 1);\n}\n</code></pre> - Time Complexity: O(n), with only constant extra space used for recursion.</p> <p>3) Generating All n-bit Strings - Idea: Fix the last bit and recursively generate the first (n-1) bits. - Algorithm:   <pre><code>generate_bits(A, n) {\n  if (n == 0) {\n    print A;\n    return;\n  }\n  A[n] = 0;\n  generate_bits(A, n-1);\n  A[n] = 1;\n  generate_bits(A, n-1);\n}\n</code></pre> - Time Complexity: O(2^n), since there are 2^n combinations.</p> <p>4) Generating All Subsets of a Set - Idea: Use recursion to include or exclude each element. - Algorithm:   <pre><code>generate_subsets(set, i, current) {\n  if (i == set.length) {\n    print current;\n    return;\n  }\n  generate_subsets(set, i+1, current); // exclude\n  current.add(set[i]);\n  generate_subsets(set, i+1, current); // include\n  current.remove(set[i]);\n}\n</code></pre> - Time Complexity: O(2^n)</p> <p>5) Generating Subsets of Size &lt;= x - Idea: Modify the subset generation to track the current size. - Algorithm:   <pre><code>generate_limited_subsets(set, i, current, x) {\n  if (i == set.length) {\n    if (current.size() &lt;= x) print current;\n    return;\n  }\n  generate_limited_subsets(set, i+1, current, x); // exclude\n  if (current.size() &lt; x) {\n    current.add(set[i]);\n    generate_limited_subsets(set, i+1, current, x); // include\n    current.remove(set[i]);\n  }\n}\n</code></pre> - Time Complexity: O(2^n) worst-case, but may reduce depending on x.</p>"},{"location":"Algorithm/HKUL1P8/","title":"HKUL1P8","text":"<p>Summary &amp; Exam Guide: Recursion and Divide-and-Conquer</p>"},{"location":"Algorithm/HKUL1P8/#core-concepts-covered","title":"\ud83d\udcd6 Core Concepts Covered","text":""},{"location":"Algorithm/HKUL1P8/#1-divide-and-conquer","title":"\u2705 1. Divide and Conquer","text":"<ul> <li>Problem is split into subproblems, solved recursively, and solutions combined.</li> <li>Common recurrence: <code>T(n) = 2T(n/2) + cn</code></li> <li>Time complexity often solved via Master Theorem:<ul> <li>If <code>f(n) = \u0398(n^p)</code>, then:<ul> <li>If <code>a &gt; b^p</code> \u2794 <code>T(n) = \u0398(n^log_b a)</code></li> <li>If <code>a = b^p</code> \u2794 <code>T(n) = \u0398(n^p log n)</code></li> <li>If <code>a &lt; b^p</code> \u2794 <code>T(n) = \u0398(n^p)</code></li> </ul> </li> </ul> </li> </ul>"},{"location":"Algorithm/HKUL1P8/#2-recursion","title":"\u2705 2. Recursion","text":"<ul> <li>Recursive algorithms must define:<ul> <li>Base case</li> <li>Recursive step</li> </ul> </li> <li>Should always aim to reduce the problem size.</li> </ul>"},{"location":"Algorithm/HKUL1P8/#3-recurrence-and-complexity","title":"\u2705 3. Recurrence and Complexity","text":"<ul> <li>Learn to express recursive time complexity and simplify using:<ul> <li>Recursion Tree</li> <li>Master Theorem</li> </ul> </li> </ul>"},{"location":"Algorithm/HKUL1P8/#classic-recursive-problems","title":"\ud83d\udd27 Classic Recursive Problems","text":""},{"location":"Algorithm/HKUL1P8/#largest-number-in-array","title":"\u2022 Largest Number in Array","text":"<ul> <li>Divide array into halves.</li> <li>Base: single element</li> <li>Combine: return max of two halves</li> <li>Time Complexity: O(n)</li> </ul>"},{"location":"Algorithm/HKUL1P8/#fibonacci-numbers","title":"\u2022 Fibonacci Numbers","text":"<ul> <li>Naive recursion: exponential time <code>T(n) = T(n-1) + T(n-2)</code></li> <li>Iterative: O(n)</li> <li>Matrix Exponentiation: O(log n)</li> </ul>"},{"location":"Algorithm/HKUL1P8/#maximum-subarray-problem","title":"\u2022 Maximum Subarray Problem","text":"<ul> <li>Brute-force: O(n^3)</li> <li>Improved brute-force: O(n^2)</li> <li>Divide-and-conquer: O(n log n)</li> <li>(Optional) Kadane\u2019s algorithm: O(n)</li> </ul>"},{"location":"Algorithm/HKUL1P8/#matrix-exponentiation","title":"\u2022 Matrix Exponentiation","text":"<ul> <li>Naive: O(n)</li> <li>Recursive squaring: O(log n)</li> </ul>"},{"location":"Algorithm/HKUL1P8/#key-implementation-exercises","title":"\u2728 Key Implementation Exercises","text":"<ol> <li>Average of Array: Use recursion to divide and compute average.</li> <li>Reverse Array: Swap elements recursively with constant space.</li> <li>Generate Binary Strings: Fix last bit recursively and backtrack.</li> <li>Generate Subsets: Include/exclude current element recursively.</li> </ol>"},{"location":"Algorithm/HKUL1P8/#exam-tips","title":"\ud83d\udcda Exam Tips","text":"<ul> <li>Know how to write recursive functions with correct base and recursive cases.</li> <li>Be able to analyze time complexity using recurrence relations.</li> <li>Understand where recursion is inefficient and should be replaced with iteration.</li> <li>Trace recursive calls and predict outputs.</li> </ul>"},{"location":"Algorithm/HKUL1P8/#practice-questions-you-might-see","title":"\ud83d\udd39 Practice Questions You Might See","text":"<ul> <li>Write a recursive algorithm to compute the average of numbers.</li> <li>Implement and analyze recursive Fibonacci.</li> <li>Use divide-and-conquer to solve max subarray problem.</li> <li>Derive time complexity from a given recursive function.</li> <li>Generate all subsets of a set recursively.</li> </ul>"},{"location":"Algorithm/HKUL1P8/#asymptotic-notation-key","title":"\ud83d\udd24 Asymptotic Notation Key","text":"Symbol Name Meaning O Big-O Upper bound: f(n) grows at most as fast as g(n), up to constant factors \u03a9 Big-Omega Lower bound: f(n) grows at least as fast as g(n), up to constant factors \u0398 Big-Theta Tight bound: f(n) grows at the same rate as g(n), up to constant factors o Little-o Strictly slower: f(n) grows slower than g(n); f(n)/g(n) \u2192 0 as n \u2192 \u221e \u03c9 Little-omega Strictly faster: f(n) grows faster than g(n); f(n)/g(n) \u2192 \u221e as n \u2192 \u221e"},{"location":"Algorithm/HKUL1P8/#intuition-cheat-sheet","title":"\ud83d\udca1 Intuition Cheat Sheet","text":"<ul> <li><code>f(n) = O(g(n))</code> \u2192 f \u2264 g</li> <li><code>f(n) = \u03a9(g(n))</code> \u2192 f \u2265 g</li> <li><code>f(n) = \u0398(g(n))</code> \u2192 f \u2248 g</li> <li><code>f(n) = o(g(n))</code> \u2192 f \u226a g</li> <li><code>f(n) = \u03c9(g(n))</code> \u2192 f \u226b g</li> </ul> <p>Would you like me to walk through that table now and fill in the T/F for each row based on these?</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H1/","title":"Assignment I","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H1/#exercise-1-review","title":"Exercise 1 Review","text":"<p>Explain the difference between the stack and the heap.</p> <p>Computer can allocate memory in two possible ways: Stack and Heap allocation.</p> Feature Stack Heap Memory Allocation Static, handled automatically Dynamic, handled manually Memory Management Managed by the system Managed by the programmer Data Structure FILO (First In Last Out) Tree Structure Access Speed Relatively Faster Relatively Slower Lifetime Tied to function call (short-lived) Flexible, persists until freed Size Limit Limited, generally 1-8 MB Larger, limited by available memory Error Types Stack Overflow Memory Leakage Example <code>int x = 10;</code> (Local Variable) <code>int* x = malloc(sizeof(int));</code> <p>Since the order of programming in C/C++ is defined, putting all variables in linear order will not cause problem. Thus, in static memory allocation, static variables can be handled by Stack in order of function call. However, dynamic memory allocation means variables can be created or removed directly. So, linear data structure is not available to manage order of variables, so heap data structure is more likely.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H1/#exercise-2-personal-research","title":"Exercise 2 Personal research","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H1/#21-briefly-explain-what-operations-are-performed-when-a-computer-is-powered-on","title":"2.1 Briefly explain what operations are performed when a computer is powered on.","text":"<p>When the computer is powered on, 4 steps are followed.</p> <ol> <li>POST (Power On Self Test) will test computer hardware before OS is loaded.</li> <li>BIOS (Basic Input/Output System) initialize and control basic hardware components including monitor, keyboard, HDD.</li> <li>Bootloader is located from Motherboard attached storage by BIOS</li> <li>OS kernel is loaded by bootloader so that OS can control bootloader now.</li> </ol> <p>What is the role of the BIOS and how does it interact with the OS?</p> <ol> <li>Initialize hardware components and check their functionality before OS loading.</li> <li>Boot processing will locate and load bootloader from storage.</li> <li>When bootloader launches OS, BIOS still runs on background to support features that might be useful to OS.</li> </ol>"},{"location":"ECE482FA24/ECE482HW/ECE482H1/#22-in-a-few-words-explain-what-are-hybrid-and-exo-kernels","title":"2.2 In a few words explain what are hybrid and exo kernels.","text":"<p>Monolithic Kernel is simple kernel form, so that both user and kernel are in same address. Since user and kernel use same space, process speed is faster, architecture is simple and flexible. However, entire volume of OS and kernel will be in large scale, making OS unstable and insecure. Linux, UNIX are common examples.</p> <p>Microkernel divides user space and kernel space. Thus, it is more secure and stable. Also, it will use relatively less amount of volume. However, since user and kernel will be divided, architecture is complicated and integration of kernel and user have several inconveniences. Also, several functions available on monolithic kernel might be limited. Minix is example.</p> <p>Hybrid Kernel is a combination of two kernel architecture above with smaller kernel volume. It has more various functions than microkernel, but still has less functions than monolithic kernel. Also, architecture design will be even more complicated than monolithic kernel. Microsoft Windows is example.</p> <p>Exo Kernel is currently in research by UC Berkeley rather than utilized in industries. It is developed concept based on monolithic kernel, with better speed and security. However, architecture will be more sophisticated, with potentially inefficient use of computer resources.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H1/#exercise-3-course-application","title":"Exercise 3 Course Application","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H1/#31-which-of-the-following-instructions-should-only-be-allowed-in-kernel-mode-explain","title":"3.1 Which of the following instructions should only be allowed in kernel mode? Explain.","text":"<ul> <li>a) Disable all interrupts</li> <li>b) Read the time-of-day clock</li> <li>c) Set the time-of-day clock</li> <li>d) Change the memory map</li> </ul> <p>(b) is allowed in both user mode and kernel mode. (a), (c), (d) are allowed only in kernel mode.</p> <p>Disabling all interruption in OS pipeline must be handled by kernel, since it will be entire reset of the process pipeline. User should not have full comprehension and access of the entire OS.</p> <p>Read the time of the day can be done in user level, especially considering the different time zone shared globally by several users. Basic time might be setup into UTC 0, and additional time zone calculation can be done for each user mode.</p> <p>However, set the time of the day must be in kernel level. Time is very closely related to the entire process of the Operating System and its logs. Thus, user level time clock setup should be prohibited.</p> <p>Memory map is also directly related to the operating system. Data structure of stack and heap to store each kind of memory should be handled under entire kernel. Thus, user level memory map access might compromise the running process of entire OS.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H1/#32-consider-a-system-that-has-two-cpus-and-each-cpu-is-composed-of-two-threads","title":"3.2 Consider a system that has two CPUs and each CPU is composed of two threads.","text":"<p>Suppose three programs, P0, P1, and P2, are started with run times of 5, 10 and 20 ms, respectively. How long will it take to complete the execution of these programs? Assume that all three programs are 100% CPU bound, do not block during execution, and do not change CPUs once assigned.</p> <p>There are 2 CPUs, and 2 threads per 1 CPU, thus 4 threads exist. One thread can handle one process simultaneously, so all three programs P0, P1, and P2 are able to start simultaneously without waiting for thread scarcity.</p> <p>Execution time for each program will be P0 5ms, P1 10ms, P2 25ms. If each thread take each task simultaneously, P2 end time <code>25ms</code> will be complete time. Suppose core can take each task simultaneously. If program execution is optimized, P0 and P2 will be assigned together, so that P1 will start after P0 ends, resulting in same <code>25ms</code>. However, if programs execution list is in FIFO queue order, then it will take <code>30ms</code> since core handling. In worst case, if all projects require 2 cores, then time consumption will be <code>40ms</code>.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H1/#exercise-4-command-lines-on-a-unix-system","title":"Exercise 4 Command lines on a Unix system","text":"<p>On Linux use the command line to:</p> <ol> <li>Create a new user;</li> <li>List all the currently running processes;</li> <li>Display the characteristics of the CPU and the available memory;</li> <li>Redirect random output read from a system device, into two different files;</li> <li>Concatenate the two previous files;</li> <li>Read the content of the resulting file as hexadecimal values (in other words find a command to    read a file as hexadecimal values);</li> <li>Go at the root of the kernel source you downloaded in l2 and use a single command to find all    the files in with the word mutex in their name and containing the whole word nest_lock;</li> </ol> <p>Note: follow the ?\uc40frogramming exercises??guidelines and save the list of commands in a shell file (.sh).</p> <p>Shell commandlines in <code>e4.sh</code> file.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H1/#exercise-5-simple-problem","title":"Exercise 5 Simple problem","text":"<p>One reason GUIs were initially slow to be adopted was the cost of the hardware needed to support them. How much video RAM is needed to support a 25 lines by 80 rows character monochrome text screen? How much for a 1024 x 768 pixel 24-bit color bitmap? Assuming the cost of this RAM in the 1980es was $5/KB what was the price of those two solutions? How much is it now?</p> <p>Monochrome text character is ASCII, 2^8=256 bits, 1 byte per each character. The calculation will be 25 X 80 = 2000 Bytes = 2 KB</p> <p>One pixel is composed of 3 RGB values, each value from 0 to 255. It is 1 byte per each color, so 3 bytes per each pixel. Total memory required per each screen will be 3 X 1024 X 768 = 2359296 Bytes / 1024 = 2304 KB / 1024 = 2.25 MB</p> <p>In 1980, dealing 1024 X 768 RGB pixels represented 2304 KB X 5 $ = 11520 USD. Ignoring inflation for 40 years, this is enough to buy the 275 latest SK Hynix DDR5 16GB RAM, currently 42 USD per each in Amazon, for 2024 October.</p> <p>However, currently abandoned computers in school with 2GB RAM will be far more than enough to handle 3MB memory.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H2/","title":"Assignment II","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H2/#exercise-1","title":"Exercise 1","text":"<p>A few years ago when computers featured less RAM it is was common to increase it in order to enhance CPU performance. In order to better understand the link between the two we now create a simple model for multiprogramming. We assume all the processes to be similar and spending the same fraction p of their time waiting for Input/Output (I/O) to complete.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H2/#1-what-is-the-probability-for-n-processes-to-be-waiting-at-the-same-time-then-express-the-cpu-utilisation-as-a-function-of-n","title":"1. What is the probability for n processes to be waiting at the same time, then express the CPU utilisation as a function of n?","text":"<p>Probability \\(p^n\\)</p> <p>CPU Utilization \\(U(n)=1-p^n\\) where \\(n\\) is number of process.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H2/#2-sketch-the-curve-representing-the-cpu-utilisation-as-a-function-of-the-number-of-processes-for-the-following-values-of-p-25-60-and-90","title":"2. Sketch the curve representing the CPU utilisation as a function of the number of processes for the following values of p: 25%, 60% and 90%.","text":"<p>Suppose CPU Utilization \\(U\\) function for \\(n\\) number of process \\(U(n)\\).</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H2/#3-a-certain-old-computer-has-256-mb-of-ram-once-loaded-a-light-operating-system-uses-96-mb-of-ram","title":"3. A certain old computer has 256 MB of RAM, once loaded a light operating system uses 96 MB of RAM.","text":"<p>Several programs are launched each of them using 48 MB.</p> <p>a) How many processes can be store simultaneously in memory?</p> <p>Given 256 MB RAM, OS uses 96 MB, 160 MB left and each process takes 48 MB. Suppose 4 processors share 160 MB, then it is 40 MB per each, which is less than 48 MB required for process to run. If 3 processors share 160MB, then its capacity is 53.3 per each, enough to handle each process. Thus, <code>3</code> processes can be store simultaneously in memory.</p> <p>b) Assuming an average of 90% I/O waiting time what is the CPU utilisation?</p> <p>Since \\(p=0.9\\) and \\(n=3\\), \\(U(n)=1-p^n=1-(0.9)^{3}=1-0.729=0.271\\) Thus, CPU utilization <code>U=27.1%</code></p> <p>c) What is the effect of adding 256 MB, 512 MB and 1024 MB of RAM. Argue on which amount would be the most beneficial and would be worth the investment.</p> <p>\\(256 + 256 \\rightarrow (512 - 96) / 48 = 416 / 48 = 8.67 \\rightarrow U(8)=1??.90^{8}=1??.430=0.570\\)</p> <p>\\(256 + 512 \\rightarrow (768 - 96) / 48 = 672 / 48 = 14 \\rightarrow U(8)=1??.90^{14}=1??.206=0.794\\)</p> <p>\\(256 + 1024 \\rightarrow (1280 - 96) / 48 = 1184 / 48 = 24.67 \\rightarrow U(8)=1??.90^{24}=1??.121=0.879\\)</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H2/#ex-2-understanding-system-calls","title":"Ex. 2 ??Understanding system calls","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H2/#1-briefly-introduce-strace-and-ltrace-explain-they-could-be-helpful-along-the-semester","title":"1. Briefly introduce strace and ltrace. Explain they could be helpful along the semester.","text":"<p>Both <code>strace</code> and <code>ltrace</code> are trace debugging tools.</p> <p><code>strace</code> traces based on system calls by following interaction between Linux kernel and program.</p> <p><code>ltrace</code> traces library calls instead of system call. This shows logs of library dependent function calls.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H2/#2-what-are-the-manpages-sections-for-system-calls-and-library-calls","title":"2. What are the manpages sections for system calls and library calls?","text":"<p>In convention, system calls are in section 2 and library calls are in section 3.</p> <p>Use command like <code>man 2 &lt;system_call_name&gt;</code> for system calls and <code>man 3 &lt;library_function_name&gt;</code> for library functions.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H2/#3-system-calls","title":"3. System calls.","text":"<p>a) What are the main types of system calls?</p> <ol> <li>Process management: creation, termination, control <code>exit(0)</code>, <code>fork()</code>, <code>exec()</code></li> <li>File management: open close read write <code>open()</code>, <code>close()</code>, <code>read()</code>, <code>write()</code></li> <li>Device management: IO operation, peripheral interaction <code>ioctl()</code></li> <li>Information maintenance: system level info setup and retrieval <code>getpid()</code>, <code>getuid()</code>, <code>setuid()</code></li> <li>Inter Process Communication IPC: send message <code>pipe()</code>, <code>msgsnd()</code></li> </ol> <p>b) Run strace on the ls command and classify all the listed system calls.</p> <pre><code>strace ls\n</code></pre> <p>output file on <code>strace_ls.txt</code></p> <ul> <li>Process protocol <code>execve(\"/usr/bin/ls\", [\"ls\"], 0xfffff3920cf0 /* 53 vars */) = 0</code></li> <li>Memory management <code>brk, mmap, munmap</code></li> <li>File management <code>openat(AT_FDCWD, \"...\"), read(...), close(...)</code></li> <li>Device management <code>ioctl(...)</code></li> <li>Information maintenance <code>statfs(...), getrandom(...)</code></li> <li>Communication <code>prlimit64(...)</code></li> <li>Exit <code>exit_group(0)</code></li> </ul> <p>c) Select a line of your choice in strace output and explain its meaning.</p> <pre><code>openat(AT_FDCWD, \".\", O_RDONLY|O_NONBLOCK|O_CLOEXEC|O_DIRECTORY) = 3\n</code></pre> <ul> <li><code>openat()</code>: Open file relative to a directory file descriptor.</li> <li><code>AT_FDCWD</code> means directory is current working directory.</li> <li><code>/lib/aarch64-linux-gnu/libselinux.so.1</code> File opened in SELinux shared library.</li> <li><code>O_RDONLY|O_CLOEXEC</code>: File is opened in read-only mode <code>O_RDONLY</code>, and <code>O_CLOEXEC</code> means file descriptor will be automatically closed if process performs <code>exec()</code> system call.</li> <li><code>3</code>: This is the file descriptor returned by the system call.</li> </ul> <p>d) How to attach strace to a running process? Describe a scenario where this could be handy</p> <pre><code>strace -p &lt;pid&gt;\n</code></pre> <p><code>&lt;pid&gt;</code> should be ID of running process.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H2/#ex-3-a-simple-system-call","title":"Ex. 3 ??A simple system call","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H2/#1-kernel-printing","title":"1. Kernel printing.","text":"<p>a) What is the counterpart of printf() when working inside the Linux kernel?</p> <p>The <code>printk</code> is the counterpart of <code>printf</code> inside Linux kernel log. It is visible in <code>dmesg</code>.</p> <p>b) Write the body a simple ?\uc40aernel function??displaying ?\uc3eeum is proud of you!??</p> <pre><code>void mum_is_proud(void) {\n    printk(KERN_INFO \"Mum is proud of you!\\n\");\n}\n</code></pre> <p><code>KERN_INFO</code> is one level of log, meaning it is not information.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H2/#2-headers-and-function-name","title":"2. Headers and function name.","text":"<p>a) What header files should be included when adding a new system call?</p> <pre><code>#include &lt;linux/kernel.h&gt;    // kernel-related functions including printk().\n#include &lt;linux/syscalls.h&gt;  // system call macros like SYSCALL_DEFINE.\n</code></pre> <p>b) How are the macros <code>SYSCALL_DEFINE0</code> and <code>SYSCALL_DEFINEx</code> working?</p> <p><code>SYSCALL_DEFINE0(name)</code> defines system call with zero arguments. It internally uses the <code>asmlinkage</code> keyword, ensuring function called follows convention for system calls.</p> <p><code>SYSCALL_DEFINEx</code> defines system call with x number of arguments where xrange from 0 to 6.</p> <p>c) Use the SYSCALL_DEFINE0 to define the new system call encouragement. Name your file encouragement.c and save it in a folder encouragement at the root of the kernel source code</p> <pre><code>#include &lt;linux/kernel.h&gt;\n#include &lt;linux/syscalls.h&gt;\n\nSYSCALL_DEFINE0(encouragement) {\n    printk(KERN_INFO \"Mum is proud of you!\\n\");\n    return 0;\n}\n</code></pre> <p>Save at root of the kernel source code.</p> <pre><code>cd ~/sched_ext-for-6.11/\nmkdir encouragement\ncd encouragement\necho '#include &lt;linux/kernel.h&gt;\n#include &lt;linux/syscalls.h&gt;\n\nSYSCALL_DEFINE0(encouragement) {\n    printk(KERN_INFO \"Mum is proud of you!\\n\");\n    return 0;\n}' &gt; encouragement.c\n</code></pre>"},{"location":"ECE482FA24/ECE482HW/ECE482H2/#3-makefile-and-kbuild","title":"3. Makefile and Kbuild.","text":"<p>a) Jump to the end of Kbuild file and following the same patterns as on the last few lines, add your encouragement directory there.</p> <pre><code>nano Kbuild\n</code></pre> <pre><code>obj-$(CONFIG_SAMPLES)   += samples/\nobj-$(CONFIG_NET)       += net/\nobj-y                   += virt/\nobj-y                   += $(ARCH_DRIVERS)\nobj-y                   += encouragement/\n</code></pre> <p>b) Check the Makefiles for the directories listed at the end of Kbuild file and create a Makefile for your encouragement directory.</p> <pre><code>touch Makefile\n</code></pre> <pre><code># Makefile of J H Park\n\nobj-y := encouragement.o\n</code></pre>"},{"location":"ECE482FA24/ECE482HW/ECE482H2/#4-system-call-registration","title":"4. System call registration.","text":"<p>a) Add your new system call to <code>syscalls.h</code>.</p> <p>Hint: there are more than one such file, make sure to edit the correct one!</p> <p>Correct position at <code>/include/linux/syscalls.h</code> in my M3 Mac will be ARM64. However, <code>cat arch/aarch64/include/asm/syscalls.h</code> does not exist. Only <code>cat arch/arm/include/asm/syscall.h</code> exist.</p> <pre><code>uname -m\naarch64\ncat arch/arm64/include/asm/syscall\nsyscall.h          syscall_wrapper.h\ncat arch/arm/include/asm/syscalls.h\n</code></pre> <p>Instead of editing <code>arch/arm64/include/asm/syscall.h</code></p> <p>I edited <code>arch/arm64/include/asm/syscall.h</code></p> <pre><code> # nano arch/arm64/include/asm/syscall.h\nnano include/linux/syscalls.h\n\nasmlinkage long sys_encouragement(void);\n</code></pre> <p>b) Add your new system call to <code>syscall_64.tbl</code>. Hint: what architecture is your Linux running on?</p> <p>M3 Mac should set system call value in different position.</p> <pre><code>nano arch/arm64/kernel/syscall.c\n\n#include &lt;linux/kernel.h&gt; // Included\n#include &lt;linux/syscalls.h&gt; // Included\n\nSYSCALL_DEFINE0(encouragement) {\n    printk(KERN_INFO \"Mum is proud of you!\\n\");\n    return 0;\n}\n</code></pre>"},{"location":"ECE482FA24/ECE482HW/ECE482H2/#5-recompile-the-kernel-and-reboot-do-not-forget-to-update-the-bootloader","title":"5. Recompile the kernel and reboot (do not forget to update the bootloader).","text":"<p>Recompile</p> <pre><code>make -j$(nproc)\n</code></pre> <p>If modules are not installed install</p> <pre><code>make modules_install\nmake install\nreboot\n</code></pre>"},{"location":"ECE482FA24/ECE482HW/ECE482H2/#6-write-a-simple-user-space-program-to-demonstrate-the-well-functioning-of-your-system-call","title":"6. Write a simple user space program to demonstrate the well functioning of your system call.","text":"<p>This is program.</p> <pre><code>#include &lt;stdio.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;sys/syscall.h&gt;\n\nint main() {\n    long result = syscall(438);\n    printf(\"Syscall returned: %ld\\n\", result);\n    return 0;\n}\n</code></pre> <p>If kernel reaches storage issue</p> <pre><code>df -h\nmake clean\nmake mrproper\ndf -h\n</code></pre>"},{"location":"ECE482FA24/ECE482HW/ECE482H3/","title":"Assignment III","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H3/#exercise-1-general-questions","title":"Exercise 1 - General questions","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H3/#exercise-11-if-a-multithreaded-process-forks-a-problem-occurs-if-the-child-gets-copies-of-all-the-parents-threads","title":"Exercise 1.1 If a multithreaded process forks, a problem occurs if the child gets copies of all the parent's threads.","text":"<p>Suppose that one of the original threads was waiting for keyboard input. Now two threads are waiting for keyboard input, one in each process. Does this problem ever occur in single-threaded processes?</p> <p>NO. In single thread, <code>fork()</code> call of process id will receive child process as copy of single thread. Only one process can wait for input. Thus, it is not likely for single thread CPU to have this kind of duplicated input acquisition.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H3/#exercise-12-many-unix-system-calls-have-no-win32-api-equivalents","title":"Exercise 1.2 Many UNIX system calls have no Win32 API equivalents.","text":"<p>For each such call, what are the consequences when porting a program from a UNIX system to a Windows system?</p> <p>Some OS concepts in UNIX exist in WIN32 too, but their commands are different, such as process generation command <code>fork()</code> is either in Windows threads or <code>CreateProcess()</code> function. So, UNIX command is mostly incompatible. Thus, consequences when porting a program from a UNIX system to a Windows system will be unlikely to work due to incompatible calls.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H3/#exercise-2-c-programming-the-code-of-this-exercise-will-be-reused-in-future-labs","title":"Exercise 2 - C programming - The code of this exercise will be reused in future labs","text":"<p>The goal of this exercise is to improve the programming skills and get more familiar with pointers and function pointers.</p> <ol> <li>Implement a linked list structure containing two pointers of type char and void. It should be    possible to at least add elements to the list.</li> <li>Knowing that the void pointer in the structure could contain some char*, int, or double, write a    search function for this linked list.</li> <li>The linked list will store elements read from an ASCII file where each line is in the format    <code>somestring=somedata</code>. The type of the data is defined in the filename; for instance a file    containing unsorted integers will be named rand_int.txt. Implement the necessary functions to    read and write such files.</li> <li>Use a function pointers to compare and sort the elements from the structure with respect to the    data field. Implement the following sorting orders: increasing, decreasing, and random. The    filename is <code>sortingtype_dataype.txt</code>, where <code>sortingtype</code> is rand, inc, or dec.s</li> <li>Write a function to test the implementation.</li> </ol> <p>Sample output, test on JOJ using <code>git commit -m \"joj.h3</code></p> <pre><code>git add .\ngit commit --allow-empty -m \"test(h3): joj\"\ngit push\nclang-18 -std=gnu17 -O2 -Wall -Wextra -Werror -pedantic -Wno-unused-result -Wconversion -Wvla main.c -o h3\n./h3 rand_int.txt inc\n</code></pre> <p>File name structure <code>[Sort Type]_[Data Type].txt</code></p>"},{"location":"ECE482FA24/ECE482HW/ECE482H3/#ex-3-research-on-posix","title":"Ex. 3 - Research on POSIX","text":"<p>Write a few paragraphs about the POSIX standards. What are they, why do they exist, what kind of things are included in the norms.</p> <p>POSIX (Portable Operating System Interface) is IEEE standard designed for OS compatibility. It defines API and Interface of OS to be conventional primarily targeting UNIX based systems. Not only Linux and MacOS but also even Microsoft Windows can offer some POSIX compatibility based on Windows Subsystem for Linux (WSL).</p> <p>During the warring states of OS, a lot of OS emerged and competed against each other. Almost all of them had different form of commands, functions, system calls, and utilities without any compatibility. This made programmers to make different codes of system call for each OS, making it extremely inefficient. POSIX standard application in OS industry promised way much portable software for all software programs in different OS.</p> <p>POSIX standard has several key concepts.</p> <ol> <li>System Calls for process creation<code>fork()</code>, execution<code>exec()</code>, and termination <code>exit()</code>, <code>kill()</code>.</li> <li>File IO (input output) stream operations <code>read()</code>, <code>write()</code>, permissions, directory functions <code>opendir()</code>, <code>readdir()</code>.</li> <li>Multi Threading APIs like POSIX Threads or Pthreads</li> <li>IPC (Inter Process Communication) and Process Management lik <code>pipe()</code></li> <li>Network Standards including socket based communication</li> <li>Command Line Interface basic functions like <code>ls</code>, <code>cd</code>, <code>grep</code>, <code>awk</code>, <code>sed</code>, etc...</li> <li>Shell Script standards</li> </ol> <p>POSIX allow compatible software for different OS, so code portability is way much better, and programmers don't need to make software for each different Operating Systems.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H4/","title":"Assignment IV","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H4/#exercise-1-simple-questions","title":"Exercise 1 Simple questions","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H4/#1","title":"1.","text":"<p>Consider a system in which threads are implemented entirely in user space, with the run-time system getting a clock interrupt once a second. Suppose that a clock interrupt occurs while some thread is executing in the run-time system. What problem might occur? Can you suggest a way to solve it?</p> <p>Thread control data corruption is likely if system runtime is during thread update including thread status, program counter, or stack pointer. Clock interruption might compromise thread data structure. Also, interruption handling malfunction might also happen. Implementation of interrupt masking in runtime system can solve this issue, since it will basically prohibit interruption temporarily during thread process that would compromise system is not finished. Once these operations are complete, the interrupts can be enabled again. This approach will ensure no interruption during thread processes that might damage if stopped without finish.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H4/#2","title":"2.","text":"<p>Suppose that an operating system does not have anything like the select system call (man select for more details on the command) to see in advance if it is safe to read from a file, pipe, or device, but it does allow alarm clocks to be set that interrupt blocked system calls. Is it possible to implement a threads package in user space under these conditions? Discuss.</p> <p>It is possible to implement a threads package in user space under conditions without any commands similar to <code>select</code> system call. It is important to remember that blocked threads are not blocking entire process. Kernel manages all processes, but they are not controlling each thread. It will be impossible to check whether file or pipe are ready to be used during Input / Output, without <code>select()</code> function. However, <code>alarm clock</code> can be used to get worktime in the following order.</p> <ol> <li>Thread request to read from file or pipe</li> <li>Runtime system call <code>read()</code></li> <li>If call blocks, alarm clock like <code>alarm()</code> or <code>settimer()</code> interrupt blocked system call</li> <li>Receive alarm interrupt, runtime system save blocked thread status</li> <li>Blocked thread switch to another thread</li> <li>Original thread retry IO operation</li> </ol> <p>Even though this clock using approach wastes resource for counting times for each process I/O, this method will successfully prevent process blocking during I/O by thread switch.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H4/#exercise-2-race-condition-in-bash","title":"Exercise 2 Race condition in Bash","text":"<p>Write a Bash script which generates a file composed of one integer per line. The script should read the last number in the file, add one to it, and append the result to the file.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H4/#1-run-the-script-in-both-background-and-foreground-at-the-same-time-how-long-does-it-take-before-observing-a-race-condition","title":"1. Run the script in both background and foreground at the same time. How long does it take before observing a race condition?","text":"<p>Code implemented at <code>h4/ex2.sh</code>. Foreground on front line and background on back line.</p> <pre><code># If file does not exist create starting with 0\nif [ ! -f counter.txt ]; then\n    echo 0 &gt; counter.txt\nfi\n\n# Read the last number from the file\nlast_num=$(tail -n 1 counter.txt)\n\n# Create new number incremented one from last number\nnew_num=$((last_num + 1))\n\n# Append new number to result\necho $new_num &gt;&gt; counter.txt\n</code></pre> <p>Foreground Terminal</p> <pre><code>chmod +x ex2.sh\n./ex2.sh\n</code></pre> <p>Background Terminal</p> <pre><code>while true; do ./ex2.sh &amp; sleep 0.1; done\n</code></pre> <p>The background terminal will iterate to execute <code>ex2.sh</code> forever until it is interrupted.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H4/#2-modify-the-script-such-as-to-prevent-the-race-condition","title":"2. Modify the script such as to prevent the race condition.","text":"<p>Code implementation to lock infinite loop is required.</p> <pre><code># Flock usage, only one process write to file at same time\nexec 200&gt;counter.txt.lock      # Create or open lock file\nflock -n 200 || exit 1         # Get lock, exit if locked\n</code></pre> <p>Added the following lines of code to implement lock.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H4/#exercise-3-programming-with-semaphores","title":"Exercise 3 Programming with semaphores","text":"<p>The following C code creates two threads which increment a common global variable. When run it generates a random and inaccurate output. In order to solve this problem we want to use semaphores.</p> <ol> <li>On Linux, find the file semaphore.h.</li> <li>Read the documentation to understand how to use the functions described in the file <code>semaphore.h</code>.</li> <li>Using semaphores adjust the program such as to always return the correct answer.</li> </ol> <pre><code>find /usr/include -name semaphore.h\n/usr/include/semaphore.h\ncat /usr/include/semaphore.h\n</code></pre> <p>Semaphore file attached as <code>semaphore.h</code> in folder.</p> <p>The GNU C Library (glibc) manual Semaphore</p> <p>Linux shell manual check by following command</p> <pre><code>man sem_init\nman sem_wait\n</code></pre> <p>Semaphore code to always return the correct answer is in <code>semaphore.c</code> file.</p> <pre><code>clang-18 -std=gnu17 -O2 -Wall -Wextra -Werror -pedantic -Wno-unused-result -Wconversion -Wvla code.c -o code\n</code></pre>"},{"location":"ECE482FA24/ECE482HW/ECE482H5/","title":"Assignment V","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H5/#ex-1-simple-questions","title":"Ex. 1 ??Simple questions","text":"<p>1. A system has two processes and three identical resources. Each process needs a maximum of two resources. Can a deadlock occur? Explain.</p> <p>Deadlock can occur in the following circumstances.</p> <ol> <li>Mutual Exclusion</li> <li>Hold and Wait</li> <li>No Preemption</li> <li>Circular Wait</li> </ol> <p>System has two processes and one process can handle maximum 2 resources, meaning that the entire system can handle maximum 4 resources. Each process require maximum 2 resources. However, only 3 resources exist in current circumstance. Thus, since process capability of system is not full, deadlock is NOT going to occur.</p> <p>2. A computer has six tape drives, with n processes competing for them. Each process may need two drives. For which values of n is the system deadlock free?</p> <p>Similar to the answer made at previous problem, System might potentially have deadlock at least \\(n \\geq 6\\). Thus, if \\(n \\in {1,2,3,4,5}\\), then deadlock is not likely to happen.</p> <p>3. A real-time system has four periodic events with periods of 50, 100, 200, and 250 msec each. Suppose the four events require 35, 20, 10, and x msec of CPU time, respectively. What is the largest value x for which the system is schedulable?</p> <p>\\(\\frac{35}{50} + \\frac{20}{100} + \\frac{10}{200} + \\frac{x}{250} &lt; 1\\)</p> <p>\\(0.95 + \\frac{x}{250} &lt; 1 \\implies \\frac{x}{250} &lt; 0.05 \\implies x &lt; 12.5\\)</p> <p>Thus, 12.5 will be maximum.</p> <p>4. Round-robin schedulers normally maintain a list of all runnable processes, with each process occurring exactly once in the list. What would happen if a process occurred more than once in the list? Would there be any reason for allowing this?</p> <p>If same process occurred more than once, then CPU Time will be allocated more to that process.</p> <p>5. Can a measure of whether a process is likely to be CPU bound or I/O bound be detected by analyzing the source code. How to determine it at runtime?</p> <p>CPU bound process is heavily composed of computation.</p> <p>Input Output bound is literally handling reading input and writing output of files.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H5/#exercise-2-deadlocks","title":"Exercise 2 ??Deadlocks","text":"<p>Assuming three resources consider the following snapshot of a system.</p> Process Allocated Maximum Available P1 010 753 332 P2 200 322 P3 302 902 P4 211 222 P5 002 433 <p>1. Determine the content of the Request matrix.</p> <p>$ \\begin{bmatrix} 7 &amp; 4 &amp; 3 \\ 1 &amp; 2 &amp; 2 \\ 6 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 1 \\ 4 &amp; 3 &amp; 1 \\ \\end{bmatrix} $</p> <p>2. Is the system in a safe state?</p> <p>Banker's algorithm should be used to check system status safety. Available resources are \\([3,3,2]\\).</p> <p>\\(P4=(0,1,1) \\rightarrow (3 + 2, 3 + 1, 2 + 1) = (5, 4, 3)\\)</p> <p>\\(P2=(1,2,2) \\rightarrow (5 + 2, 4 + 0, 3 + 0) = (7, 4, 3)\\)</p> <p>\\(P1=(7,4,3) \\rightarrow  (7 + 0, 4 + 1, 3 + 0) = (7, 5, 3)\\)</p> <p>\\(P3=(6,0,0) \\rightarrow (7 + 3, 5 + 0, 3 + 2) = (10, 5, 5)\\)</p> <p>\\(P5=(10, 5, 5) \\rightarrow (10 + 0, 5 + 0, 5 + 2) = (10, 5, 5)\\)</p> <p>3. Can all the processes be completed without the system being in an unsafe state at any stage?</p> <p>Yes. Sequence will be \\(P4 \\rightarrow P2 \\rightarrow P1 \\rightarrow P3 \\rightarrow P5\\) with no safety vulnerable part.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H5/#ex-3-the-reader-writer-problem","title":"Ex. 3 ??The reader-writer problem","text":"<p>In the reader-writer problem, some data could be accessed for reading but also sometimes for writing. When processes want to read the data they get a read lock and a write lock for writing. Multiple processes could get a read lock at the same time while a write lock should prevent anybody else from reading or writing the data until the write lock is released.</p> <p>To solve the problem we decide to use a global variable count together with two semaphores: count_lock for locking the count variable, and db_lock for locking the database. To get a write lock we can proceed as follows:</p> <pre><code>void write_lock() {\n    down(db_lock);\n}\n\nvoid write_unlock() {\n    up(db_lock);\n}\n</code></pre> <p>1. Explain how to get a read lock, and write the corresponding pseudocode.</p> <p>Counter for counting active readers number is required. When reader start, increase count. For first reader, lock database. If reader ends, decrease count. If it is last reader, release db lock. This is following pseudocode.</p> <pre><code>void read_lock(){\n    down(count_lock);\n    if(count == 0) down(db_lock); // First reader lock databas e\n    count++;\n    up(count_lock);\n}\n\nvoid read_unlock(){\n    down(count_lock);\n    count--;\n    if(count==0) up(db_lock); // Last reader unlocks the database\n    up(count_lock);\n}\n</code></pre> <p>2. Describe what is happening if many readers request a lock.</p> <p>When several lock request is made by several readers, then each reader could increase count and only first reader will lock database. Every following readers could skip database lock. Block any new reader when a writer becomes available.</p> <p>3. Explain how to implement this idea using another semaphore called read_lock.</p> <p>Prevent writer to unclearly handle reader influx by using semaphore <code>read lock</code>. This blocks new readers and allow readers to operate properly.</p> <pre><code>void read_lock() {\n    down(read_lock); // New reader prevention\n    down(count_lock);\n    if(count == 0) down(db_lock);\n    count++;\n    up(count_lock);\n    up(read_lock);\n}\n\nvoid read_unlock() {\n    down(count_lock);\n    count--;\n    if(count==0) up(db_lock);\n    up(count_lock);\n}\n</code></pre> <p>4. Is this solution giving any unfair priority to the writer or the reader? Can the problem be considered as solved?</p> <p>Since this solution prohibits new readers to start, it will primarily process writer if resource gets available. It will prevent writer starving, but it causes reader starving instead. Thus, balancing resources for both read and write will be more applicable. Queue or algorithm implementation will be required to give 'fair' priority for both writer and reader.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H6/","title":"Assignment VI","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H6/#exercise-1","title":"Exercise 1","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H6/#11","title":"1.1","text":"<p>Consider a swapping system in which memory consists of the following hole sizes in memory order: 10 KB, 4 KB, 20 KB, 18 KB, 7 KB, 9 KB, 12 KB, and 15 KB. Assuming first fit is used, which hole is taken for successive segment requests of: (i) 12 KB, (ii) 10 KB and (iii) 9KB. Repeat for best fit and quick fit.</p> <p>Available hole sizes: 10 4 20 18 7 9 12 15</p> <p>First Fit</p> <p>(i) 12KB TO 20KB (ii) 10KB TO 18KB (iii) 9KB TO 15KB</p> <p>Best Fit</p> <p>(i) 12KB TO 12KB (ii) 10KB TO 10KB (iii) 9KB TO 9KB</p> <p>Quick Fit</p> <p>(i) 12KB TO 12KB (ii) 10KB TO 10KB (iii) 9KB TO 9KB</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H6/#12","title":"1.2","text":"<p>If an instruction takes 10 nsec and a page fault takes an additional n nsec, give a formula for the effective instruction time if page faults occur every k instructions.</p> <p>Formula for Effective Instruction Time</p> <p>instruction time \\(t=10\\) nanoseconds Page fault additional \\(n\\) nanoseconds Page fault occur every \\(k\\) instructions</p> <p>Effective Time \\(= t + \\frac{n}{k}\\)</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H6/#13","title":"1.3","text":"<p>A small computer has four page frames. At the first clock tick, the R bits are 0111. At t subsequent clock tics, the values are 1011, 1010, 1101, 0010, 1010, 1100 and 0001. Assuming the aging algorithm is used with an 8-bit counter what is the value of the four counters after the last tick.</p> Page Counter Value Page 0 <code>01101110</code> Page 1 <code>01001001</code> Page 2 <code>00110111</code> Page 3 <code>10001011</code>"},{"location":"ECE482FA24/ECE482HW/ECE482H6/#exercise-2-page-tables","title":"Exercise 2 Page tables","text":"<p>In the lecture it was mentioned that the translation from virtual address into physical address could be sped up using the TLB. Unfortunately this solution is not of much help in the case of large page tables. Investigate the two following alternative solutions: inverted page tables and multilevel page tables.</p> Feature Inverted Page Tables Multilevel Page Tables Description Single table for physical frames Hierarchical table structure Table Size Based on physical memory size Based on used virtual pages Benefits Saves memory for large virtual spaces Efficient for sparse address spaces Limitations Slower lookups due to table search Requires multiple memory accesses Implementation Uses a hash function or search mechanism Adds memory for hierarchical levels"},{"location":"ECE482FA24/ECE482HW/ECE482H6/#ex-3-research","title":"Ex. 3 ??Research","text":"<p>Write about half a page on the topic of codes bugs that lead to security holes; In particular illustrate the discussion using common examples. Do not forget to reference your sources of information.</p> <p>Generally subtle bugs inside code files are vulnerable against hacker attack. It can allow external attack to compromise computer system. Flaw logic and insufficient input validation are two core reasons that might potentially cause vulnerabilities.</p> <p>SQL user input query sanitization failure made SQL query execution that are not actually input. This attack is named as <code>SQL injection</code>. Wikipedia: SQL injection</p> <p>Multi Threading environment has <code>race condition</code> if process result in unexpected behavior. Dirty Cow is one good example using write access to read only files. Red Hat: Dirty COW Race Condition. Dirty COW Vulnerability</p> <p>When program access beyond allocated memory, then adjacent memory not allocated will be overwritten. This part can have attack code, named as <code>Buffer overflow</code>. Wikipedia: Morris Worm</p> <p>When validation of user input in file path is not correct, attacker can access inside system, navigating directories. Even access to the <code>etc/passwd</code> might be possible. This is <code>Directory Traversal</code>. Fortinet Security Advisory</p> <p>Attackers use bug in <code>Privilege Escalation</code> aiming higher access privilege than programming system. For instance, Microsoft OpenSSL was attacked by Heartbleed bug. OpenSSL Heartbleed Bug</p> <p>When validation failure or user input encoding error occurs, <code>XSS (Cross Side Scripting)</code> became vulnerable against attacks. Then, other user's web browser can be injected with attack codes that might save tokens and cookies required for login. Wikipedia: Samy (computer worm)</p> <p>When memory is accessed after free, <code>UAF (Use After Free)</code> bug appears. Internet Explorer had this, so had a lot of security issues. CVE Details. Database of Software Vulnerabilities.</p> <p>Applications that have deserialized data is good way for attackers, <code>Deserialization Vulnerabilities</code> inside code. Apache Struts had similar issue, leaking 147 million individual information! Apache Strtus</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H6/#ex-4-linux","title":"Ex. 4 ??Linux","text":"<p>Write a very short C program that leads to thrashing.</p> <p>Code in <code>main.c</code></p>"},{"location":"ECE482FA24/ECE482HW/ECE482H7/","title":"Assignment VII","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#ex-1-page-replacement-algorithm","title":"Ex. 1 ??Page replacement algorithm","text":"<p>In this exercise we consider the WSClock page replacement algorithm with a ? value of two ticks. The system state is given as follows.</p> Page Time Stamp Present Referenced Modified 0 6 1 0 1 1 9 1 1 0 2 9 1 1 1 3 7 1 0 0 4 4 0 0 0"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#ex-11-explain-the-content-of-the-new-table-entries-if-a-clock-interrupt-occurs-at-tick-10","title":"Ex. 1.1. Explain the content of the new table entries if a clock interrupt occurs at tick 10.","text":"<p>Page 0, <code>Time Stamp</code> \\(= 6 \\leq 8\\), old, <code>Referenced</code> \\(=0\\), Replacement candidate, <code>Modified</code> \\(=1\\), Should be written in disk.</p> <p>Page 1, <code>Time Stamp</code> \\(= 9 \\geq 8\\), Not old, No change</p> <p>Page 2, <code>Time Stamp</code> \\(= 9 \\geq 8\\), Not old, No change</p> <p>Page 3, <code>Time Stamp</code> \\(= 7 \\leq 8\\), old, Replacement candidate, with no need to write back to disk</p> <p>Page 4, <code>Present</code>\\(=0\\), so not in memory, not considered for replacement</p> <p>Table after Tick 10 interrupt is following.</p> Page Time Stamp Present Referenced Modified 0 6 1 0 0 1 9 1 1 0 2 9 1 1 1 3 7 1 0 0 4 4 0 0 0"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#ex-12-due-to-a-read-request-to-page-4-a-page-fault-occurs-at-tick-10-describe-the-new-table-entry","title":"Ex. 1.2. Due to a read request to page 4 a page fault occurs at tick 10. Describe the new table entry.","text":"<p>Suppose read request for page 4 is made. Since <code>Present</code> = 0, page is not in memory. Page Fault.</p> <p>WSLock Algorithm</p> <p>First, select victim page. For page 3, <code>Time Stamp</code> \\(= 7 \\leq 8\\), old, <code>Referenced</code>\\(=0\\), <code>Modified</code>\\(=0\\), No need to write back in disk.</p> <p>Now remove page 3 and load page 4. Update <code>Present</code> \\(=1\\), <code>Referenced</code>\\(=0\\), <code>Modified</code>\\(=0\\). Result table will be following.</p> Page Time Stamp Present Referenced Modified 0 6 1 0 0 1 9 1 1 0 2 9 1 1 1 3 7 0 0 0 4 10 1 0 0"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#ex-2-minix-3","title":"Ex. 2 ??Minix 3","text":"<p>The goal of this exercise is to understand and implement system calls.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#ex-21-in-which-files-are","title":"Ex. 2.1. In which files are:","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H7/#a-the-constants-with-number-and-name-for-the-system-calls","title":"a) the constants with number and name for the system calls?","text":"<p>Path is <code>/include/minix/callnr.h</code></p>"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#b-the-names-of-the-system-call-routines","title":"b) the names of the system call routines?","text":"<p><code>/servers/*/table.c</code></p>"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#c-the-prototypes-of-the-system-call-routines","title":"c) the prototypes of the system call routines?","text":"<p><code>/servers/*/proto.h</code></p>"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#d-the-system-calls-of-type-ignalcoded","title":"d) the system calls of type ?\uc413ignal??coded?","text":"<p><code>/servers/pm/signal.c</code></p>"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#ex-22-what-problems-arise-when-trying-to-implement-a-system-call-int-getchpidsint-n-pid_t-childpid","title":"Ex. 2.2. What problems arise when trying to implement a system call int getchpids(int n, pid_t *childpid)","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H7/#which-ritesthe-pids-of-up-to-n-children-of-the-current-process-into-childpid","title":"which ?\uc417rites??the pids of up to n children of the current process into *childpid?","text":"<ul> <li>Since <code>*childpid</code> is located in user space, kernel code will not directly access to user space pointers</li> <li>Secure copy mechanism (<code>sys_datacopy</code>) is required.</li> <li>Validate Buffer size sufficiency to handle <code>n</code> child PIDs.</li> <li>Concurrent issue appears when process create or remove children during execution.</li> </ul>"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#ex-23-write-a-ub-system-callint-getnchpidint-n-pid_t-childpid-which-retrieves-the-n-th-child-process","title":"Ex. 2.3. Write a ?\uc413ub-system call??int getnchpid(int n, pid_t childpid) which retrieves the n-th child process.","text":"<pre><code>#include \"pm.h\"\n#include \"mproc.h\"\n\nint getnchpid(int n, pid_t *childpid) {\n    if (childpid == NULL) return -1;\n    if (n &gt;= NR_PROCS) return -1;\n\n    struct mproc *child = &amp;mproc[n];\n    if (child-&gt;mp_parent != who_p) return -1;    // Ensure the process is a child of caller\n\n    *childpid = child-&gt;mp_pid;                    // Retrieve PID of the child\n    return 0;\n}\n</code></pre>"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#ex-24-using-the-previous-sub-system-call-implement-the-original-getchpids-system-call","title":"Ex. 2.4. Using the previous sub-system call, implement the original getchpids system call.","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H7/#the-returned-int-value-corresponds-to-the-number-of-pids-in-childpid-or-1-on-an-error","title":"The returned int value corresponds to the number of pids in *childpid, or -1 on an error.","text":"<pre><code>#include \"pm.h\"\n#include \"mproc.h\"\n\nint do_getchpids(int n, pid_t *childpid) {\n    if (childpid == NULL) return -1;\n    if (n &gt; NR_PROCS) return -1;\n\n    int count = 0;\n    for (int i = 0; i &lt; n; i++) {\n        int result = getnchpid(i, &amp;childpid[i]);\n        if (result == -1) break;  // Stop if no more children\n        count++;\n    }\n    return count;                 // Return children retrieved count\n}\n</code></pre>"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#ex-25-write-a-short-program-that-demonstrate-the-previous-system-calls","title":"Ex. 2.5. Write a short program that demonstrate the previous system calls.","text":"<pre><code>#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;sys/wait.h&gt;\n\n#define NUM 10  // Number of child processes to create\n\nint main() {\n    pid_t child_pids[NUM];\n    pid_t retrieved_pids[NUM];\n\n    // Create child processes\n    for (int i = 0; i &lt; NUM; i++) {\n        pid_t pid = fork();\n        if (pid == 0) { // Child process\n            printf(\"Child %d: PID = %d\\n\", i, getpid());\n            exit(0);\n        } else if (pid &gt; 0) { // Parent process\n            child_pids[i] = pid;\n        } else {\n            perror(\"fork failed\");\n            exit(1);\n        }\n    }\n\n    // Wait for all child processes to terminate\n    for (int i = 0; i &lt; NUM; i++) {\n        wait(NULL);\n    }\n\n    // Call `getchpids` to retrieve child PIDs\n    int result = getchpids(NUM, retrieved_pids);\n    if (result &lt; 0) {\n        fprintf(stderr, \"getchpids fail\\n\");\n        return -1;\n    }\n\n    // Validate and print results\n    for (int i = 0; i &lt; result; i++) {\n        printf(\"Retrieved PID: %d\\n\", retrieved_pids[i]);\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#ex-26-the-above-strategy-solves-the-initial-problem-through-the-introduction-of-a-sub-system-call","title":"Ex. 2.6. The above strategy solves the initial problem through the introduction of a sub-system call.","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H7/#a-what-are-the-drawbacks-and-benefits-of-this-solution","title":"a) What are the drawbacks and benefits of this solution?","text":"<p>Drawbacks:</p> <ul> <li>Additional overhead due to multiple calls to <code>getnchpid</code>.</li> <li>Complexity in handling edge cases (e.g., invalid indices).</li> <li>Higher potential for race conditions.</li> </ul> <p>Benefits:</p> <ul> <li>Modular design makes debugging easier.</li> <li>Reusability of the <code>getnchpid</code> function.</li> </ul>"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#b-without-implementing-it-describe-the-basic-details-of-an-alternative-approach","title":"b) Without implementing it, describe the basic details of an alternative approach.","text":"<p>Implement <code>getchpids</code> as single system call</p> <ul> <li>Iteration through the process table in one pass.</li> <li>Retrieval of all child PIDs directly into user-provided buffer.</li> </ul>"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#ex-3-research","title":"Ex. 3 ??Research","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H7/#write-about-a-page-on-the-topic-of-the-ext2-filesystem-do-not-forget-to-reference-your-sources","title":"Write about a page on the topic of the ext2 filesystem. Do not forget to reference your sources.","text":"<p>Second Extended File System, or ext2 file system is a non-journaling filesystem introduced in 1993 for Linux. It was designed to overcome the limit of the ext filesystem by improving performance, flexibility, and scalability. due to its simplicity and efficiency, ext2 is still used for certain applications. Key components of ext2 are followings.</p> <ul> <li>Superblock contains filesystem metadata, its size, block num, inodes, etc</li> <li>Inode Table represent file or directory and contain information like size, owner, timestamp, etc</li> <li>Data Blocks save file contents. Large files are supported by indirect, double indirect, etc.</li> <li>Block Group divide filesystem to block group, each containing inode table, data block, etc.</li> </ul> <p>Since ext2 does not use journaling, overhead is reduced and writing speed is faster than later generation filesystems like ext3 or ext4 sometimes. This make it appropriate for devices with limited resources like USB or embedded systems. Its flexible inode allocation system allow optimized work performance with large quantity of volumes, even up to 2TB in size on 4KB block systems at maximum.</p> <p>However, absence of journaling represents crash or system power fail will require <code>fsck</code> check to restart. It might compromise data, and much slower. Also, its workload is not enough to handle huge quantity of volumes nowadays.</p> <p>References</p> <ul> <li>\"The Linux Kernel Archives\" - https://www.kernel.org</li> <li>\"Understanding Linux Filesystems\" - https://tldp.org</li> <li>Linux terminal man pages (man ext2, man fsck).</li> </ul>"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#ex-4-simple-questions","title":"Ex. 4 ??Simple questions","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H7/#ex-41-if-a-page-is-shared-between-two-processes","title":"Ex. 4.1. If a page is shared between two processes,","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H7/#is-it-possible-that-the-page-is-read-only-for-one-process-and-read-write-for-the-other-why-or-why-not","title":"is it possible that the page is read-only for one process and read-write for the other? Why or why not?","text":"<p>Yes. Memory Management Unit (MMU) will enforce access permission based on page table of each process. One process will map page for read only, and other process will map as read and write.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H7/#ex-42-when-both-paging-and-segmentation-are-being-used","title":"Ex. 4.2. When both paging and segmentation are being used,","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H7/#first-the-segment-descriptor-is-found-and-then-the-page-descriptor-does-the-tlb-also-need-a-two-levels-lookup","title":"first the segment descriptor is found and then the page descriptor. Does the TLB also need a two-levels lookup?","text":"<p>No. TLB will not need two process layers. TLB acquire virtual to physical transition after page lookup and full segment. TLB will miss trigger two level lookup to update TLB.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/","title":"Assignment VIII","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#exercise-1-inputoutput","title":"Exercise 1 - Input/Output","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H8/#1-is-it-possible-to-scan-a-document-and-send-it-through-a-wireless-network-at-full-speed-explain-why-why-not","title":"1. Is it possible to scan a document and send it through a wireless network at full speed? Explain why, why not.","text":"<p>It is theoretically possible depends on system bottleneck. Factors are scan resolution, scanner scan speed, and bandwidth of wireless network. If network speed is faster than scanner output rate, scan time will be fine. However, delays like image compression will prevent to send data to full speed of wireless network.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#2-how-can-an-os-facilitate-the-installation-of-a-new-device-without-any-need-to-recompile-the-os-or-even-to-reboot-it","title":"2. How can an OS facilitate the installation of a new device without any need to recompile the OS or even to reboot it?","text":"<p>OS can use modular designs to dynamically load device drivers. When new device is connected, OS will detect device by plug and play mechanism. Then, load the appropriate driver without requiring any reboot or recompile.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#3-in-the-slides-four-io-software-layers-are-listed-in-which-layers-are-the-following-operations-done","title":"3. In the slides four I/O software layers are listed; in which layers are the following operations done:","text":"<ul> <li>a) Computing the track, sector, and head for a disk read -&gt; Device Driver Layer</li> <li>b) Writing command to the device registers -&gt; Hardware Layer</li> <li>c) Checking if the user is allowed to use the device -&gt; User Level Software Layer or OS Layer</li> <li>d) Converting binary integers to ASCII for printing -&gt; User Level Software Layer</li> </ul>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#a-dma-controller-has-four-channels-the-controller-is-able-to-request-a-32bit-word-every-100-nsec","title":"A DMA controller has four channels. The controller is able to request a 32bit word every 100 <code>nsec</code>.","text":"<p>A response takes equally long. How fats should the bus be in order to avoid being a bottleneck?</p> <p>DMA controller request and response per 100<code>ns</code> for 32-bit words. Bus support speed \\(\\frac{32 <code>bits</code>}{100 <code>ns</code>} = 320\\)MB/<code>sec</code> = 40 MB/<code>sec</code> to avoid bottleneck.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#5-briefly-explain-what-a-thin-client-is","title":"5. Briefly explain what a thin client is.","text":"<p>Thin client is lightweight computer system. It mostly relies on server to process and store data. It is primarily used for application access, data, or remote desktop.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#6-describe-how-a-hard-disk-is-working-and-give-a-few-details-regarding-its-geometry","title":"6. Describe how a hard disk is working and give a few details regarding its geometry.","text":"<p>Hard disk can store a large quantity of data in a huge scale by platters. Each platter is divided by tracks, and each track is divided by sectors. The read/write head</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#7-what-are-differences-between-raid-0-1-5-6-and-10","title":"7. What are differences between RAID 0, 1, 5, 6, and 10?","text":"<ul> <li>RAID 0 - Stripe without redundancy, fast, no fault tolerance</li> <li>RAID 1 - Stripe with redundancy, mirroring</li> <li>RAID 5 - Stripe with distributed parity, need at minimum 3 disks.</li> <li>RAID 6 - Stripe with distributed dual parity, can handle 2 disk failures</li> <li>RAID 10 Combine RAID 0 and 1, high performance by mirroring and stripe without redundancy</li> </ul>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#exercise-2-multiprocessors","title":"Exercise 2 - Multiprocessors","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H8/#1-suppose-that-the-tsl-instruction-was-not-available-for-synchronizing-a-multiprocessor","title":"1. Suppose that the TSL instruction was not available for synchronizing a multiprocessor.","text":"<p>Instead, another instruction, SWP was provided that atomically swapped the contents of a register with a word in memory. How could that be used to provide multiprocessor synchronisation?</p> <p>The <code>SWP</code> instruction could swap register by lock with memory allocation easily. If lock is free, SWAP will lock variable to ensure mutual exclusion.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#2-briefly-describe-virtualization-and-the-main-challenges-that-need-to-be-overcome","title":"2. Briefly describe virtualization and the main challenges that need to be overcome.","text":"<p>Virtualization make several operating systems to run in one physical PC. However, resource allocation and isolation would be key technological challenges. Specifically, CPU scheduling, I/O virtualization, and security isolation will be important.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#exercise-3-file-systems","title":"Exercise 3 - File systems","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H8/#1-assuming-the-current-working-directory-is-usrsharedocmuttexamples","title":"1. Assuming the current working directory is <code>/usr/share/doc/mutt/examples</code>","text":"<p>what is the absolute path of <code>../../../doc/../../lib/mutt</code>?</p> <p><code>/usr/share/doc/mutt/examples</code> to <code>../../../doc</code> is <code>/usr/share/doc</code>. <code>/usr/share/doc</code> to <code>../../lib/mutt</code> is <code>/usr/lib/mutt</code> Thus, absolute path will be <code>/usr/lib/mutt</code>.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#2-a-unix-system-has-1kb-blocks-and-4b-disk-addresses","title":"2. A Unix system has 1KB blocks and 4B disk addresses.","text":"<p>What is the maximum file size if i-nodes contain 13 direct entries, and one single, double , and triple indirect entry each?</p> <p>Each block can hold \\(\\frac{1KB}{4KB}=256\\) addresses.</p> <ul> <li>Direct entries are \\(13 \\times 1KB = 13KB\\)</li> <li>Single Indirect Entry \\(256 \\times 1KB = 256KB\\)</li> <li>Double Indirect Entry \\(256 \\times 256 \\times 1KB = 65536KB = 64MB\\)</li> <li>Triple Indirect Entry \\(256 \\times 256 \\times 256 \\times 1KB = 16777216MB = 16384MB = 16GB\\)</li> <li>Maximum File Size \\(13KB + 256KB + 64MB + 16GB = 16448.2627 MB = 16.06GB\\)</li> </ul>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#3-the-time-required-to-read-a-certain-number-of-bytes-can-be-approximated-by-summing-the-seek-rotation-delay-and-transfer-times","title":"3. The time required to read a certain number of bytes can be approximated by summing the seek, rotation delay, and transfer times.","text":"<p>Given a disk with mean seek time of 8 msec, a rotation rate of 15,000 rpm and 262,144 bytes per track what are the data rates for block sizes of</p> <ul> <li>(i) 1 KB,</li> <li>(ii) 2 KB, and</li> <li>(iii) 4 KB?</li> </ul> <p>Parameters Provided</p> <ul> <li>Mean seek time = $ 8 \\, \\text{ms} $</li> <li>Rotation time per revolution = $ \\frac{1}{15,000} \\times 60,000 = 4 \\, \\text{ms} $</li> <li>Bytes per track = $ 262,144 \\, \\text{bytes} $</li> </ul> <p>Transfer Time Formula: $ \\text{Transfer Time} = \\frac{\\text{Block Size}}{\\text{Bytes per Track}} \\times 4 \\, \\text{ms} $</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#i-block-size-1-kb-1024-textbytes","title":"(i) Block Size = 1 KB ($ 1,024 \\, \\text{bytes} $)","text":"<ul> <li>Transfer Time = $ \\frac{1,024}{262,144} \\times 4 \\approx 0.0156 \\, \\text{ms} $</li> <li>Total Time = $ 8 + 4 + 0.0156 = 12.0156 \\, \\text{ms} $</li> <li>Data Rate = $ \\frac{1,024 \\, \\text{bytes}}{12.0156 \\, \\text{ms}} \\approx 85.2 \\, \\text{KB/s} $.</li> </ul>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#ii-block-size-2-kb-2048-textbytes","title":"(ii) Block Size = 2 KB ($ 2,048 \\, \\text{bytes} $)","text":"<ul> <li>Transfer Time = $ \\frac{2,048}{262,144} \\times 4 \\approx 0.0312 \\, \\text{ms} $</li> <li>Total Time = $ 8 + 4 + 0.0312 = 12.0312 \\, \\text{ms} $</li> <li>Data Rate = $ \\frac{2,048 \\, \\text{bytes}}{12.0312 \\, \\text{ms}} \\approx 170.3 \\, \\text{KB/s} $.</li> </ul>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#iii-block-size-4-kb-4096-textbytes","title":"(iii) Block Size = 4 KB ($ 4,096 \\, \\text{bytes} $)","text":"<ul> <li>Transfer Time = $ \\frac{4,096}{262,144} \\times 4 \\approx 0.0624 \\, \\text{ms} $</li> <li>Total Time = $ 8 + 4 + 0.0624 = 12.0624 \\, \\text{ms} $</li> <li>Data Rate = $ \\frac{4,096 \\, \\text{bytes}}{12.0624 \\, \\text{ms}} \\approx 339.7 \\, \\text{KB/s} $.</li> </ul>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#exercise-4-security","title":"Exercise 4 - Security","text":""},{"location":"ECE482FA24/ECE482HW/ECE482H8/#1-if-using-only-lowercase-letters-how-many-possible-8-letter-words-can-be-chosen","title":"1. If using only lowercase letters how many possible 8 letter words can be chosen?","text":"<p>Explain why a password should always contain lower and uppercase letters, numbers and symbols.</p> <p>8 Character Word, use only lowercase letters, 26 probabilities per each character. Possible combination likelihood will be \\(26^8 = 208827064576\\) cases.</p> <p>It is important to contain lower case, upper case letter, number, and symbols because it will increment probability of password search space exponentially. Entropy of password increases, so brute Force attack will be more resource unlikely. For instance, uppercase multiplies twice probability per character, \\(2^8=256\\) times for 8 characters.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#2-explain-why-memory-dynamically-allocated-using-malloc-is-sometimes-random-and-some-other-times-set-to-0","title":"2. Explain why memory dynamically allocated using malloc is sometimes random and some other times set to 0.","text":"<p>Memory allocation by <code>malloc</code> does not initialize memory. It reserves size but may return memory with no leftover values from previous use, while <code>calloc</code> explicitly initialize to 0. If <code>calloc</code> is called, or memory is initialized explicitly, checking whether memory start is 0 or not is crucial.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#3-a-computer-system-is-made-of-several-components-each-featuring-a-different-level-of-security-how-secure-is-this-system","title":"3. A computer system is made of several components each featuring a different level of security. How secure is this system?","text":"<p>Computer system security is same as the most vulnerable part of the computer system. Attackers might detect and exploit the least secure component so that entire system is under attack. For instance, old firmware security vulnerability might be a trigger to compromise the entire OS, that has no security problem in the OS. Defense in depth strategies are minor ways to support weakest vulnerabilities.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#4-can-security-be-achieved-explain-your-answer","title":"4. Can security be achieved? Explain your answer.","text":"<p>Even theoretically, accomplishment of computer system to secure 100% perfect security is not achievable considering the complexity of computer system and its continuous technological progress. In some perspective, some super computer that does not exist in real world might make all computer systems insecure by brute force. In reality, it is even harder, due to several updates, conflicts, computer external problems like electricity supply or network, human mistakes, etc. So, people generally compromise by implementation of defence layer, regular updates, access controls, and continuous monitor.</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#exercise-5-research","title":"Exercise 5 - Research","text":"<p>Write about half a page on the topic of firewalls on Linux systems; include information on iptables. Do not forget to reference your sources of information.</p> <p>In Linux Operating System, Firewalls manage and secure network traffic by controlling incoming and outgoing traffic based on predefined rules. It could protect against not authorized access and attacks. Firewall acts as barrier located between trusted networks and untrusted networks. It protects system access from unauthorized access, so that attacks and data breaches are prevented.</p> <p>Firework analyze packets and decide whether they are allowed by defined rules including:</p> <ul> <li>IP Address : allow or block traffic from specific source or destination</li> <li>Port Numbers : Filter by services (Block SSH by block port 22)</li> <li>Protocols : Protocol type based filtering like TCP or UDP</li> </ul> <p>There are several types of firewalls available.</p> <ul> <li>Packet Filtering Firewall work at network layer to inspect each individual packet, regardless of connection status.</li> <li>Stateful Firewall could work and track connection status to make more context aware decisions</li> <li>Application Firewall inspect packet contents in application layer</li> <li>Proxy Firewalls act between server and client to mask internal network</li> </ul> <p>One of the most commonly applied tool on Linux firewall is <code>iptables</code>. It is a part of the <code>netfilter</code> framework inside Linux OS kernel. It could operate on chains including <code>INPUT</code>, <code>OUTPUT</code>, and <code>FORWARD</code> so that traffic filtering is possible through IO address, ports, or protocols.</p> <p>Administrator access could allow and block network traffic by making <code>iptables</code> rules. For example, following command can be used to prevent any SSH traffic on part 22.</p> <pre><code>sudo iptables -A INPUT -p tcp --dport 22 -j DROP\n</code></pre> <p>Even though <code>nftables</code>, more recent version that provide higher performance and better usability, <code>iptables</code> are still used in some modern distributions due to its stability and reliability. Additional tools like Uncomplicated Firewall (UFU) and firewalld support interfaces that are friendly for users to manage firewall rules, sot that complexity of iptables is in abstract.</p> <p>Although firewalls are powerful and have several functionalities, their limitation would be due to its subordinate part of layered security approach as some framework or tool than could be part of consistent update and intrusion detection systems (IDS).</p>"},{"location":"ECE482FA24/ECE482HW/ECE482H8/#references","title":"References","text":"<ul> <li>Linux Foundation. \"iptables Documentation.\"</li> <li>Red Hat. \"Introduction to Firewalld and iptables.\"</li> <li>Ubuntu Documentation. \"Uncomplicated Firewall (UFW).\"</li> <li>Netfilter Project. \"nftables Overview.\"</li> <li>Iptables HowTo.</li> <li>Introduction to nftables</li> </ul>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/","title":"Lab 01","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#1-hardware-overview","title":"1 Hardware overview","text":""},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#in-the-computer","title":"In the computer","text":"<p>The motherboard</p> <p></p> <p>A Hard Disk Drive</p> <p></p> <p>An Optical disk drive</p> <p></p> <p>The PC power supply</p> <p></p> <p>A PCI card</p> <p>PCI card did not exist in computer disassembled during lab.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#on-the-motherboard","title":"On the motherboard","text":"<p>The RAM</p> <p></p> <p>A SATA socket</p> <p></p> <p>A PCI/PCI-e slot</p> <p></p> <p>The CPU</p> <p></p> <p>The North and South bridges</p> <p></p> <p>The battery</p> <p></p> <p>The BIOS</p> <p></p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#answer-the-following-questions","title":"Answer the following questions","text":"<ul> <li>Where is the CPU hidden, and why?</li> </ul> <p>CPU (Central Processing Unit) is located below a fan and heat sink in CPU dismantled during lab. CPU creates a lot of heat during computer is operating, so it is necessary to have a cooling system attached to CPU. Air cooling by fan is universal, but sometimes liquid based cooling system can be used.</p> <ul> <li>What are the North and South bridges?</li> </ul> <p>North and South bridges are chips only existing in old motherboard chips. North Bridge controls CPU, RAM, internal Graphics Card interaction to be fast South Bridge controls HDD, USB, or PCIs like external VGA.</p> <ul> <li>How are the North and South bridges connected together?</li> </ul> <p>North &amp; South Bridges are connected through a bus. In motherboard, bus let data flow between these two bridges.</p> <ul> <li>What is the BIOS?</li> </ul> <p>BIOS(Basic Input/Output System) is a firmware software saved in motherboard chip. After the power is on, BIOS will be launched in computer, initializing CPU and RAM to either start Operating Systems like Windows or Linux, or changing setup.</p> <ul> <li>Take out the CPU, rotate it and try to plug it back in a different position, is that working?</li> </ul> <p>CPU is specifically designed compatible for only certain type of socket. Thus, CPU will be inserted only in the way it was inserted before. Forcing different position will result in compromising both CPU and motherboard CPU socket.</p> <ul> <li>Explain what overclocking is?</li> </ul> <p>Instructed in ECE370 Computer organization course, CPU is operating by each clock. More clocks per same time means faster CPU operation, but more consumption of electricity and creation of heat, so that CPU lifespan or even CPU circuit might be compromised if cooling system cannot handle it.</p> <ul> <li>What are pins on a PCI/PCI-e card and what are they used for?</li> </ul> <p>PCI PCI-e card pins connect PCI card to motherboard by their slots. These pins will let PCI card to interact with data transfer to motherboard. Thus, card and motherboard will communicate. One of the most popular type of PCI PCI-e card are VGA (Video Graphics Array), we call as external graphic cards like Nvidia RTX4090 or GTX1650.</p> <ul> <li>Before PCI-e became a common standard many graphics cards were using Accelerated Graphics   Port (AGP), explain why.</li> </ul> <p>AGP was specifically designed only for fast communication between CPU and graphic card. Before PCI-e, AGP was standard since it had better performance than PCI bus for data interaction with motherboard, but PCI-e performance was better in speed and compatibility, so it replaced AGP.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#2-gitea-usage","title":"2 Gitea usage","text":"<p>Register on our git server at http://focs.ji.sjtu.edu.cn/git. We will use Gitea all along the semester. For the various group projects student must use git: part of their grade will be based on their commits. Please closely follow the TAs??instructions and ensure your are fully setup for the rest of the semester. In particular by the end of the lab you should have uploaded your ssh public key on Gitea.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#21-git-usage","title":"2.1 Git Usage","text":"<p>Basic git usage will be studied in a future lab. In the meantime get familiar with:</p> <ul> <li>Opening and using issues;</li> <li>Simple commands such as clone, commit, push, and pull;</li> <li>Using the Wiki and markdown, they will be used for the projects documentation;</li> </ul>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#22-agile-development-with-gitea","title":"2.2 Agile development with Gitea","text":"<p>In ECE482 we expect you follow the adgile development strategy which is adopted by most companies nowadays. If you have any question of need further explanations feel free to ask. Here is a brief summary of the expected Gitea workflow in the course.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#3-command-line-interface","title":"3 Command line interface","text":""},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#31-basic-unix-commands","title":"3.1 Basic Unix commands","text":""},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#32-shell-scripting","title":"3.2 Shell scripting","text":""},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#33-tasks","title":"3.3 Tasks","text":"<p>Answer the following questions, only refering to man pages:</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#use-the-mkdir-touch-mv-cp-and-ls-commands-to","title":"Use the mkdir, touch, mv, cp, and ls commands to:","text":"<ul> <li>Create a file named test.</li> <li>Move test to dir/test.txt, where dir is a new directory.</li> <li>Copy dir/test.txt to dir/test_copy.txt.</li> <li>List all the files contained in dir.</li> </ul> <pre><code>touch test\nmkdir dir\nmv test dir\nls dir\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#use-the-grep-command-to","title":"Use the grep command to:","text":"<p>List all the files form /etc containing the pattern 127.0.0.1.</p> <pre><code>grep -rl '127.0.0.1' /etc\n</code></pre> <p>Returned nothing</p> <p>Only print the lines containing your username and root in the file /etc/passwd (only one grep should be used)</p> <pre><code>grep -rE 'root|jaeheungpark' /etc/passwd\n</code></pre> <p>Returns following</p> <pre><code>/etc/passwd:root:*:0:0:System Administrator:/var/root:/bin/sh\n/etc/passwd:daemon:*:1:1:System Services:/var/root:/usr/bin/false\n/etc/passwd:_cvmsroot:*:212:212:CVMS Root:/var/empty:/usr/bin/false\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#use-the-find-command-to","title":"Use the find command to:","text":"<p>List all the files from /etc that have been accessed less than 24 hours ago.</p> <pre><code>find /etc -atime -1\n</code></pre> <p>Returned nothing</p> <p>List all the files from /etc whose name contains the pattern ?\uc40detw??</p> <pre><code>find /etc -name \"*netw*\"\n</code></pre> <p>Returned nothing</p> <p>In the bash man-page read the part related to redirections. Explain the following operators &gt;, &gt;&gt;, &lt;&lt;&lt;, &gt;&amp;1, and 2&gt;&amp;1 &gt;. What is the use of the tee command.</p> <p>Use <code>bash</code> instead of <code>zsh</code> terminal if you are MacOS user. Simply type <code>bash</code> or <code>zsh</code> to switch.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#output-redirection","title":"<code>&gt;</code> Output Redirection","text":"<p>Output Redirection redirect output from command to file. If file already exists, it will be overwritten.</p> <pre><code>echo \"Hello, Shell!\" &gt; output.txt\n</code></pre> <p>This will generate <code>output.txt</code> file or if it exists, overwrite it with contents written as <code>Hello Shell!</code>.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#append-output-redirection","title":"<code>&gt;&gt;</code> Append Output Redirection","text":"<p>Append Output Redirection redirect output from command to file. However, this time, command will be appended to originally existing file, instead of getting overwritten.</p> <pre><code>echo \"Hello, Again!\" &gt;&gt; output.txt\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#here-string","title":"<code>&lt;&lt;&lt;</code> Here String","text":"<p>Here String provide input to command from string. When using grep,</p> <p><code>grep \"find this\" &lt;&lt;&lt; \"input sentence\"</code></p> <pre><code>grep \"Hello\" &lt;&lt;&lt; \"Hello, Shell!\"\ngrep \"World\" &lt;&lt;&lt; \"Hello, Shell!\"\n</code></pre> <p>First one will return <code>Hello Shell!</code> while the second one will return nothing.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#1-redirect-to-standard-output","title":"<code>&gt;&amp;1</code> Redirect to Standard Output","text":"<p>Redirect to Standard Output will make a file descriptor input to a copy file descriptor 1. Generally, it is standard output.</p> <pre><code>ls non_existing_file\nls non_existing_file &gt;&amp;1\n</code></pre> <p>Both returns</p> <pre><code>ls: non_existing_file: No such file or directory\nls: non_existing_file: No such file or directory\n</code></pre> <p>However, former one returns error, while latter one returns output as standard output string.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#21-order-of-redirections","title":"<code>2&gt;&amp;1&gt;</code> Order of Redirections","text":"<p>Order of redirections will redirect standard output to file.</p> <pre><code>ls non_existing_file &gt; nofile.txt\nls non_existing_file &gt; nofile.txt 2&gt;&amp;1\n</code></pre> <p>Formal one returns the following error on terminal.</p> <pre><code>ls: non_existing_file: No such file or directory\n</code></pre> <p>However, latter one will create file named as nofile.txt as a command file.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#what-is-the-use-of-the-tee-command","title":"What is the use of the <code>tee</code> command.","text":"<p>The <code>tee</code> command will read from standard input and write as standard output.</p> <pre><code>echo \"Hello, Shell!\" | tee teefile.txt\necho \"Hello, Again!\" | tee -a teefile.txt\n</code></pre> <p>Former command creates output file first sentence. Latter command adds output file second sentence.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#explain-the-behaviour-of-the-xargs-command","title":"Explain the behaviour of the <code>xargs</code> command","text":"<p>The <code>xargs</code> command will build and execute commands from standard input.</p> <pre><code>echo \"file1 file2 file3\" | xargs touch\necho \"file1 file2 file3\" | xargs rm\n</code></pre> <p>will create and remove file1 file2 file3.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#the-pipe-operator","title":"The <code>|</code> pipe operator","text":"<p>The <code>|</code> pipe operator will take output of each command and apply it as input. For instance,</p> <pre><code>ls -l | grep \"txt\"\n</code></pre> <p>will return</p> <pre><code>-rw-r--r--@ 1 jaeheungpark  staff  47 Sep 22 15:19 nofile.txt\n-rw-r--r--@ 1 jaeheungpark  staff  28 Sep 22 15:27 output.txt\n-rw-r--r--@ 1 jaeheungpark  staff  28 Sep 22 15:28 teefile.txt\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#what-are-the-head-and-tail-commands-how-to-ive-displaya-file-as-new-lines-are-appended","title":"What are the head and tail commands? How to ?\uc40bive display??a file as new lines are appended?","text":"<p><code>Head</code> commands display first few lines of file, 10 lines in default. <code>Tail</code> commands display last few lines of file, 10 lines in default. If live display of a file is required, type <code>tail -f file.txt</code>, since <code>-f</code> represents follow.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#how-to-monitor-the-system-using-ps-top-free-vmstat","title":"How to monitor the system using ps, top, free, vmstat?","text":"<p><code>ps</code> shows currently running processes.</p> <pre><code>  PID TTY           TIME CMD\n 2360 ttys000    0:00.11 /bin/zsh --login -i\n 2362 ttys000    0:00.49 /Users/jaeheungpark/.cache/gitstatus/gitstatusd-darwin-arm64 -G v1.5.4 -s -1 -u -1 -d -1 -c -1 -m -1 -v FATAL -t 22\n 3018 ttys000    0:00.02 bash\n 3189 ttys000    0:00.86 zsh\n</code></pre> <p><code>top</code> shows real time dynamic system process view including CPU usage and memory usage. Command input <code>top</code> returns</p> <pre><code>Processes: 659 total, 2 running, 657 sleeping, 3545 threads                                                                               15:57:40\nLoad Avg: 2.13, 1.97, 1.95  CPU usage: 3.19% user, 3.10% sys, 93.69% idle  SharedLibs: 765M resident, 149M data, 92M linkedit.\nMemRegions: 169888 total, 5315M resident, 502M private, 3869M shared. PhysMem: 17G used (2236M wired, 761M compressor), 359M unused.\nVM: 256T vsize, 4915M framework vsize, 0(0) swapins, 0(0) swapouts. Networks: packets: 3661368/5529M in, 2247373/2009M out.\nDisks: 1271160/19G read, 399936/13G written.\nmode [n]:\nPID    COMMAND      %CPU TIME     #TH    #WQ  #PORT MEM    PURG   CMPRS  PGRP  PPID  STATE    BOOSTS          %CPU_ME %CPU_OTHRS UID  FAULTS\n464    mobileassetd 13.5 00:20.36 7      5    201   14M-   0B     1824K  464   1     sleeping *7+[137]        0.04815 12.17135   0    7653+\n0      kernel_task  7.5  24:37.01 576/11 0    0     9040K  0B     0B     0     0     running   0[0]           0.00000 0.00000    0    39329+\n1104   clion        7.1  22:43.94 129    6    685+  1889M- 278M+  345M   1104  1     sleeping *0[1516]        0.04079 0.00000    501  1150909+\n</code></pre> <p><code>free</code> shows different kinds of memory usage including total, used, free, shared, buffer, cache, and available memories.</p> <p><code>vmstat</code> Shows virtual memory statistics including status of memory, process, paging, block input, output, traps updated per input second. For instance, <code>vmstat 1</code> will update the output every second.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#what-are-the-main-differences-between-sh-bash-csh-and-zsh","title":"What are the main differences between sh, bash, csh, and zsh?","text":"<p><code>sh</code> Shell is original basic shell, with the least amount of features</p> <p><code>bash</code> Bourne Again SHell is implemented shell version including command history, job control, and array.</p> <p><code>csh</code> C shell is based on similar syntax to the programming language C.</p> <p><code>zsh</code> Z shell is configurable shell with several features from both bash and csh. Currently shell of my M3 MacBook Pro OS is using zsh shell.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#what-is-the-meaning-of-0-1","title":"What is the meaning of $0, $1,?? $?, $!?","text":"<p><code>$0</code> Name of script / shell</p> <p><code>$1, $2, $3 ...</code> Arguments in order to get passed in script.</p> <p><code>$?</code> Exit status of last command. 0 means success while other numbers represent fail.</p> <p><code>$!</code> Process ID of last background command.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#what-is-the-use-of-the-ps3-variable-provide-a-short-code-example","title":"What is the use of the PS3 variable? Provide a short code example.","text":"<p>PS3 variable can set prompt for select command in bash. For instance, this is possible.</p> <pre><code>PS3=\"Select option: \"\nselect option in \"Start\" \"Resume\" \"Quit\"; do\n  echo \"You selected: $option\"\n  [[ $option == \"Quit\" ]] &amp;&amp; break\ndone\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#what-is-the-purpose-of-the-iconv-command-and-why-is-it-useful","title":"What is the purpose of the <code>iconv</code> command, and why is it useful?","text":"<p>Purpose of <code>iconv</code> command is to convert text between different character encodings systems like from ISO to UTF-8. It is useful when working with files with different systems or programs that have difference from standard format.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#given-a-variable-temp-what-is-the-effect-of","title":"Given a variable <code>temp</code>, what is the effect of:","text":"<ul> <li><code>${#temp}</code></li> <li><code>${temp%%word}</code></li> <li><code>${temp/pattern/string}</code>?</li> </ul> <p><code>${#temp}</code> Return string length stored in <code>temp</code> variable</p> <p><code>${temp%%word}</code> Remove longest match of pattern word</p> <p><code>${temp/pattern/string}</code> Replace first <code>pattern</code> in <code>temp</code> containing <code>string</code>.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L1/#search-online-not-in-the-man-pages-how-files-are-organised-on-a-unix-like-system","title":"Search online (not in the man pages), how files are organised on a Unix like system.","text":"<p>In particular explain what are the following directories used for:</p> <ul> <li><code>/:</code> Root directory, File System tree root.</li> <li><code>/bin</code> Binaries, store basic user commands including <code>ls</code>, <code>mv</code>, <code>cp</code>.</li> <li><code>/boot</code> Store bootloader files like kernel, initial RAM space.</li> <li><code>/etc</code> Configuration files for OS &amp; Applications</li> <li><code>/lib</code> System libraries necessary for OS booting</li> <li><code>/media</code> If media devices are connected or inserted in computer, OS will make corresponding directory here</li> <li><code>/mnt</code> Temporary mounted files.</li> <li><code>/usr/bin</code> User Binary files for User Applications</li> <li><code>/usr/share</code> Sharable text files</li> <li><code>/usr/lib</code> User Libraries required for <code>usr/bin</code></li> <li><code>/usr/src</code> Source codes for Linux Kernel</li> <li><code>/proc</code> Virtual Filesystems with process and kernel info</li> <li><code>/sys</code> Kernel interface with info view and configuration settings</li> <li><code>/srv</code> Data for Services by system like web servers</li> <li><code>/opt</code> Optional packages for subordinate directories</li> <li><code>/var</code> Variable data including system logging files</li> <li><code>/sbin</code> System binaries required for booting and system restoration</li> <li><code>/dev</code> Device files representing hardware</li> <li><code>/vmlinuz</code> Compressed Linux kernel used for booting</li> <li><code>/initrd.img</code> Initial RAM space used by kernel for booting</li> </ul> <p>Write a game where the computer selects a random number, prompts the user for a number, compares it to its number and displays ?\uc3ecarger??or ?\uc3f6maller??to the user, until the player discovers the random number initially chosen by the computer.</p> <p>Execute by command</p> <pre><code>chmod +x game.sh\n./game.sh\n</code></pre> <p>Code works well.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L10/","title":"Lab 10","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L10/#1-project-3-presentations-part-2","title":"1 Project 3: presentations (part 2)","text":"<p>Presentation</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L10/#2-a-clean-setup","title":"2 A clean setup","text":"<p>After a couple of hours working in the back of your mum and Mr. Frown you have finally completed your dice device driver. Although everything is working you have quite enjoyed the process and to have a feeling of full accomplishment you want to polish your work. For instance you want the module to be automatically loaded when the system boot ups, and you imagine that if your grandpa had friends with an account on the same computer they would enjoy playing too. To solve those questions you need to check the following points:</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L10/#where-to-copy-the-dice-module-for-it-to-be-officially-known-to-the-kernel","title":"Where to copy the dice module for it to be officially known to the kernel?","text":"<p>Kernel module copy path <code>/lib/modules/</code> or <code>/lib/modules/$(uname -r)/kernel/drivers/&lt;custom_directory&gt;</code> or subdirectory based on their purpose</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L10/#what-command-to-run-in-order-to-generate-the-modulesdep-and-map-files","title":"What command to run in order to generate the <code>modules.dep</code> and map files?","text":"<p>Use <code>depmod</code> command to generate dependency map</p> <pre><code>depmod -a\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L10/#how-to-ensure-the-dice-module-is-loaded-at-boot-time-and-how-to-pass-it-options","title":"How to ensure the dice module is loaded at boot time, and how to pass it options?","text":"<p>Add the module to <code>/etc/modules</code> or <code>/etc/modules-load.d/&lt;filename&gt;.conf</code> for some distributions to ensure it loads at boot. To pass options, create or edit <code>/etc/modprobe.d/&lt;module_name&gt;.conf</code> with the following content:</p> <pre><code>options &lt;module_name&gt; &lt;option1&gt;=&lt;value1&gt; &lt;option2&gt;=&lt;value2&gt;\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L10/#how-to-create-a-new-friends-group-and-add-grandpa-and-his-friends-to-it","title":"How to create a new friends group and add grandpa and his friends to it?","text":"<p>First, create a new group. Name will be friends. Then, add one of OS users to the group.</p> <pre><code>sudo groupadd friends\nsudo usermod -aG friends &lt;username&gt;\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L10/#what-is-udev-and-how-to-define-rules-such-that-the-group-and-permissions-are-automatically-setup-at-device-creation","title":"What is udev and how to define rules such that the group and permissions are automatically setup at device creation?","text":"<p><code>udev</code> is Linux device manager. It dynamically control device nodes at <code>/dev</code> and handle events. Define rules by file generation in path <code>etc/udev/rules.d</code>, e.g., <code>10-dice.rules</code></p> <pre><code>SUBSYSTEM==\"&lt;subsystem&gt;\", KERNEL==\"&lt;device_name&gt;\", GROUP=\"friends\", MODE=\"0660\"\n</code></pre> <p>Then, reload <code>udev</code> rules to trigger those</p> <pre><code>sudo udevadm control --reload-rules\nsudo udevadm trigger\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L10/#3-a-discreet-gambling-setup","title":"3 A discreet gambling setup","text":"<p>The challenge is now to get this module on the family computer without anybody noticing it. If someone tells your mother then both you and your grandpa will get in trouble. So you need a way to get root access without inputing a wrong password and without knowing it! As it is too risky to open the computer and take the hard disk to plug it on your own computer you have find another strategy.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L10/#31-hacking-mum-computer","title":"3.1. Hacking mum?\uc172 computer","text":"<p>After a bit of thinking you have an interesting idea: on Linux systems the executables can be found in the PATH, a colon separated list of directories. If more than one binary have the same name, then the one found first is used. As you know your mum often uses the command su to become root, it thus suffices to write a simple script called su, place it in a directory of your choice that you then prepend to the PATH variable. When she will type su it will run your script. To your mum its behaviour should feel similar to the real su, i.e. prompt for the root password and behave as if a wrong password had been input. In fact in the background it should send you an email containing the root password and clean up all your traces, that is delete the script, and reset the PATH to its original value. That way your mum will think she has made a mistake and will rerun su. That time the correct command will be called and she will gain root access. Therefore you think of the following points:</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L10/#how-adjust-the-path-ensure-its-new-version-is-loaded-but-then-forgotten","title":"How adjust the PATH, ensure its new version is loaded but then forgotten?","text":"<p>Open <code>~/.bashrc</code> or <code>./zshrc</code> and add <code>export PATH=/path/to/directory:$PATH</code>. After finish, run <code>~./bashrc</code> or <code>./zshrc</code> to apply change.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L10/#what-is-the-exact-behaviour-of-su-when-wrong-password-is-input","title":"What is the exact behaviour of <code>su</code> when wrong password is input?","text":"<p>When <code>su</code> is executed with incorrect password, <code>perror</code> will be thrown.</p> <pre><code>su: Authentication failure\n</code></pre> <p>Will be printed in terminal.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L10/#when-using-the-read-command-how-to-hide-the-user-input","title":"When using the read command how to hide the user input?","text":"<p>Use <code>-s</code> option to hide input</p> <pre><code>read -s &lt;input&gt;\necho\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L10/#how-to-send-an-email-from-the-command-line","title":"How to send an email from the command line?","text":"<p>CLI based email send requires installation of libraries first.</p> <pre><code>sudo apt install mailutils # Linux\nbrew install mailutils # MacOS\n</code></pre> <p>This one will be possible</p> <pre><code>echo \"The root password is: $password\" | mail -s \"root password\" email@site.com\n</code></pre> <p>Once you have completed this simple script you patiently wait for the email.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L11/","title":"Lab 11","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L11/#1-project-3-presentations-part-3","title":"1 Project 3: presentations (part 3)","text":"<p>To ensure a more synchronised support during project 3, presentations are split into two parts. Topics are available on Canvas and their selection is on a first come first served basis. Please well prepare your presentation and ask questions on others??research. This should greatly help in the implementation of the new scheduling algorithm. No stress, Jim is probably playing in the ball pit!</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L11/#2-introduction","title":"2 Introduction","text":"<p>Seeing that you are half-convinced by his motivating words you dad carries on. ?\uc3fdou know what, I have the perfect solution for you: instead of working on the module, in kernel mode, let?\uc172 work in user-space? Everything will be much easier and you can work with Dadfs in the same way as with any other regular C program. You just need to use FUSE, this is a great project that acts as an interface to export a file system to the kernel. No need for functions to share buffers between the user-space and the kernel space, this is FUSE?\uc172 job, not yours. You simply type your code and treat FUSE as a dependency/library to build your program.?? At hearing that their is no risk to crash the kernel you feel relieved and want to try this ?\uc40cagical library?? As you ask your dad how to get started, he tells you that he has already prepared some materials. Your job for today is to port Dadfs to FUSE and implement file deletion. With that idea in mind he shares with you some resources. Since he wants to go soon for his nap he quickly shows you a couple of FUSE links: the FUSE documentation, and the libfuse source code. As you seat down at the desk your dad understands that you are ready to start. He then leaves the room and goes for his nap. Although the temptation is high to play video games instead of porting Dadfs to FUSE, you decide to start working on this new short project. After a few minutes you fully understand the global idea behind FUSE and how it interacts with Linux Virtual File System (VFS). You are ready to jump into Dadfs when your mum enters the room and asks you: ?\uc3f6o what?\uc172 wrong with the electricity, I thought you were supposed to work on Dadfs???As you look perplex your mother continues: ?\uc3fdes, I heard something was wrong a fuse, is it fixed, can I what TV or their is a risk of blackout???When you are done laughing your mum asks you a few questions:</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L11/#3-tasks","title":"3 Tasks","text":""},{"location":"ECE482FA24/ECE482LAB/ECE482L11/#1-what-is-a-file-system","title":"1. What is a file system?","text":"<p>In Operating System, File System (FS) is a data structure system to form and manage data inside storage devices like SSD or HDD. FS could decide storage method and accessibility. Main functions of FS include:</p> <ul> <li>File and directory management</li> <li>Storage space allocation and deallocation</li> <li>Data integrity and security</li> </ul>"},{"location":"ECE482FA24/ECE482LAB/ECE482L11/#2-how-is-the-linux-vfs-working","title":"2. How is the Linux VFS working?","text":"<p>Linux Virtual File System (VFS) is located with kernel as abstraction layer. It could provide common interface for different FS. This let interaction of OS and several file systems in standard process. VFS is composed of followings including:</p> <ul> <li><code>superblock</code> - FS instance</li> <li><code>inode</code> - File metadata</li> <li><code>dentry</code> - Directory entries for file paths</li> </ul> <p>VFS will translate all system calls including <code>open</code>, <code>read</code>, <code>write</code> to operations.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L11/#3-what-is-fuse-and-how-does-it-interact-with-the-vfs-can-you-sketch-it-quickly-to-make-it-clearer","title":"3. What is FUSE, and how does it interact with the VFS? Can you sketch it quickly to make it clearer?","text":"<p>Filesystem in Userspace (FUSE) framework let software development process to apply file systems in user space rather than kernel space. FUSE could simplify complicated system so that potential risk of kernel crash is much more unlikely. FUSE will help interaction between user space FS and kernel.</p> <p>As you patiently explain her the high level ideas without going into any technical detail, you realise that porting Dadfs to FUSE would still be a pretty tough task. You do not really want to give up, but rather want some easier training, and maybe in a few weeks or months when things calm down at work you can come back to this task. In the meantime you try to find something easier to complete with FUSE. While you are lost in your thoughts you do not even realise that you are manipulating the mouse. Only when you see a window popping up you understand that you have clicked on an old icon. And here your are, connected to Lemonion Inc.!??!</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L11/#4-explain-what-is-sshfs","title":"4. Explain what is SSHFS.","text":"<p>Secure Shell Filesystem (SSHFS) is SSH protocol based file system client. In local file system, it is able to mount remote directories. Users will be able to interact with remote files like they are in local storage by using SSHFS.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L11/#5-use-sshfs-to-mount-your-home-on-lemonion-inc-server-in-your-computer","title":"5. Use SSHFS to mount your home on Lemonion Inc. server in your computer.","text":"<p>Install <code>sshfs</code></p> <pre><code>sudo apt install sshfs\n</code></pre> <p>Create directory path to mount</p> <pre><code>mkdir ~/RemoteHome\n</code></pre> <p>Mount remote directory</p> <pre><code>sshfs student_id@sjtu.edu.cn:\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L11/#6-what-are-the-benefits-of-using-sshfs","title":"6. What are the benefits of using SSHFS?","text":"<p>SSH encrypted data transfer ensures security. It is easily portable for all SSH installed systems. Also, remote file access by small laptop without direct access to server.</p> <p>It seems they forgot to close up your account and revoke your key??While you have nothing harmful in mind you navigate on Lemonion server and in the lemondb folder you discover the existence of a hidden folder called .del. Surprisingly it belongs to Mr. Frown and is dated from the night of the crash! Has Mr. Frown anything to do with that crash? You remember that it was officially due to a high number of transactions, but this looks highly suspicious??</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L2/","title":"Lab 02","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L2/#exercise-1-project-1-presentations-part-1","title":"Exercise 1 Project 1: presentations (part 1)","text":"<p>Our Topic was Background Processing</p> <p>My teammate is Jin Lock Choi</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L2/#exercise-2-systems-setup","title":"Exercise 2 Systems setup","text":""},{"location":"ECE482FA24/ECE482LAB/ECE482L2/#21-linux-kernel-compilation","title":"2.1 Linux kernel compilation","text":"<p>??What is a kernel?</p> <p>Kernel is key concept in Operating System located between hardware and software. It manages computer resources including CPU, VGA, Memory, and Input/Output devices.</p> <p>??What basic tools are necessary to compile the Linux kernel?</p> <p>Linux kernel is compiled by GCC, GNU Compiler Collection to build. Git and GNU make are also necessary.</p> <p>??List all the commands necessary to compile the kernel.</p> <pre><code>wget -v https://git.kernel.org/pub/scm/linux/kernel/git/tj/sched_ext.git/snapshot/sched_ext-for-6.11.tar.gz\ntar -zxvf sched_ext-for-6.11.tar.gz\ncd sched_ext-for-6.11\n\ncp /boot/config-$(uname -r) .config\nscripts/config --disable SYSTEM_TRUSTED_KEYS\nscripts/config --disable SYSTEM_REVOCATION_KEYS\nmake CC=clang menuconfig\n\nnano .config # OR simply change in editor\n\nmake CC=clang -j$(nproc)\n\nsudo make modules_install\nsudo make install\n\nsudo reboot\n</code></pre> <p>??Why is it recommended to start with the Linux config file from your distribution?</p> <p>Linux .config file is very long with about over 10,000 lines. Copying configuration file will be wiser.</p> <p>??Compile the kernel. How long did it take?</p> <p>After several failure and VMWare Fusion setup change, it took about 30 minutes to compile the downloaded kernel. This time consumption can be changed by several factors.</p> <p>??Why is code quality so critical at the kernel level?</p> <p>In OS kernel, tiny code bug or memory leak may cause catastrophic result in the entire operating system.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L2/#22-software-development","title":"2.2 Software Development","text":"<p>??Briefly explain what is CI/CD.</p> <p>CI/CD, Continuous Integration / Continuous Delivery. CI stands for continuous integration of several programmers contributing to the shared repo. CD stands for continuous delivery of programming software automizing the entire process of project build, test, and deployment. Cooperation with multiple software engineers in enterprise level should consider development process of CI/CD to operate efficiently.</p> <p>??Why is having a consistent coding style important in industry?</p> <p>Consistent coding style is important in industry for several reasons including Unified convention to quickly read and review other's code, relatively convenient maintenance of CI/CD, contributing to reduce code analysis time and debugging.</p> <p>??What is the benefit of sanitizers?</p> <p>Sanitizers could detect unexpected processes or bugs. Automized code quality and automatic debugging increases platform compatibility and bug logs. It is relatively safer in memory leaks too.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L2/#exercise-3-remote-work","title":"Exercise 3 Remote work","text":"<p>As system administrators seldom have a physical access to their servers they remotely connect using a tool called Secure SHell (SSH). It allows them to log into a remote server and launch a regular shell, while keeping all the network traffic encrypted.</p> <p>??Setup an SSH server on Linux VM. From Linux (using ssh) or Windows (using Putty) log into it. Note: the network need to be properly setup on the VM (bridge mode recommended).</p> <p>Install SSH server and run it</p> <pre><code>sudo apt update\nsudo apt install openssh-server\nsudo systemctl start ssh\nsudo systemctl enable ssh\n</code></pre> <p>Log in into your linux virtual machine</p> <p>??What is the default SSH port? Change this port for port 2222. Log into your Linux VM using this new SSH server setup.</p> <pre><code>sudo nano /etc/ssh/sshd_config\n</code></pre> <p>Change Port number</p> <pre><code>#Port 22\nPort 2222\n</code></pre> <pre><code>sudo systemctl restart ssh\nssh -p 2222 &lt;username&gt;@&lt;VM-IP-Address&gt;\n</code></pre> <p>??List and explain the role of each the file in the $HOME/.ssh directory. In $HOME/.ssh/config, create an entry for the Linux VM.</p> <p><code>$HOME/.ssh/authorized_keys</code> contains external public keys that can log in into server.</p> <p><code>$HOME/.ssh/id_rsa</code> contains private RSA key saved locally inside without external connection.</p> <p><code>$HOME/.ssh/id_rsa.pub</code> contains public RSA key shared with external servers.</p> <p><code>$HOME/.ssh/known_hosts</code> contains previously connected server host keys.</p> <p><code>$HOME/.ssh/config</code> contains configuration for local SSH.</p> <p>??Briefly explain how key-only authentication works in SSH. Generate an ed25519 key-pair on the host system and use it to log into the VM without a password.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L2/#exercise-4-basic-git","title":"Exercise 4 Basic git","text":"<p>Git is a very power version control system initially introduced to help in the development of the Linux kernel around 2005. It has since then become a widely used tool omnipresent in industry. It is therefore of a vital importance to be proficient at it in order to better prepare for your future career and create more internship opportunities.</p> <p>??Setup git on your computer, we will use it for the rest of the semester.</p> <pre><code>sudo apt install git\n</code></pre> <p>??Search the use of the following git commands:</p> <p>??<code>help</code> is display help information for git like <code>man</code> in linux</p> <p>??<code>init</code> initializes git repository in current folder, generating .git directory in current path.</p> <p>??<code>checkout</code> can switch branch or restore files. <code>git checkout branch_name</code> will change branch, and <code>git checkout -- file.cpp</code> will change file into last committed state.</p> <p>??<code>branch</code> can list, generate, or remove branches. Only <code>git branch</code> command lists all branches, <code>git branch new_branch_name</code> will make new name, and <code>git branch -d branch_name</code> will remove branch.</p> <p>??<code>push</code> will transfer local commit into remote repository.</p> <p>??<code>pull</code> will transfer remote repository data change into local branch.</p> <p>??<code>merge</code> will combine one branch into another branch. <code>git merge branch_name</code> will apply both changes of <code>branch_name</code> branch and currently working branch.</p> <p>??<code>add</code> means next commit will include added file. <code>git add .</code> will add all.</p> <p>??<code>diff</code> will list commits, branches, work trees.</p> <p>??<code>tag</code> will create reference for commit. For instance, version tag like <code>git tag v2.0</code> can be used.</p> <p>??<code>log</code> shows all commit record for current branch.</p> <p>??<code>fetch</code> will download files from remote repo. It is often used if remote repo has update.</p> <p>??<code>commit</code> will save changed status in a tree.</p> <p>??<code>clone</code> will download remote repo and create local repo by copying remote repo.</p> <p>??<code>reset</code> will get back all repo changes into certain commit.</p> <p>??Setup your git repository on Gitea.</p> <p>Follow and reproduce on your personal repository the demo from the TAs showing a common git workflow.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L2/#exercise-5-project-1-presentations-part-2","title":"Exercise 5 Project 1: presentations (part 2)","text":""},{"location":"ECE482FA24/ECE482LAB/ECE482L3/","title":"Lab 03","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L3/#1-project-1-presentations-part-2","title":"1 Project 1: presentations (part 2)","text":""},{"location":"ECE482FA24/ECE482LAB/ECE482L3/#2-source-code","title":"2 Source code","text":"<p>When joining an existing two aspects are critical. First it is very important to understand the general structure of the project while also getting familiar with the coding style of the other developers. Then when starting to code one wants to keep track of the changes, while also being able to export and import them in a simple fashion.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L3/#21-linux-kernel-walk-through","title":"2.1 Linux kernel walk-through","text":"<p>In order to be more effective when solving homework 2 exercise 2, pay attention on how the TAs use the tools presented in lab 1 in order to find their way in Linux kernel source code. Carefully listen to the explanations related to the structure of code and common C strategies you might (re)discover.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L3/#22-the-diff-and-patch-commands","title":"2.2 The <code>diff</code> and <code>patch</code> commands","text":"<p>When dealing with source code two main situations are likely to arise: (i) you want to share your changes with others, or (ii) you want to apply changed performed by someone else. Most of the time updates on source code concern few lines scattered over several files. Therefore instead of sharing all the files it is much more convenient to only specify which lines should be updated, and how. This is the role of the diff command. The patch command is used to apply the changes previously created with diff. Both diff and patch programs should already be installed in your OS.</p> <ul> <li>Read the man pages of <code>diff</code> and <code>patch</code></li> <li>Edit a file of your choice in /usr/src, e.g. add a comment to a file</li> <li>Using the diff command, create a patch corresponding to the above changes</li> <li>Retrieve your patch on your Linux system</li> <li>Apply your patch to the copy of /usr/src_orig on your Linux system</li> <li>Revert the patch</li> </ul>"},{"location":"ECE482FA24/ECE482LAB/ECE482L3/#read-the-man-pages-of-diff-and-patch","title":"Read the man pages of <code>diff</code> and <code>patch</code>","text":"<pre><code>man diff\n</code></pre> <pre><code>DIFF(1)                          User Commands                         DIFF(1)\n\nNAME\n       diff - compare files line by line\n\nSYNOPSIS\n       diff [OPTION]... FILES\n\nDESCRIPTION\n       Compare FILES line by line.\n       Mandatory  arguments  to  long  options are mandatory for short options\n       too.\n</code></pre> <p>Manual of <code>patch</code> is longer.</p> <pre><code>man patch\n</code></pre> <pre><code>PATCH(1)                    General Commands Manual                   PATCH(1)\n\nNAME\n       patch - apply a diff file to an original\n\nSYNOPSIS\n       patch [options] [originalfile [patchfile]]\n\n       but usually just\n\n       patch -pnum &lt;patchfile\n\nDESCRIPTION\n       patch takes a patch file patchfile containing a difference listing pro??\n       duced by the diff program and applies those differences to one or  more\n       original  files, producing patched versions.  Normally the patched ver??\n       sions are put in place of the originals.  Backups can be made; see  the\n       -b  or  --backup option.  The names of the files to be patched are usu??\n       ally taken from the patch file, but if there's  just  one  file  to  be\n       patched it can be specified on the command line as originalfile.\n\n       Upon startup, patch attempts to determine the type of the diff listing,\n       unless overruled by a -c (--context), -e (--ed), -n (--normal),  or  -u\n       (--unified)  option.  Context diffs (old-style, new-style, and unified)\n       and normal diffs are applied by the  patch  program  itself,  while  ed\n       diffs are simply fed to the ed(1) editor via a pipe.\n\n       patch  tries to skip any leading garbage, apply the diff, and then skip\n       any trailing garbage.  Thus you could feed an article or  message  con??\n       taining  a  diff  listing  to patch, and it should work.  If the entire\n       diff is indented by a consistent amount, if lines end in CRLF, or if  a\n       diff  is  encapsulated  one  or  more times by prepending \"- \" to lines\n       starting with \"-\" as specified by Internet RFC 934, this is taken  into\n       account.   After  removing  indenting or encapsulation, lines beginning\n       with # are ignored, as they are considered to be comments.\n\n        With context diffs, and to a lesser extent with normal diffs, patch can\n       detect  when the line numbers mentioned in the patch are incorrect, and\n       attempts to find the correct place to apply each hunk of the patch.  As\n       a first guess, it takes the line number mentioned for the hunk, plus or\n       minus any offset used in applying the previous hunk.  If  that  is  not\n       the correct place, patch scans both forwards and backwards for a set of\n       lines matching the context given in the hunk.  First patch looks for  a\n       place where all lines of the context match.  If no such place is found,\n       and it's a context diff, and the maximum fuzz factor is  set  to  1  or\n       more, then another scan takes place ignoring the first and last line of\n       context.  If that fails, and the maximum fuzz factor is  set  to  2  or\n       more,  the first two and last two lines of context are ignored, and an??\n       other scan is made.  (The default maximum fuzz factor is 2.)\n\n       Hunks with less prefix context  than  suffix  context  (after  applying\n       fuzz)  must  apply  at the start of the file if their first line number\n       is 1.  Hunks with more prefix context than suffix context (after apply??\n       ing fuzz) must apply at the end of the file.\n\n       If patch cannot find a place to install that hunk of the patch, it puts\n       the hunk out to a reject file, which normally is the name of the output\n       file  plus  a .rej suffix, or # if .rej would generate a file name that\n       is too long (if even appending the single character #  makes  the  file\n       name too long, then # replaces the file name's last character).\n\n       The  rejected hunk comes out in unified or context diff format.  If the\n       input was a normal diff, many of the contexts  are  simply  null.   The\n       line  numbers  on the hunks in the reject file may be different than in\n       the patch file: they reflect the approximate location patch thinks  the\n       failed hunks belong in the new file rather than the old one.\n\n       As  each  hunk is completed, you are told if the hunk failed, and if so\n       which line (in the new file) patch thought the hunk should go  on.   If\n       the  hunk  is installed at a different line from the line number speci??\n       fied in the diff, you are told the offset.  A single large  offset  may\n       indicate  that  a  hunk was installed in the wrong place.  You are also\n       told if a fuzz factor was used to make the match,  in  which  case  you\n       should  also be slightly suspicious.  If the --verbose option is given,\n       you are also told about hunks that match exactly.\n...\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L3/#edit-a-file-of-your-choice-in-usrsrc-eg-add-a-comment-to-a-file","title":"Edit a file of your choice in <code>/usr/src</code>, e.g. add a comment to a file","text":"<p>First, make a backup for <code>usr/src</code></p> <pre><code>sudo cp -r /usr/src /usr/src_backup\n</code></pre> <p>Now edit file inside <code>/usr/src</code>.</p> <pre><code>jhpark@jhparkvm:/usr/src$ ls linux-headers-6.5.0-35-generic/\narch    Documentation  init      Kconfig   mm              samples   tools\nblock   drivers        io_uring  kernel    Module.symvers  scripts   ubuntu\ncerts   fs             ipc       lib       net             security  usr\ncrypto  include        Kbuild    Makefile  rust            sound     virt\n\njhpark@jhparkvm:/usr/src$ ls linux-hwe-6.5-headers-6.5.0-35/\narch    Documentation  init      Kconfig   mm       scripts   ubuntu\nblock   drivers        io_uring  kernel    net      security  usr\ncerts   fs             ipc       lib       rust     sound     virt\ncrypto  include        Kbuild    Makefile  samples  tools\n</code></pre> <p>I decided to add a comment to a Makefile.</p> <pre><code>sudo nano /usr/src/linux-headers-6.5.0-35-generic/Makefile\n# Test comment made by JH Park for ECE482\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L3/#using-the-diff-command-create-a-patch-corresponding-to-the-above-changes","title":"Using the diff command, create a patch corresponding to the above changes","text":"<pre><code>sudo diff -u /usr/src/linux-headers-6.5.0-35-generic/Makefile /usr/src_backup/linux-headers-6.5.0-35-generic/Makefile &gt; jhpark_patch.patch\n</code></pre> <p>Patch created.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L3/#retrieve-your-patch-on-your-linux-system","title":"Retrieve your patch on your Linux system","text":"<p>Patch command updated the difference of code I added well.</p> <pre><code>cat jhpark_patch.patch\n</code></pre> <p>Patch comment updated.</p> <pre><code>--- /usr/src/linux-headers-6.5.0-35-generic/Makefile    2024-10-21 01:14:53.470376307 +0800\n+++ /usr/src_backup/linux-headers-6.5.0-35-generic/Makefile 2024-10-21 01:11:46.859876208 +0800\n@@ -1,4 +1,3 @@\n-# Test comment made by JH Park for ECE482\n # SPDX-License-Identifier: GPL-2.0\n VERSION = 6\n PATCHLEVEL = 5\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L3/#apply-your-patch-to-the-copy-of-usrsrc_orig-on-your-linux-system","title":"Apply your patch to the copy of /usr/src_orig on your Linux system","text":"<p>I made backup branch name as <code>usr/src_backup</code> so copied again.</p> <pre><code>sudo cp -r /usr/src_backup /usr/src_orig\n</code></pre> <p>Now apply patch to newly created <code>usr/src_orig</code>.</p> <pre><code>sudo patch /usr/src_backup/linux-headers-6.5.0-35-generic/Makefile &lt; jhpark_patch.patch\n</code></pre> <p>Finally, check if change is applied.</p> <pre><code>head /usr/src/linux-headers-6.5.0-35-generic/Makefile\nhead /usr/src_orig/linux-headers-6.5.0-35-generic/Makefile\n</code></pre> <p>It is applied successfully.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L3/#revert-the-patch","title":"Revert the patch","text":"<p>Execute patch with revert option</p> <pre><code>sudo patch -R /usr/src_orig/linux-headers-6.5.0-35-generic/Makefile &lt; jhpark_patch.patch\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L3/#23-basic-git-usage","title":"2.3 Basic <code>git</code> usage","text":"<p>The programs patch and diff are very useful however when big projects are managed by many people at the same time they are not convenient to handle. A more advanced, automatised approach is required such as to help solving collisions in a more simple way. For instance user A commits some changes on the initial version of the file foo.c. Then user B does the same. Notice that changes made by B may collide with updates from A. To prevent such issues B should have worked based on A?\uc172 version of the foo.c file.</p> <p>To overcome such kind of issues and render things smoother and easier several systems were created; at the moment the most commonly used is called git, older ones such as svn or cvs are still used in some places. In the remainder of this course you will be required to use the gitea in order to keep track of your project work.</p> <p>Go to http://learngitbranching.js.org/ and complete the following levels:</p> <ul> <li>Main ??Introduction Sequence: all;</li> <li>Main ??Ramping Up: all;</li> <li>Main ??A mixed bag: 1, 4;</li> <li>Remote ??Push &amp; Pull ??Git Remotes!: 1-4, 6;</li> </ul> <p></p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L3/#3-scripting-and-regular-expressions","title":"3 Scripting and regular expressions","text":"<p>Two programming languages often used in conjunction with Bash are <code>sed</code> and <code>awk</code>. Pipelining the output of ifconfig to awk return only the ip address of your current active network connection (the active network interface can be passed to ifconfig).</p> <p>Install network tools</p> <pre><code>sudo apt-get install net-tools\n</code></pre> <p>Ip check commands by <code>ifconfig</code> and <code>awk</code> is required.</p> <pre><code>ifconfig | awk '/inet / {print $2}'\n</code></pre> <p>Returns this ip address</p> <pre><code>172.16.43.132\n127.0.0.1\n</code></pre> <p>IP address from my Linux Ubuntu installed in VMWare fusion</p> <pre><code>127.0.0.1\n192.168.101.8\n0.0.1.1\n198.18.0.1\n192.168.100.1\n172.16.43.1\n</code></pre> <p>IP address from my Mac OS terminal.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L4/","title":"Lab 04","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L4/#exercise-1-database","title":"Exercise 1 Database","text":"<p>This is the evening, you are exhausted after a long day of work on mumsh. So you decide to poke around and learn more about database, as unfortunately you never had to opportunity to select such course during your studies.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L4/#11-database-creation","title":"1.1 Database creation","text":"<p>As a first step you need to find a database, you fire-up your web-browser. Unfortunately your internet is very slow today so you cannot get much information. But after a bit of thinking you realise that you still have a git version of the Linux kernel, and as you know everything about git you can easily generate logs from the git commits. To ensure a proper formatting you refer to git pretty format documentation page. So you open a terminal running mumsh and type a simple command line to test database generation.</p> <pre><code>mumsh $ git log --pretty=\"%H,%aN,%aI,%s\" &gt; db.csv\n</code></pre> <p>The goal being to get a basic introduction to database you only want to focus on basic queries, in particular you do not need a very complicated database and in the end only generating two csv files1 containing the following fields is enough.</p> <p>Fields for timestamp.csv:</p> <ul> <li>Hash of the commit</li> <li>Author name</li> <li>Author date, strict ISO 8601 format</li> <li>Author date, UNIX timestamp</li> </ul> <p>Fields for db.csv:</p> <ul> <li>Hash of the commit</li> <li>Author name</li> <li>Subject</li> </ul> <p>Enter command in the project 1 git repository folder to generate log of git commits. To proceed the following assignment, it is necessary to get the git repository of the Linux.</p> <pre><code>cd cd /path/to/p1\ngit log --pretty=\"%H,%aN,%aI,%s\" &gt; commits.csv\ncd /path/to/l4\n</code></pre> <ul> <li>%H: Hash of the commit</li> <li>%aN: Author name</li> <li>%aI: Author date (strict ISO 8601)</li> <li>%s: Subject</li> </ul> <p>Enter command in the project 1 git repository folder to generate log of timestamp</p> <pre><code>awk -F',' '{ print $1 \",\" $2 \",\" $4 }' commits.csv &gt; db.csv\nawk -F',' '{ cmd = \"date -d \\\"\" $3 \"\\\" +%s\"; cmd | getline unix_time; close(cmd); print $1 \",\" $2 \",\" $3 \",\" unix_time }' commits.csv &gt; timestamp.csv\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L4/#12-database-system-installation","title":"1.2 Database system installation","text":"<p>As you want to ensure your understanding and guesses are correct you need to verify a few things online. Luckily your network seems back to normal, so you can use a proper search engine and ensure the correctness of what you found.</p> <ul> <li>What are the most common database systems?</li> <li>Briefly list the pros and cons of the three most common ones.</li> </ul> <p>There are several common database systems used in industry.</p> <p>PostgreSQL, MySQL, SQLite, MongoDB, Redis, Oracle, Microsoft SQL Server, Apache Cassandra, etc.</p> <p>Ignoring enterprise DB systems like Oracle, Microsoft SQL Server, or AWS servers, and specialized database system like Redis used for quick access or Apache Cassandra for data engineering, PostgreSQL, MySQL, and MongoDB are most commonly used in general software development. SQLite is used widely too, but it is mostly for learning level or small scale projects,</p> <p><code>MySQL</code> is RDBMS (Relational Database Management System) commonly used for Web applications.</p> <p>Pros of MySQL</p> <ul> <li>Fast performance in reading heavy workload</li> <li>Setup is relatively easy with various versions including both open source and enterprise</li> <li>High popularity, several extensions and libraries, more data to search and debug</li> </ul> <p>Cons of MySQL</p> <ul> <li>Not enough advanced functions like no full text search</li> <li>Relatively poor flexibility to build complicated relational DB</li> <li>ACID (Atomicity, Consistency, Isolation, Durability) support is not good</li> </ul> <p><code>PostgreSQL</code> is also RDBMS but used for more complex queries and extensible system.</p> <p>Pros of PostgreSQL</p> <ul> <li>Supports custom data types, functions, and operators, so great extensibility</li> <li>Supports advanced SQL features (like full-text search, CTEs, JSONB).</li> <li>ACID-compliant, ensuring data integrity.</li> <li>Open-source with a strong community.</li> </ul> <p>Cons of PostgreSQL</p> <ul> <li>Requires setup for optimal performance for complicated datasets.</li> <li>Relatively more complex to set up and manage database systems compared to other DB systems.</li> <li>If not optimized, it is slower than some NoSQL databases for heavy operations.</li> </ul> <p><code>MongoDB</code> is NoSQL (Non-RDB), or Document Database since it does not save data in table form.</p> <p>Pros of MongoDB</p> <ul> <li>Manage unstructured data efficiently</li> <li>Horizontal scaling, or sharding, let easy access in server system</li> <li>Supports JSON similar documents</li> <li>Efficient for Agile development with quickly changing database schema</li> </ul> <p>Cons of MongoDB</p> <ul> <li>No ACID consideration in default, nowadays better but still poor compared to RDBMS</li> <li>Compared to SQL, Query is relatively not efficient</li> <li>Inefficient data structure require more memory and storage than RDB</li> </ul>"},{"location":"ECE482FA24/ECE482LAB/ECE482L4/#after-completing-your-reading-you-decide-to-install-sqlite-on-your-linux-system","title":"After completing your reading you decide to install SQLite on your Linux system.","text":"<p>The next step is now to import your git database into two tables.</p> <ul> <li>Create an empty SQLite database.</li> <li>Use the SQLite shell to prepare two empty tables for each of your .csv file.</li> <li>Import each .csv file in its corresponding SQLite table.</li> </ul> <p>In macOS, install SQLite by <code>brew</code>. Use other command for Linux.</p> <pre><code>brew intall sqlite3 # macOS\nsudo apt update &amp;&amp; sudo apt install sqlite3 # Linux or WSL\n</code></pre> <p>Then, create new database</p> <pre><code>sqlite3 l4.db\n</code></pre> <p>Based on the csv files generated in previous exercise, create two database tables.</p> <pre><code>CREATE TABLE db\n(\n    hash TEXT NOT NULL PRIMARY KEY,\n    name TEXT NOT NULL,\n    comment TEXT NOT NULL\n);\n\nCREATE TABLE timestamp\n(\n    hash TEXT NOT NULL,\n    name TEXT NOT NULL,\n    date TEXT,\n    stamp INT\n);\n\n.QUIT\n</code></pre> <p>Now, import <code>db.csv</code> and <code>timestamp.csv</code> for each SQLite table.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L4/#13-database-queries","title":"1.3 Database queries","text":"<p>At this stage you want to run basic queries to verify that the database has been imported correctly. Therefore, you spend the rest of the evening playing around the database and running queries.</p> <ul> <li>Who are the top five contributors to the Linux kernel since the beginning?</li> <li>Who are the top five contributors to the Linux kernel for each year over the past five years?</li> <li>What is the most common ?\uc401ommit subject??</li> <li>On which day is the number of commits the highest?</li> <li>Determine the average time between two commits for the five main contributors.</li> </ul> <p>First, generate SQLite database and import generated csv files</p> <pre><code>sqlite3 lab4.db\n</code></pre> <p>Create database schema</p> <pre><code>CREATE TABLE db (\n    hash TEXT NOT NULL PRIMARY KEY,\n    name TEXT NOT NULL,\n    comment TEXT NOT NULL\n);\n\nCREATE TABLE timestamp (\n    hash TEXT NOT NULL PRIMARY KEY,\n    name TEXT NOT NULL,\n    date TEXT,\n    stamp INT\n);\n\n.separator \"|\"\n.import db.psv db\n.import timestamp.psv timestamp\n</code></pre> <p>Now ready to run SQL Queries.</p> <p>Who are the top five contributors to the Linux kernel since the beginning?</p> <pre><code>SELECT name, count(*)\nFROM timestamp\nGROUP BY name\nORDER BY count(*) DESC\nLIMIT 5;\n</code></pre> <p>Returns</p> <pre><code>Linus Torvalds|30702\nDavid S. Miller|13180\nTakashi Iwai|7726\nMark Brown|7670\nArnd Bergmann|7520\n</code></pre> <p>Who are the top five contributors to the Linux kernel for each year over the past five years?</p> <pre><code>SELECT name, COUNT(name) AS count\nFROM timestamp\nWHERE strftime('%Y', datetime(stamp, 'unixepoch')) = '2020'\nGROUP BY name\nORDER BY count DESC\nLIMIT 5;\n</code></pre> <p>Since data is not available after 2020, query ran from 2016 to 2020</p> <p>Year 2020</p> <pre><code>Linus Torvalds|1886\nDavid S. Miller|924\nChristoph Hellwig|806\nMauro Carvalho Chehab|770\nChris Wilson|644\n</code></pre> <p>Year 2019</p> <pre><code>Linus Torvalds|2386\nDavid S. Miller|1206\nChris Wilson|1173\nYueHaibing|930\nChristoph Hellwig|911\n</code></pre> <p>Year 2018</p> <pre><code>Linus Torvalds|2168\nDavid S. Miller|1405\nArnd Bergmann|922\nChristoph Hellwig|818\nColin Ian King|798\n</code></pre> <p>Year 2017</p> <pre><code>Linus Torvalds|2303\nDavid S. Miller|1420\nArnd Bergmann|1123\nChris Wilson|1028\nArvind Yadav|827\n</code></pre> <p>Year 2016</p> <pre><code>Linus Torvalds|2273\nArnd Bergmann|1185\nDavid S. Miller|1150\nChris Wilson|992\nMauro Carvalho Chehab|975\n</code></pre> <p>What is the most common ?\uc401ommit subject??</p> <pre><code>SELECT comment, COUNT(name) AS count\nFROM db\nGROUP BY comment\nORDER BY count DESC LIMIT 1;\n</code></pre> <p>Most coommon commit subject was</p> <pre><code>Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net|670\n</code></pre> <p>On which day is the number of commits the highest?</p> <pre><code>SELECT  date(date) AS day, COUNT(name) AS count\nFROM timestamp\nGROUP BY day\nORDER BY count DESC\nLIMIT 3;\n</code></pre> <p>The day with highest commits is 2008 January 30th with 1031 commits</p> <pre><code>2008-01-30|1031\n2006-12-07|683\n2007-05-08|649\n</code></pre> <p>Determine the average time between two commits for the five main contributors.</p> <p>This query structure is quite challenging with more complex logic. Make <code>time_diffs</code> value, <code>LAG(stamp)</code> function retrieve data from previous commit. For compromised calculation due to no previous data, prevent collision by <code>WHERE time_diff IS NOT NULL</code>.</p> <pre><code>WITH time_diffs AS (\n    SELECT\n        name,\n        (stamp - LAG(stamp) OVER (PARTITION BY name ORDER BY stamp)) AS time_diff\n    FROM timestamp\n)\nSELECT name,\n       AVG(time_diff) AS avg_time_between_commits\nFROM time_diffs\nWHERE time_diff IS NOT NULL\nGROUP BY name\nORDER BY COUNT(name) DESC\nLIMIT 5;\n</code></pre> <p>This returns following, in seconds unit.</p> <pre><code>Linus Torvalds|15880.6766554835     #  4.4 Hours\nDavid S. Miller|36956.1432582138    # 10.3 Hours\nTakashi Iwai|63301.1109385113       # 17.5 Hours\nMark Brown|59933.2400573738         # 16.7 Hours\nArnd Bergmann|63807.0030589174      # 17.6 Hours\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L4/#exercise-2-debugging","title":"Exercise 2 Debugging","text":"<p>You are pretty happy and enjoying the database tasks when your mum pops in your room. She looks pretty upset that you are still not asleep as she thinks you were playing video games?? When you explain her to that you have terrible bugs in your shell and needed a bit of change, she asked you whether you had used GDB. As you replied ?\uc3dean I eat it???she realises you probably do not know much about it. She kindly tells you to have a quick try at it on your current mumsh version to preview it. This should become very handy if you ever have to work on a large scale project.</p> <ol> <li>How to enable built-in debugging in <code>gcc</code>?</li> <li>What is the meaning of GDB?</li> <li>Compile the master branch of you mumsh with debugging enabled.</li> </ol>"},{"location":"ECE482FA24/ECE482LAB/ECE482L4/#201-how-to-enable-built-in-debugging-in-gcc","title":"2.0.1 How to enable built-in debugging in <code>gcc</code>?","text":"<pre><code>gcc -g -o main main.c util.c\ngdb ./main\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L4/#202-what-is-the-meaning-of-gdb","title":"2.0.2 What is the meaning of GDB?","text":"<p>GDB stands for GNU Debugger.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L4/#203-compile-the-master-branch-of-you-mumsh-with-debugging-enabled","title":"2.0.3 Compile the master branch of you mumsh with debugging enabled.","text":"<pre><code>clang-18 -std=gnu17 -O2 -Wall -Wextra -Werror -pedantic -Wno-unused-result -Wconversion -Wvla main.c utils.c mumsh.c init.c -o mumsh\ngdb ./mumsh\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L4/#21-basic-gdb-usage","title":"2.1 Basic GDB usage","text":"<ol> <li>Find the homepage of the GDB project.</li> <li>What languages are supported by</li> </ol>"},{"location":"ECE482FA24/ECE482LAB/ECE482L4/#211-find-the-homepage-of-the-gdb-project","title":"2.1.1 Find the homepage of the GDB project.","text":"<p>GDB: The GNU Project Debugger</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L4/#212-what-languages-are-supported-by-gdb","title":"2.1.2 What languages are supported by GDB?","text":"<ul> <li>Ada</li> <li>Assembly</li> <li>C</li> <li>C++</li> <li>D</li> <li>Fortran</li> <li>Go</li> <li>Objective-C</li> <li>OpenCL</li> <li>Modula-2</li> <li>Pascal</li> <li>Rust</li> </ul> <p>These programming languages are supported by GDB.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L5/","title":"Lab 05","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L5/#1-project-2-presentations-part-1","title":"1 Project 2: presentations (part 1)","text":"<p>To ensure a more synchronised support during project 2, presentations are split into two parts. Topics are available on Canvas and their selection is on a first come first served basis. Please well prepare your presentation and ask questions on others??research. This should greatly help in the development of your Database system. Be careful, Mr. Frown might be listening!</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L5/#2-layer-programming","title":"2 Layer programming","text":"<p>When writing code one of the most important goal is flexibility. In particular it should be possible to alter part of the program without having to rewrite everything. For instance in the case of a music player the part of the code in charge of opening a file, decoding it, and sending it to the sound card should be totally independent from the Graphical User Interface (GUI). If this is not the case, changing the toolkit used to build the GUI will impact the core functionalities of the program, leading to a complete rewriting of the software. On the other hand if the various components are developed with layers in mind, the GUI will be implemented as top layer such that altering it will not impact the lower layers in charge of the player?\uc172 core functionalities.</p> <p>Basic principles in layer programming:</p> <ul> <li>A function may not call a function from any higher layer;</li> <li>A function can only issue calls to functions from a same or a lower layer.</li> </ul> <p>We now refer to exercise 2 from homework 3 as an example on how to write code using layers.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L5/#the-program-can-be-divided-into-three-layers-what-are-they","title":"The program can be divided into three layers, what are they?","text":"<p>Since it is layer of function, it is supposed to be structural rather than function based division composed of read, sort, write.</p> <p>Core Data Structure Layer includes linked list structure including generation, node memory allocation, free, list insertion, and other functions.</p> <p>Application Function Logic Layer will include acquisition of data type, sorting type, value search, etc. Sorting list will be categorized as close to data structure though.</p> <p>User Interface Layer handles Input Output redirection of the code, parsing input file and arguments and generating output text file. These are the most external layer, so related codes will be in <code>main.c</code>.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L5/#programming-part","title":"Programming part","text":"<ul> <li>Create the appropriate corresponding header files.</li> <li>If necessary rewrite functions such that no call is emitted from lower level functions to upper level   functions.</li> <li>The initial program implements a command line interface, write a ?\uc3eeenu interface??which (i) welcomes the user, (ii) prompts him for some task to perform, and (iii) runs it. When a task is   completed the user should (i) be informed if it was successful and then (ii) be displayed the menu.   From the menu he should be able to exit the program.</li> <li>Write two main functions, one which will ?\uc402ispatch??the work to another function which will run   the command line user interface and a second one which will ?\uc402ispatch??the work to the Menu user   interface.</li> </ul> <p>Codes in <code>ex2</code> folder.</p> <p>Core data structure including node and list are inside <code>list.c</code> file. Application function including read sort write are inside <code>util.c</code> file. User interface layer is <code>main.c</code> file that could be implemented further.</p> <pre><code>clang-18 -std=gnu17 -O2 -Wall -Wextra -Werror -pedantic -Wno-unused-result -Wconversion -Wvla main.c list.c util.c -o ex2\n./ex2\n</code></pre> <p>Compiled successfully.</p> <p>The initial program implements a command line interface, write a ?\uc3eeenu interface??which (i) welcomes the user, (ii) prompts him for some task to perform, and (iii) runs it. When a task is completed the user should (i) be informed if it was successful and then (ii) be displayed the menu. From the menu he should be able to exit the program.</p> <p>Write two main functions,</p> <p>one which will ?\uc402ispatch??the work to another function which will run the command line user interface and a second one which will ?\uc402ispatch??the work to the Menu user interface.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L5/#3-libraries","title":"3 Libraries","text":"<p>In order to understand libraries we first recall a few basics on compilation.</p> <ul> <li>What are the four stages performed when compiling a file?</li> <li>Briefly describe each of them.</li> </ul> <p>Four stages</p> <ol> <li><code>Preprocess</code> handles macros and directives including <code>#include</code>, <code>#define</code>, and <code>#ifdef</code>.</li> <li><code>Compile</code> macro handle code is compiled and translated to assembly code file like <code>.s</code> file.</li> <li><code>Assembly</code> code generated will be converted to machine code like object file like <code>.o</code> or <code>obj</code> file.</li> <li><code>Link</code> will combine every object files created from assembly step into executable file like ELF file for UNIX system.</li> </ol> <p>A library is a collection of functions, data types, constants, etc. which are put together. When compiling, the machine code corresponding to those elements is generated. Two types of libraries exist: static and dynamic. Explain the difference between the two. Generating a static library is a simple process: collect several functions and pack them into an ar archive.</p> <ul> <li>Search more details on how to proceed.</li> <li>Create two static libraries, one for each of the two lowest layers in the previous program.</li> <li>Compile the command line version of the program using these two static libraries.</li> </ul> <p>A <code>static</code> library that typically start with <code>.a</code> on UNIX and <code>.lib</code> on Windows OS contains code directly link and compile code to execute during linking stage of file compile. These static libraries are embedded into computer system, so there is no reason to use external libraries, but more static library in Os means larger system file size, since library code will be duplicated per program using them.</p> <p>A <code>dynamic</code> library that typically start with <code>.so</code> on UNIX or <code>.dll</code> in Windows OS contains code that are loaded in linking stage of runtime instead of compile time. Since they have dynamic libraries, several programs could share same dynamic libraries without duplication. This reduces memory usage and disk space, but instead existence of dynamic libraries should be guaranteed.</p> <p>Generating shared, or dynamic, libraries is a slightly more complex process. Since the library is to be shared among various programs none of them can rely on a predefined location where to find the functions in the memory. Therefore, as the library has to store its information at different memory addresses it is compiled into a Position-Independent Code (PIC). This is achieved by running gcc with the flag -fpic. Then in order to effectively create the dynamic library, gcc has to be re-run with the flag -shared.</p> <ul> <li>Generate two dynamic libraries, one for each of the two lowest layers in the previous program.</li> <li>Compile the whole program</li> <li>Compile the Menu version of the program using these two dynamic libraries.</li> </ul> <p>Two lowest layers</p> <p>A few extra remarks:</p> <ul> <li>What is the difference between a library and the API.</li> <li>Implement the API below for the two libraries.</li> <li>Test on JOJ using &gt; git commit -m\"joj.l5\" .</li> </ul> <p>A <code>Library</code> is all codes compiled for program execution including function, datatype, etc. They are reusable for several programs, so resources will be reduced compared to embedded code.</p> <p>An <code>API</code> stands for Application Programming Interface. It can select methods and rules of functions and processes to be called. The API will act as some form of code interface for programmers.</p> <pre><code>clang-18 -std=gnu17 -O2 -Wall -Wextra -Werror -pedantic -Wno-unused-result -Wconversion -Wvla lab5_dlist.c -o ex3\n./ex3\ngit add .\ngit commit --allow-empty -m \"test(l5): joj\"\ngit push\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L6/","title":"Lab 06","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L6/#project-2-presentations-part-2","title":"Project 2: presentations (part 2)","text":"<p>Presentation Part 2</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L6/#plugin-based-software-development","title":"Plugin based software development","text":"<p>While layer programming is very important and useful to keep the code clean and well organised, the introduction of a plugin structure can greatly enhance and ease the software development process. From a simplified informal point of view a plugin can be seen as a small piece of software that can be loaded to extend or bring in new features to a host application. For this to work, the host software must expose a plugin API. Then plugins can be develop independently from each others or the main application, i.e. the core software does not need them to compile and run properly. Plugins can hence be implemented following the plugin API, be compiled as shared libraries, and loaded at startup or even at run-time by the host software.</p> <p>For instance if developing a music player one might want to introduce plugins to play various file types such as mp3, ogg, and flac. In such a case one will want to have a generic play_file() function which would redirect the job to an appropriate function, for example play_mp3(), or play_ogg() depending on the file type. Of course if a file type is not supported, e.g. play_flac() does not exist, the program should not crash but simply report that this file type is not supported. In particular this shows the necessity for each plugin to register itself and present some meta-information about itself to the main program.</p> <p>One also notices that some functions can be defined as mandatory and others as optional. For instance a flac music player plugin which does not have a play_flac() function should not be loaded, since this function is mandatory to play a flac file. However some other functions such as read_id3_flac(), which reads the id3 tag of a flac file, is not mandatory to play a file, so one can easily think of making it optional. Hence this function should being missing should not prevent the plugin to load. In a slightly more formal way the concept of plugin architecture splits into four sub-concepts:</p> <p>Discovering: mechanisms allowing the host application to discover all available plugins; Usually plugins are found in a specific folders, e.g. /usr/lib/application_name/plugins/, or $HOME/.local/share/ application_name/plugins;</p> <p>Registering: mechanisms allowing the host application to potentially accept and register the discovered plugins; At this stage a plugin announces its features, version, and any other information necessary to the well functioning of the application;</p> <p>Note: in practice discovering and registration and often performed at the same time. Hooking: sometimes called mount points or extension points, applications hooks can be seen as the core of the plugin manager; They allow the plugin to ?\uc3ffttach??itself to the application; Hence the core application can get control over the plugin;</p> <p>Exposing: the core application should also expose an API to plugins such that they can call some of its functions; Evidently, not all functions from the core application should be accessible, cf. layer programming; The set of such functions can be seen as the part of the plugin manager API that is exposed to the plugins;</p> <p>Note: it is possible, and even common, to have a plugin architectures allowing to write plugins in a different language than the core application. For instance if the core application is written in C, plugins do not necessarily require to be developed in C, other languages such as Python or Lua can be used. Of course this requires more work on the plugin architecture design; This is not covered in this lab.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L6/#plugin-architecture-design","title":"Plugin Architecture Design","text":"<p>File input output process plugin should be divided into three large components.</p> <ol> <li><code>open_fi le()</code> will open file and verify its format.</li> <li><code>process_file()</code> will read file data according to its type.</li> <li><code>close_file()</code> will close file and clean up resources.</li> </ol>"},{"location":"ECE482FA24/ECE482LAB/ECE482L6/#main-application-refactor","title":"Main Application Refactor","text":"<ol> <li>Plugin loads all available plugins from folder</li> <li>Plugin will register supported file types for application</li> <li>Plugin will replace current file opening code to function based on extension or identifier.</li> </ol>"},{"location":"ECE482FA24/ECE482LAB/ECE482L6/#opening-processing-text-files","title":"Opening &amp; Processing Text Files","text":"<p>Create text file plugin that adhere to FilePlugin interface. This plugin can manage text files by processing each line. Sample code draft structure in <code>ex2.h</code></p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L6/#3-designing-a-plugin-architecture","title":"3 Designing a plugin architecture","text":"<p>We now want to add a plugin infrastructure to exercise 2 of homework 3, based on the API defined in lab 5. In the initial exercise a text file only contains one type of data, e.g. increasing integers. Lets say that we now want our file to be in csv format, with each column containing a different type of data. For instance a file could look like.</p> <pre><code>rand_int,rand_double,inc_char*\nabc=123,bfc=43.5786,aa=cat\nasda=54,sdfs=654.1,poi=dog\npoqq=3,qa=0.12313,qkm=fish\n</code></pre> <p>Based on the rewritten implementation using the layer programming API:</p> <ul> <li>Design a plugin architecture allowing to open various file-types.</li> <li>Refactor the code of the main application such that opening a text file becomes part of a plugin.</li> <li>Adjust the code such that text files can opened and processed.</li> <li>Write the skeleton of a plugin to open and process csv files.</li> </ul> <p>Skeleton code written in <code>ex3.h</code></p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L7/","title":"Lab 07","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L7/#1-project-2-presentations-part-3","title":"1 Project 2: presentations (part 3)","text":""},{"location":"ECE482FA24/ECE482LAB/ECE482L7/#2-introduction","title":"2 Introduction","text":"<p>Finally, the weekend is here. Things start to be a bit tense at work with Mr. Frown who is always on your back. It feels that things have worsened over the past few days, but you have no idea what could be the problem. In this context a bit of time out with your friend Bob will definitely be much refreshing. When you arrive at The Geeks??Tavern on Friday night, Bob is already seating at the counter sipping a beer. His mood is the total opposite of yours, while you feel disheartened and dejected, Bob seems to be floating in happiness. As soon as he notices you, he walks to you and warmly hugs you. Before you can say anything he announces: ?\uc3fdou know what? I found the perfect job!?? As you silently listens to how great and open his new company is, you cannot stop thinking of your own situation with Mr. Frown. Why on earth did Bob find the perfect job and you are stuck at Lemonion Inc.? You had better grades than him, so why him, not you? Bob is your friend but sharing his joy is not that simple??As he notices your unusual attitude he inquires about your own situation. An uncontrollable flow of words comes out of our mouth, explaining how mean Mr. Frown is and how unrewarding your job is. Bob tries his best to comfort and encourage you, you can even feel some flattery in his words. While you are thankful for his kindness and empathy, you still would like to have a job like his. Unfortunately his line of work is slightly different from what you are used to and more directly related to Operating Systems. He however promises to let you know as soon as he hear of an opening in his perfect company, CoolZone IT solutions. Reinvigorated by Bob?\uc172 words and encouragements, this is with a light heart that you join your parents for Saturday lunch. You just want to relax and enjoy their company. As the discussion shifts to your work at Lemonion Inc. you quickly summarise the current situation and emphasise your desire to do your utmost to keep your job, despite Mr. Frown?\uc172 abuses. As your parents look concerned you tell them that Bob might be able to help you find a better job, but you first need to refresh your memory on Operating Systems. The only good side is that although you have been here for already a couple of hours they have not yet asked you when you will buy a flat and get married??Just as this idea draws a smile on your face, your dad appears in the kitchen and orders you to stop drying up the dishes: he has something to show you. A few years back he started a personal project to learn a bit more about filesystems. He designed a very basic and simple inode-based filesystem for the Linux Operating System, and he suggests that you work on it. Your dad seems very excited by the possibility to work with you and help you getting ready for a prospective position at CoolZone IT solutions.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L7/#3-fixing-dadfs","title":"3 Fixing Dadfs","text":"<p>As you arrive in front of the computer your dad connects to his git server and pull a repository called dadfs. He tells you to start by reading the README file and follow the instructions to compile the code. Unfortunately the code appears to be too old to compile with a new kernel. While you feel disappointed, your father just says ?\uc3e5reat!?? As you gaze at him wondering why the module not compiling is a good news he goes into a great length of explanation on why this is a perfect exercise. You have rarely seen him so excited, even your mum comes wondering what is happening! From what you understand this is a perfect exercise to understand the structure of the code, how the kernel works, what a module is, how to write backward compatible code, etc. It feels like the benefits are endless. So without any further ado you grab the keyboard and start working, although this feels awkward having both your parents in your back commenting your decisions as if you were still in grade 1. To guide you in your work you dad asks you a few initial questions:</p> <p>1. What is a kernel module, and how does it differ from a regular library?</p> <p>The <code>Kernel module</code> code files let Linux kernel to be loaded so that linux kernel can use more functions without system reboot. Kernel could directly handle OS and hardware, including FS(File Systems), networks, or driers. On the other hand, <code>Regular Libraries</code> collect all precompiled functions and routines linked to user space. Libraries are not loaded in kernel space, but in user space. Thus, libraries are not able to access OS or hardware.</p> <p>2. How to compile a kernel module? Before going for his nap your father reminds you of the importance of backward compatibility: ?\uc3e3ven if you code compiles with a new kernel, it should still compile on an old one, so do not delete all my work!?? In a last encouragement before he leaves he blinks his right eye and smile at you before disappearing in the corridor. As you are left along with the code you decide to investigate it further and look at all the details of this first Linux kernel source code. After a quick search on internet it appears that the kernel API has changed since the initial code was written.</p> <p>Step 0 Install Kernel Headers, if not installed</p> <pre><code>sudo apt-get install linux-headers-$(uname -r)\n</code></pre> <p>Step 1 Write MakeFile. Example is below</p> <pre><code>obj-m := dadfs.o\nKDIR := /lib/modules/$(shell uname -r)/build\nPWD := $(shell pwd)\n\nall:\n    $(MAKE) -C $(KDIR) M=$(PWD) modules\n\nclean:\n    $(MAKE) -C $(KDIR) M=$(PWD) clean\n</code></pre> <p>Step 2 Compile module by <code>make</code> command</p> <pre><code>make\n</code></pre> <p>Step 3 Insert and Load module</p> <pre><code>sudo insmod dadfs.ko\n</code></pre> <p>Step 4 Remove the Module</p> <pre><code>sudo rmmod dadfs\n</code></pre> <p>*3. How are mutex defined and used? How good is this approach? As he insists on the last question it clearly appears that he expects an honest response, not just ?\uc3f0f course dad your code is perfect, nobody can do better than you.??</p> <p>Mutexes, or mutual exclusives, are used to protect shared data structures during the multi thread environment. There are serveral steps.</p> <p>Step 0 : Define Mutex</p> <p>Step 1 : Initialize Mutex</p> <p>Step 2 : Lock to protect important section</p> <p>Step 3 : Unlock if important section change is made</p> <pre><code>mutex_init(&amp;my_mutex);\nmutex_lock(&amp;my_mutex);\nmutex_unlock(&amp;my_mutex);\n</code></pre> <p>Mutex are really simple and efficient to manage inside thread context. However, they are able to potentially cause deadlock, specifically when simultaneously locked by twisted order or recursively locked. All threads will be in lock, so that entire mutex is dead.</p> <p>4. Based on the source code, how is information shared between the kernel and user spaces?</p> <p>Information share between kernel and user space is based on memory mapping, using <code>mmap</code> function. Function <code>mmap</code> could map kernel memory or files into user space memory. User space application is possible through kernel buffers with no system call repetition. Also, for specific file systems including <code>procfs</code> that create entries in <code>/proc</code> or <code>sysfs</code> to export kernel objects and attributed to the user spaces.</p> <p>5. Following dad?\uc172 advice ensure the part of the code the poses problem is only processed when working with older kernels. At this stage nothing needs to be done for newer ones. Ensure the module properly compiles on a newer kernel, although it cannot be of any use at this stage.</p> <p>Macro if statements commonly used like <code>#ifdef</code> can be used to ensure backward compatibility. Kernel version can be handled by libraries inside headers like <code>&lt;linux/version.h&gt;</code>.</p> <pre><code>#include &lt;linux/version.h&gt;\n\n#if LINUX_VERSION_CODE &lt; KERNEL_VERSION(3, 12, 0)\nstatic const struct file_operations dadfs_fops = {\n    .read = old_read_function,\n    .write = old_write_function,\n};\n#else\nstatic const struct file_operations dadfs_fops = {\n    .read = new_read_function,\n    .write = new_write_function,\n};\n#endif\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L8/","title":"Lab 08","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L8/#1-introduction","title":"1 Introduction","text":"<p>Reading</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L8/#2-looking-at-the-linux-kernel","title":"2 Looking at the Linux kernel","text":"<p>First you notice references to concepts and topics you have already seen but never dared to look at in details. The all seem to be related to coding quality, which you already know is of a critical importance when working at the kernel level.</p> <p>What are kmsan, kasan, kfence folders?</p> <p>KMSAN (Kernel Memory Sanitizer)</p> <ul> <li>Linux uninitialized kernel memory error detection</li> <li>Maintain shadow memory that track kernel memory initialization status</li> <li>Debug by uninitialized variable detection</li> </ul> <p>KASAN (Kernel Address Sanitizer)</p> <ul> <li>Out of Bounds and Use after free error detector</li> <li>Also use shadow memory that track whether memory access is valid</li> <li>Provide debug info and help to find problematic idea</li> </ul> <p>KFENCE (Kernel Fence)</p> <ul> <li>Lightweight detector for production</li> <li>Minimal performance, appropriate for live environments</li> </ul> <p>What is shadow memory and how does it relate to sanitizers?</p> <p>Shadow memory is portion of memory reserved to store metadata by tracking whether region is valid or not at the actual memory (primary memory) inside OS kernel</p> <p>Sanitizers use shadow memory to mark invalid or not initialized memory, track memory access, or find common error including use-after-free, out-of-bounds, etc.</p> <p>What are sanitizers and why are they essential when coding in the kernel level?</p> <p>Sanitizers dynamically detect bugs like memory errors, invalid accesses, etc. KMSAN, KASAN, KFENCE above are all sanitizers.</p> <p>Sanitizers can detect memory error, so it is essential in low level programming memory management. If memory is corrupted, then OS will not only waste resource but also have several security resources. Moreover, kernel interaction to hardware might be compromised, even result in system crash. Since debugging memory without sanitizer is extremely challenging.</p> <p>What is <code>kmemleak.c</code> file about? Explain who should ?\uc415se??it and under what circumstances</p> <p>File <code>kmemleak.c</code> is about memory leak detection. It will track all dynamically allocated memories to detect memory leakage in a real time.</p> <p>During programming for kernel, it is necessary to debug memory. Thus, it will be really useful in kernel level module modification that require a lot of allocating and freeing memories.</p> <p>You also notice two interesting files:</p> <p><code>nommu.c</code>: when would this file be used? List some drawbacks of having CPU without any MMU.</p> <p>File <code>nommu.c</code> is (NO Memory Management Unit). This is useful in circumstances with limited resources like embedded systems.</p> <p>CPU Drawbacks without MMU will have these problems</p> <ul> <li>No Virtual Memory, only physical memory could be used.</li> <li>No Memory Protection, isolated process will make system corruption and crashes more vulnerable</li> <li>Memory fragmentation issue and limited ability for handling several processes simultaneously</li> <li>Harder debugging, as no VM and memory management is more sophisticated</li> </ul> <p><code>compaction.c</code>: what is this file used for? Why is ?\uc40cemory compaction??important?</p> <p>File <code>compaction.c</code> reduce fragmentation by moving freed memory blocks to restore memory spaces.</p> <p>This compaction is important when memory allocation for large amount of data is completed. Efficient memory allocation is really important for specific processes or devices that must have contiguous memory like DMA buffers. Optimized performance will significantly reduce fallback strategies, maintaining high system performance.</p> <p>As you keep looking at the files in the mm directory of the Linux source code as name stands out: oom_kill.c. This sounds scary! What could be killed. You open the files and discover that it features long interesting comments.</p> <p>What is the OOM killer? In particular what does OOM mean?</p> <p>OOM (Out of Memory) is status when system run out of both physical memory and even reached to limit of SSD swap memory, so that no space has left to allocate resources for new processes.</p> <p>OOM Killer is OS kernel mechanism that will free memory by process termination especially when system memory is low. It will avoid necessary processes and kill useless processes by distinguishing them by heuristic algorithm.</p> <p>Based on the source code and comments, explain what could be a reason for a deadlock in the Linux kernel?</p> <p>Hint. There is no need to read the whole source code, simply run a search on a well chosen keyword.</p> <p>Source code of<code>oom_kill.c</code></p> <pre><code>grep -i \"deadlock\" oom_kill.c\n</code></pre> <pre><code>        panic(\"System is deadlocked on memory\\n\");\n</code></pre> <pre><code>grep -i \"mutex\" oom_kill.c\n</code></pre> <pre><code>DEFINE_MUTEX(oom_lock);\nDEFINE_MUTEX(oom_adj_mutex);\n    if (mutex_lock_killable(&amp;oom_lock))\n    mutex_unlock(&amp;oom_lock);\n</code></pre> <pre><code>grep -i \"wait\" oom_kill.c\n</code></pre> <pre><code>static DECLARE_WAIT_QUEUE_HEAD(oom_victims_wait);\nstatic DECLARE_WAIT_QUEUE_HEAD(oom_reaper_wait);\n                wait_event_freezable(oom_reaper_wait, oom_reaper_list != NULL);\n        wake_up(&amp;oom_reaper_wait);\n * before the exit path is able to wake the futex waiters.\n        wake_up_all(&amp;oom_victims_wait);\n * @timeout: maximum timeout to wait for oom victims in jiffies\n * Will block and wait until all OOM victims are killed or the given\n    ret = wait_event_interruptible_timeout(oom_victims_wait,\n</code></pre> <pre><code>grep -i \"lock\" oom_kill.c\n</code></pre> <pre><code> * oom_killer_disable() relies on this lock to stabilize oom_killer_disabled\nDEFINE_MUTEX(oom_lock);\nrcu_read_lock();\nrcu_read_unlock();\n* task_lock() held.\nstruct task_struct *find_lock_task_mm(struct task_struct *p)\nrcu_read_lock();\ntask_lock(t);\ntask_unlock(t);\nrcu_read_unlock();\np = find_lock_task_mm(p);\ntask_unlock(p);\ntask_unlock(p);\nrcu_read_lock();\nrcu_read_unlock();\ntask = find_lock_task_mm(p);\ntask_unlock(task);\nrcu_read_lock();\nrcu_read_unlock();\nstatic DEFINE_SPINLOCK(oom_reaper_lock);\n* we do not want to block exit_mmap by keeping mm ref\nif (mmu_notifier_invalidate_range_start_nonblock(&amp;range)) {\nif (!mmap_read_trylock(mm)) {\n* under mmap_lock for reading because it serializes against the\n* mmap_write_lock();mmap_write_unlock() cycle in exit_mmap().\ngoto out_unlock;\nout_unlock:\nmmap_read_unlock(mm);\n/* Retry the mmap_read_trylock(mm) a few times */\ndebug_show_all_locks();\n* somebody can't call mmap_write_unlock(mm).\nspin_lock_irq(&amp;oom_reaper_lock);\nspin_unlock_irq(&amp;oom_reaper_lock);\nspin_lock_irqsave(&amp;oom_reaper_lock, flags);\nspin_unlock_irqrestore(&amp;oom_reaper_lock, flags);\n* Has to be called with oom_lock held and never after\n* under task_lock or operate on the current).\n* any memory and livelock. freezing_slow_path will tell the freezer\n* Will block and wait until all OOM victims are killed or the given\nif (mutex_lock_killable(&amp;oom_lock))\nmutex_unlock(&amp;oom_lock);\n* Caller has to make sure that task-&gt;mm is stable (hold task_lock or\n* on that for now. We can consider find_lock_task_mm in future.\nrcu_read_lock();\nrcu_read_unlock();\np = find_lock_task_mm(victim);\n/* Get a reference to safely compare mm after task_unlock(victim) */\ntask_unlock(victim);\n* depletion of all memory.  This prevents mm-&gt;mmap_lock livelock when an\nrcu_read_lock();\nrcu_read_unlock();\ntask_lock(victim);\ntask_unlock(victim);\ntask_unlock(victim);\nstatic BLOCKING_NOTIFIER_HEAD(oom_notify_list);\nint register_oom_notifier(struct notifier_block *nb)\nreturn blocking_notifier_chain_register(&amp;oom_notify_list, nb);\nint unregister_oom_notifier(struct notifier_block *nb)\nreturn blocking_notifier_chain_unregister(&amp;oom_notify_list, nb);\nblocking_notifier_call_chain(&amp;oom_notify_list, 0, &amp;freed);\npanic(\"System is deadlocked on memory\\n\");\n* any locks held but let the oom killer triggered from the allocation context care\np = find_lock_task_mm(task);\ntask_unlock(p);\nif (mmap_read_lock_killable(mm)) {\n* Check MMF_OOM_SKIP again under mmap_read_lock protection to ensure\nmmap_read_unlock(mm);\n</code></pre> <p>In <code>oom_lock</code> mutex is used to serialize access to the OOM Killer mechanism. It also defines several locks and wait queues for OOM victims and the OOM reaper. Various locks used are</p> <ul> <li>Mutexes (oom_lock, oom_adj_mutex)</li> <li>Spinlocks (oom_reaper_lock)</li> <li>RCU locks (rcu_read_lock)</li> </ul> <p>If locks are in inconsistent order, deadlock risk exists.</p> <p>As you keep exploring the mm directory you notice a few swap related filenames. Without opening them you start thinking of the swap and a few questions come to your mind. You know that the kernel and user spaces memory are separated but what about the swap? You decide to run a quick online search to understand</p> <p>The ?\uc412ough??layout of kernel and user space memories;</p> <p>Kernel Space Memory</p> <ul> <li>Reserved for core functions of OS kernel code, memory stack, heap, and kernel level data .</li> <li>Accessible only in ring 0, privileged mode, to ensure stability.</li> </ul> <p>User Space Memory</p> <ul> <li>Used by user-level processes and applications</li> <li>Includes process data, stack, and heap.</li> <li>Runs in ring 3, unprivileged mode, that could isolate user processes from kernel.</li> </ul> <p>Whether or not kernel memory can be swapped and why;</p> <p>If kernel memory swap occurs, then OS kernel can be severely compromised in speed and stability. Kernel memory swap must be prohibited, and only user level process memory should be swapped.</p> <p>At this stage it is pretty clear that directly working in the kernel for MM is to complicated. Unfortunately with the pressure Mr. Frown puts on you, it is very hard for you to find enough time to properly investigate the benefits of MGLRU as you initially intended. Therefore you decide to keep searching online for some task that would prove that Mum Generally Loves to be Really Unfair! And again you are back with this MGLRU! Interestingly you suddenly land on this kernel documentation page. It shows how to enable and disable MGLRU from the user-space! What if you could work with MM from the user-space?</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L8/#21-looking-at-the-linux-kernel","title":"2.1 Looking at the Linux kernel","text":"<p>While searching information about MM in user-space you notice many recent research articles related to something called eBPF. As this seems to be a brand new topic this is likely a very idea to look into it: maybe being knowledgeable on it could earn you a better job without Mr. Frown! This really looks worth the effort, so you decide to read some documentation and follow a short presentation on the topic.</p> <p>eBPF (Extended Berkeley Packet Filter)</p> <p>The eBPF, (Extended Berkeley Packet Filter, guarantees secure execution of user programs at kernel level. This technology is commonly applied in to observe performance, computer security, and network status. These programs are possible to be injected inside kernel, so that all memory events inside are detected and viewed without changing source code of kernel.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L8/#22-a-page-fault-handler-using-ebpf","title":"2.2 A page-fault handler using eBPF","text":"<p>At the end of the presentation you realise that you have everything you need! The eBPF approach can work magic for you: no need to dig any further into Linux MM with long and complex code. You can simply run memory pressure tests with and without MGLRU enabled. For that you just need to monitor page-faults using an eBPF program. This sounds like a nice starting point to learn more about this intriguing technology which bridges the gap between monolithic and micro kernels, by safely ?\uc407njecting?? and ?\uc412unning??user-defined code into kernel space!</p> <p>First, install <code>bpf</code>, its trace tool, and <code>stress-ng</code>.</p> <pre><code>sudo apt-get install bpfcc-tools linux-headers-$(uname -r)\nsudo apt-get install bpftrace\nsudo apt-get install stress-ng\n</code></pre> <p>Use <code>brew</code> for macOS.</p> <pre><code>brew install bcc\nbrew install bpftrace\nbrew install stress-ng\n</code></pre> <p>Second, write down short eBPF script.</p> <pre><code>#include &lt;linux/mm_types.h&gt;\n\nint handle_page_fault(struct pt_regs *ctx, struct mm_struct *mm) {\n    bpf_trace_printk(\"Page fault in process: %d\\n\", mm-&gt;owner-&gt;pid);\n    return 0;\n}\n</code></pre> <p>Now, execution will require Kernel event eBPF attachment and Memory pressure test running.</p> <pre><code>sudo bpftrace -e 'tracepoint:exceptions:page_fault_user { printf(\"Page fault in process: %d\\n\", pid); }'\n./page_fault_loader page_fault.c\nstress-ng --vm 1 --vm-bytes 90% --timeout 60s\n</code></pre> <p>Finally, compare results.</p> <p>Sources</p> <ul> <li>eBPF Tracing: Tutorial and Examples</li> <li>stress-ng: A Tool to Load and Stress a Computer System</li> </ul>"},{"location":"ECE482FA24/ECE482LAB/ECE482L9/","title":"Lab 09","text":"<p>ECE4820 FA2024 Introduction to Operating Systems</p> <p>518370990004 Jae Heung Park</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L9/#1-project-3-presentations-part-1","title":"1 Project 3: presentations (part 1)","text":"<p>Presentation</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L9/#2-introduction","title":"2 Introduction","text":"<p>Reading</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L9/#3-a-dice-module","title":"3 A dice module","text":"<p>You remember that for what you want to implement, a character device should at least match the <code>open</code>, <code>close</code>, <code>read</code>, and <code>write</code> system calls. You will also have to decide on a major and a minor for your dice device. By definition the major must correspond to the driver associated to the device so it cannot ?\uc404reely??choose it. However, the minor is more flexible and you can pass it to the driver. You therefore decide to use it to create more than one type of dice device: each type would feature a different minor corresponding to a different type of dice. The displayed result of a roll would then depend on the minor. That being set, you now want to specify more precisely how to implement your devices, but for that you need grandpa?\uc172 help. What kind of game does he want to play? How many players there would be? Based on his answers it appears that you need to implement the following options:</p> <ul> <li>Change the number of dice by a <code>write</code> on the device;</li> <li>Display the result of a roll by a <code>read</code> on the device;</li> <li>Use the minor to specify the type of dice when creating the device;</li> <li>Depending on the type of dice display a different output;</li> <li>Use a module option to set the number of sides for a generic type of dice;</li> </ul> <p>Based on his answers you quickly get a sketch of what you will do, and show it to him to ensure you match all his expectations. You will have three main types of dice:</p> <ul> <li>(i) regular,</li> <li>(ii) backgammon, and</li> <li>(iii) generic</li> </ul> <p>featuring an arbitrary number of sides. For this latter dice the side number should be specified as a module option.</p> <pre><code>$ #regular dice\n$ echo 2 &gt; /dev/dice0\n$ cat /dev/dice0\n------- -------\n| o o | | o o |\n| o o | | o |\n| o o | | o o |\n'-----' '-----'\n</code></pre> <pre><code>$ #backgammon die\n$ echo 1 &gt; /dev/dice1\n$ cat /dev/dice1\n16\n</code></pre> <pre><code>$ #generic dice, gen_sides=20\n$ # gen_sides: module option\n$ echo 3 &gt; /dev/dice2\n$ cat /dev/dice2\n12 19 8\n</code></pre> <p>As grandpa is perfectly happy with your idea you decide to carry on with it.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L9/#4-tasks","title":"4 Tasks","text":"<p>First you want to make sure you are fully familiar with the kernel API for creating character devices. So you ask yourself the following questions.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L9/#what-needs-to-be-returned-by-read-and-write-file-operations-for-a-character-device","title":"What needs to be returned by read and write file operations for a character device?","text":"<p>Operation <code>read</code> should return the number of bytes read from device to provide data to user buffer. If no more data exist to be read, return 0, meaning EOF (End Of File). Errors should return negative value like <code>-EINVAL</code>.</p> <p>Operation <code>write</code> should return the number of bytes that are written to device. It should process user provided data and return negative value in error case. Common error is <code>-EFAULT</code>, a failure to access user memory.</p>"},{"location":"ECE482FA24/ECE482LAB/ECE482L9/#how-are-exactly-those-major-and-minor-numbers-working-you-vaguely-remember-that-you-can-display-them-using-ls-l-dev","title":"How are exactly those major and minor numbers working? You vaguely remember that you can display them using ls -l /dev.","text":"<p>Major Number identify device associated drivers. OS kernel will use these major numbers to locate appropriate driver required when device file is accessed.</p> <p>Minor Number specifically identifies particular device managed by drivers. Single driver could operate several devices and those subordinate drivers will be minor number.</p> <p>Display major numbers and minor numbers in Linux OS by following command.</p> <pre><code>ls -l /dev\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L9/#knowing-the-major-number-and-minor-numbers-of-a-device-how-to-add-a-character-device-to-dev","title":"Knowing the major number and minor numbers of a device, how to add a character device to /dev?","text":"<p>Add character device to <code>/dev</code> by using <code>mknod</code> command.</p> <pre><code>mknod /dev/&lt;device_name&gt; c &lt;major_num&gt; &lt;minor_num&gt;\nmknod /dev/dice0 c 250 0\n</code></pre>"},{"location":"ECE482FA24/ECE482LAB/ECE482L9/#where-are-the-following-terms-located-in-linux-source-code","title":"Where are the following terms located in linux source code?","text":"Term Location Description <code>module_init</code> <code>linux/init.h</code> Macro for defining the initialization function of a kernel module. <code>module_exit</code> <code>linux/init.h</code> Macro for defining the cleanup function of a kernel module. <code>printk</code> <code>linux/kernel.h</code> Used for logging kernel messages. <code>container_of</code> <code>linux/kernel.h</code> Retrieves the containing structure from a pointer to a member. <code>dev_t</code> <code>linux/types.h</code> Represents device numbers (combines major and minor numbers). <code>MAJOR</code> <code>linux/kdev_t.h</code> Extracts the major number from <code>dev_t</code>. <code>MINOR</code> <code>linux/kdev_t.h</code> Extracts the minor number from <code>dev_t</code>. <code>MKDEV</code> <code>linux/kdev_t.h</code> Combines major and minor numbers into a <code>dev_t</code>. <code>alloc_chrdev_region</code> <code>linux/fs.h</code> Allocates device numbers dynamically. <code>module_param</code> <code>linux/moduleparam.h</code> Defines module parameters. <code>cdev_init</code> <code>linux/cdev.h</code> Initializes a character device structure. <code>cdev_add</code> <code>linux/cdev.h</code> Registers a character device with the kernel. <code>cdev_del</code> <code>linux/cdev.h</code> Removes a character device from the kernel. <code>THIS_MODULE</code> <code>linux/module.h</code> Macro referring to the current kernel module."},{"location":"ECE482FA24/ECE482LAB/ECE482L9/#how-to-generate-random-numbers-when-working-inside-the-linux-kernel-you-think-that-a-while-back-you-read-something-about-getting-the-current-time","title":"How to generate random numbers when working inside the Linux kernel? You think that a while back you read something about getting the current time.","text":"<p>Linux kernel has random number generator functions in <code>linux/random.h</code> including</p> <ul> <li><code>get_random_int()</code></li> <li><code>get_random_bytes(void *buf, int nbytes)</code></li> </ul>"},{"location":"ECE482FA24/ECE482LAB/ECE482L9/#how-to-define-and-specify-module-options","title":"How to define and specify module options?","text":"<p>Linux kernel has module parameter macro <code>module_param</code> function in <code>linux/moduleparam.h</code>.</p> <pre><code>static int gen_sides = 20;\nmodule_param(gen_sides, int, 0444);\nMODULE_PARM_DESC(gen_sides, \"Total number of generic dice sides\");\n</code></pre> <p>Pass module options at load time</p> <pre><code>insmod dice.ko gen_sides=12\n</code></pre> <p>Where <code>0444</code> specify permission (Read only for all), while <code>MODULE_PARM_DESC</code> is text description</p> <p>As you can answer all those questions it feels that you are almost ready to get started, so you open your favorite tool to code and write a very basic module which on a cat simply prints ?\uc3dblmost there grandpa!??</p> <p>A few useful references:</p> <ul> <li>https://github.com/starpos/scull</li> <li>https://www.oreilly.com/library/view/linux-device-drivers/0596005903/ch03.html</li> <li>https://elixir.bootlin.com/linux/latest/source</li> </ul>"},{"location":"ECE482FA24/ECE482LAB/ECE482L9/#compile-and-test-log-in-linux","title":"Compile and test log in Linux","text":"<p>Supports three types of dice</p> <ul> <li>Regular Dice: <code>/dev/dice0</code></li> <li>Backgammon Dice: <code>/dev/dice1</code></li> <li>Generic Dice: <code>/dev/dice2</code></li> </ul> <p>Implementation</p> <ul> <li><code>write</code> to set dice number to roll.</li> <li><code>read</code> to display dice rolls.</li> </ul> <p>Set dice number to roll (<code>write</code>), <code>?</code> is number</p> <pre><code>echo &lt;number&gt; &gt; /dev/dice?\n</code></pre> <p>Read dice number to roll (<code>read</code>), <code>?</code> is number</p> <pre><code>cat /dev/dice?\n</code></pre> <p>Compile by <code>make</code> command and clean by <code>make clean</code></p> <pre><code>make\nmake clean\n</code></pre> <p>Check generated dice</p> <pre><code>ls -l /dev/dice*\n</code></pre> <p>Check file contents</p> <pre><code>sudo cat /dev/dice0\n</code></pre> <p>Returns following</p> <pre><code>1 3\n</code></pre> <p>Check logs</p> <pre><code>sudo dmseg | tail\n</code></pre> <p>Logs contents</p> <pre><code>sudo dmesg | tail\n[    7.878369] audit: type=1107 audit(1733345694.330:59): pid=819 uid=102 auid=4294967295 ses=4294967295 subj=unconfined msg='apparmor=\"DENIED\" operation=\"dbus_method_call\"  bus=\"system\" path=\"/org/freedesktop/PolicyKit1/Authority\" interface=\"org.freedesktop.PolicyKit1.Authority\" member=\"CheckAuthorization\" mask=\"send\" name=\":1.3\" pid=1598 label=\"snap.snap-store.ubuntu-software\" peer_pid=832 peer_label=\"unconfined\"\n                exe=\"/usr/bin/dbus-daemon\" sauid=102 hostname=? addr=? terminal=?'\n[    7.880613] audit: type=1107 audit(1733345694.332:60): pid=819 uid=102 auid=4294967295 ses=4294967295 subj=unconfined msg='apparmor=\"DENIED\" operation=\"dbus_method_call\"  bus=\"system\" path=\"/org/freedesktop/PolicyKit1/Authority\" interface=\"org.freedesktop.DBus.Properties\" member=\"GetAll\" mask=\"send\" name=\":1.3\" pid=1598 label=\"snap.snap-store.ubuntu-software\" peer_pid=832 peer_label=\"unconfined\"\n                exe=\"/usr/bin/dbus-daemon\" sauid=102 hostname=? addr=? terminal=?'\n[    7.880708] audit: type=1107 audit(1733345694.332:61): pid=819 uid=102 auid=4294967295 ses=4294967295 subj=unconfined msg='apparmor=\"DENIED\" operation=\"dbus_method_call\"  bus=\"system\" path=\"/org/freedesktop/PolicyKit1/Authority\" interface=\"org.freedesktop.PolicyKit1.Authority\" member=\"CheckAuthorization\" mask=\"send\" name=\":1.3\" pid=1598 label=\"snap.snap-store.ubuntu-software\" peer_pid=832 peer_label=\"unconfined\"\n                exe=\"/usr/bin/dbus-daemon\" sauid=102 hostname=? addr=? terminal=?'\n[    8.039953] audit: type=1400 audit(1733345694.491:62): apparmor=\"DENIED\" operation=\"open\" class=\"file\" profile=\"snap.snap-store.ubuntu-software\" name=\"/etc/appstream.conf\" pid=1598 comm=\"snap-store\" requested_mask=\"r\" denied_mask=\"r\" fsuid=1000 ouid=0\n[ 8096.679822] audit: type=1326 audit(1733352979.809:63): auid=1000 uid=1000 gid=1000 ses=2 subj=snap.snap-store.ubuntu-software pid=1598 comm=\"pool-org.gnome.\" exe=\"/snap/snap-store/1217/usr/bin/snap-store\" sig=0 arch=c00000b7 syscall=55 compat=0 ip=0xf8108010910c code=0x50000\n[10648.110448] dicedevice: loading out-of-tree module taints kernel.\n[10648.110513] dicedevice: module verification failed: signature and/or required key missing - tainting kernel\n</code></pre> <p>Verify device noce</p> <pre><code>ls -l /dev/dice*\n</code></pre> <p>Test reading from device</p> <pre><code>sudo cat /dev/dice0\nsudo cat /dev/dice1\nsudo cat /dev/dice2\n</code></pre> <p> This is success result image.</p>"},{"location":"ECE482FA24/ECE482P2/Design/","title":"System Design","text":"<p>Software schema overview and description </p>"},{"location":"ECE482FA24/ECE482P2/Design/#navigation","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>System Design</li> <li>Performance Improvements</li> <li>Multi-threading Challenges</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P2/Design/#system-overview","title":"System Overview","text":"<p>In our system, we employ a shared locking strategy for managing concurrent access to resources. Read locks, often implemented in shared locks, allow multiple threads to access the same resource concurrently for reading purposes. Write locks, on the other hand, do not permit concurrent access but can operate concurrently on different segments of data. Thus, as long as the operations do not modify the same segment, write locks can also effectively function as shared locks. The only one exception to this shared lock usage is during a dump operation, which requires exclusive access.</p> <p>To do a \"multi-shared-mutex\", we've developed a class called \"AdvancedLock\". This class combines two standard shared locks, allowing the efficient management of lock states during complex operations.</p> <p>An issue in multi-threading is the race condition, which arises when multiple threads attempt to modify shared data simultaneously. We address this challenge by the \"Advanced Mutex\". Thus threads either gain full required access to the resource or are put on hold, thereby preventing race conditions and ensuring data integrity and consistency.</p>"},{"location":"ECE482FA24/ECE482P2/Design/#architecture","title":"Architecture","text":"<p><code>./src</code> Contains the source code for an old version of lemnonDB. The code was recovered from crash site. As far as we know the original developer used CMake as their building system.</p> <ul> <li><code>./bin</code> Contains the lastest binary that survived the crash.</li> <li><code>./db</code> Contains sample database files.</li> <li><code>./sample</code> Sample inputs and outputs</li> <li><code>./build</code>: Build LemonDB by compile and run code inside folder  </li> <li><code>./src/query</code>: Query-related logic </li> <li><code>./src/query/execute</code>: Execution layer, managing threading and parallelism.</li> <li><code>./src/query/management</code>: Queries for managing the system state (e.g., table operations).</li> <li><code>./src/utils</code>: Utility functions and error handling.</li> </ul>"},{"location":"ECE482FA24/ECE482P2/Design/#main-components","title":"Main Components","text":""},{"location":"ECE482FA24/ECE482P2/Design/#parse-query","title":"Parse Query","text":"<p>Purpose: Parse the user input, validate syntax, and create query objects. </p> <ol> <li>Tokenize input.</li> <li>Validate syntax.</li> <li>Use QueryBuilder chain to create and return a query object</li> </ol> <pre><code>Function ParseQuery(input)\n    If no QueryBuilder exists:\n        Throw Error\n    Tokenize input\n    If tokens are empty:\n        Throw Error\n    Clear QueryBuilder state\n    Return QueryBuilder.extractQuery(tokens)\n</code></pre>"},{"location":"ECE482FA24/ECE482P2/Design/#execute-query","title":"Execute Query","text":"<ul> <li>Lock necessary resources.</li> <li>Execute query based on its type:</li> <li>Read-only: Process safely in parallel.</li> <li>Write-only: Process with required locks.</li> <li>Unlock resources and return results. </li> </ul> <pre><code>Function ExecuteQuery(queryObject)\n    Lock resources\n    If query is read-only:\n        Do read operation\n    Else if query is write-only:\n        Do write operation\n    Unlock resources\n    Return results\n</code></pre>"},{"location":"ECE482FA24/ECE482P2/Design/#thread-life-cycle","title":"Thread Life Cycle","text":"<ol> <li>Task assignment.</li> <li>Thread execution.</li> <li>Thread termination or reuse.</li> </ol> <pre><code>Function ThreadLifeCycle()\n    While thread is active:\n        Wait for task\n        Execute task\n        Mark thread as available\n</code></pre>"},{"location":"ECE482FA24/ECE482P2/Design/#data-flow","title":"Data Flow","text":"<ol> <li>Parse SQL Queries. </li> <li>Assign Unique IDs.</li> <li>Distribute Queries to Threads.</li> </ol> <pre><code>Function DataFlow()\n    Parse queries\n    Assign unique IDs\n    Distribute to threads\n    Collect and return results\n</code></pre> <p>Tree Structure for system </p> <pre><code>.\n?\uc48b??\u0080 CHANGELOG.md\n?\uc48b??\u0080 Develop.md\n?\uc48b??\u0080 INSTALL.md\n?\uc48b??\u0080 README.md\n?\uc48b??\u0080 build\n??  ?\uc48b??\u0080 CMakeCache.txt\n??  ?\uc48b??\u0080 CMakeFiles\n??  ??  ?\uc48b??\u0080 3.30.5\n??  ??  ??  ?\uc48b??\u0080 CMakeCCompiler.cmake\n??  ??  ??  ?\uc48b??\u0080 CMakeCXXCompiler.cmake\n??  ??  ??  ?\uc48b??\u0080 CMakeDetermineCompilerABI_C.bin\n??  ??  ??  ?\uc48b??\u0080 CMakeDetermineCompilerABI_CXX.bin\n??  ??  ??  ?\uc48b??\u0080 CMakeSystem.cmake\n??  ??  ??  ?\uc48b??\u0080 CompilerIdC\n??  ??  ??  ??  ?\uc48b??\u0080 CMakeCCompilerId.c\n??  ??  ??  ??  ?\uc48b??\u0080 a.out\n??  ??  ??  ??  ?\ubdb4??\u0080 tmp\n??  ??  ??  ?\ubdb4??\u0080 CompilerIdCXX\n??  ??  ??      ?\uc48b??\u0080 CMakeCXXCompilerId.cpp\n??  ??  ??      ?\uc48b??\u0080 a.out\n??  ??  ??      ?\ubdb4??\u0080 tmp\n??  ??  ?\uc48b??\u0080 CMakeConfigureLog.yaml\n??  ??  ?\uc48b??\u0080 CMakeDirectoryInformation.cmake\n??  ??  ?\uc48b??\u0080 Makefile.cmake\n??  ??  ?\uc48b??\u0080 Makefile2\n??  ??  ?\uc48b??\u0080 TargetDirectories.txt\n??  ??  ?\uc48b??\u0080 cmake.check_cache\n??  ??  ?\uc48b??\u0080 lemondb.dir\n??  ??  ??  ?\uc48b??\u0080 DependInfo.cmake\n??  ??  ??  ?\uc48b??\u0080 build.make\n??  ??  ??  ?\uc48b??\u0080 cmake_clean.cmake\n??  ??  ??  ?\uc48b??\u0080 compiler_depend.internal\n??  ??  ??  ?\uc48b??\u0080 compiler_depend.make\n??  ??  ??  ?\uc48b??\u0080 compiler_depend.ts\n??  ??  ??  ?\uc48b??\u0080 db\n??  ??  ??  ??  ?\uc48b??\u0080 Database.cpp.o\n??  ??  ??  ??  ?\uc48b??\u0080 Database.cpp.o.d\n??  ??  ??  ??  ?\uc48b??\u0080 Table.cpp.o\n??  ??  ??  ??  ?\ubdb4??\u0080 Table.cpp.o.d\n??  ??  ??  ?\uc48b??\u0080 depend.make\n??  ??  ??  ?\uc48b??\u0080 flags.make\n??  ??  ??  ?\uc48b??\u0080 link.txt\n??  ??  ??  ?\uc48b??\u0080 main.cpp.o\n??  ??  ??  ?\uc48b??\u0080 main.cpp.o.d\n??  ??  ??  ?\uc48b??\u0080 progress.make\n??  ??  ??  ?\ubdb4??\u0080 query\n??  ??  ??      ?\uc48b??\u0080 Query.cpp.o\n??  ??  ??      ?\uc48b??\u0080 Query.cpp.o.d\n??  ??  ??      ?\uc48b??\u0080 QueryBuilders.cpp.o\n??  ??  ??      ?\uc48b??\u0080 QueryBuilders.cpp.o.d\n??  ??  ??      ?\uc48b??\u0080 QueryParser.cpp.o\n??  ??  ??      ?\uc48b??\u0080 QueryParser.cpp.o.d\n??  ??  ??      ?\uc48b??\u0080 QueryResult.cpp.o\n??  ??  ??      ?\uc48b??\u0080 QueryResult.cpp.o.d\n??  ??  ??      ?\uc48b??\u0080 data\n??  ??  ??      ??  ?\uc48b??\u0080 AddQuery.cpp.o\n??  ??  ??      ??  ?\uc48b??\u0080 AddQuery.cpp.o.d\n??  ??  ??      ??  ?\uc48b??\u0080 CountQuery.cpp.o\n??  ??  ??      ??  ?\uc48b??\u0080 CountQuery.cpp.o.d\n??  ??  ??      ??  ?\uc48b??\u0080 DeleteQuery.cpp.o\n??  ??  ??      ??  ?\uc48b??\u0080 DeleteQuery.cpp.o.d\n??  ??  ??      ??  ?\uc48b??\u0080 DuplicateQuery.cpp.o\n??  ??  ??      ??  ?\uc48b??\u0080 DuplicateQuery.cpp.o.d\n??  ??  ??      ??  ?\uc48b??\u0080 InsertQuery.cpp.o\n??  ??  ??      ??  ?\uc48b??\u0080 InsertQuery.cpp.o.d\n??  ??  ??      ??  ?\uc48b??\u0080 MaxQuery.cpp.o\n??  ??  ??      ??  ?\uc48b??\u0080 MaxQuery.cpp.o.d\n??  ??  ??      ??  ?\uc48b??\u0080 MinQuery.cpp.o\n??  ??  ??      ??  ?\uc48b??\u0080 MinQuery.cpp.o.d\n??  ??  ??      ??  ?\uc48b??\u0080 SelectQuery.cpp.o\n??  ??  ??      ??  ?\uc48b??\u0080 SelectQuery.cpp.o.d\n??  ??  ??      ??  ?\uc48b??\u0080 SubQuery.cpp.o\n??  ??  ??      ??  ?\uc48b??\u0080 SubQuery.cpp.o.d\n??  ??  ??      ??  ?\uc48b??\u0080 SumQuery.cpp.o\n??  ??  ??      ??  ?\uc48b??\u0080 SumQuery.cpp.o.d\n??  ??  ??      ??  ?\uc48b??\u0080 SwapQuery.cpp.o\n??  ??  ??      ??  ?\uc48b??\u0080 SwapQuery.cpp.o.d\n??  ??  ??      ??  ?\uc48b??\u0080 UpdateQuery.cpp.o\n??  ??  ??      ??  ?\ubdb4??\u0080 UpdateQuery.cpp.o.d\n??  ??  ??      ?\uc48b??\u0080 execute\n??  ??  ??      ??  ?\uc48b??\u0080 QueryExecuter.cpp.o\n??  ??  ??      ??  ?\uc48b??\u0080 QueryExecuter.cpp.o.d\n??  ??  ??      ??  ?\uc48b??\u0080 QueryExecuterHelper.cpp.o\n??  ??  ??      ??  ?\uc48b??\u0080 QueryExecuterHelper.cpp.o.d\n??  ??  ??      ??  ?\uc48b??\u0080 QueryThreadPool.cpp.o\n??  ??  ??      ??  ?\ubdb4??\u0080 QueryThreadPool.cpp.o.d\n??  ??  ??      ?\ubdb4??\u0080 management\n??  ??  ??          ?\uc48b??\u0080 CopyTableQuery.cpp.o\n??  ??  ??          ?\uc48b??\u0080 CopyTableQuery.cpp.o.d\n??  ??  ??          ?\uc48b??\u0080 DropTableQuery.cpp.o\n??  ??  ??          ?\uc48b??\u0080 DropTableQuery.cpp.o.d\n??  ??  ??          ?\uc48b??\u0080 DumpTableQuery.cpp.o\n??  ??  ??          ?\uc48b??\u0080 DumpTableQuery.cpp.o.d\n??  ??  ??          ?\uc48b??\u0080 ListTableQuery.cpp.o\n??  ??  ??          ?\uc48b??\u0080 ListTableQuery.cpp.o.d\n??  ??  ??          ?\uc48b??\u0080 LoadTableQuery.cpp.o\n??  ??  ??          ?\uc48b??\u0080 LoadTableQuery.cpp.o.d\n??  ??  ??          ?\uc48b??\u0080 PrintTableQuery.cpp.o\n??  ??  ??          ?\uc48b??\u0080 PrintTableQuery.cpp.o.d\n??  ??  ??          ?\uc48b??\u0080 QuitQuery.cpp.o\n??  ??  ??          ?\uc48b??\u0080 QuitQuery.cpp.o.d\n??  ??  ??          ?\uc48b??\u0080 TruncateTableQuery.cpp.o\n??  ??  ??          ?\ubdb4??\u0080 TruncateTableQuery.cpp.o.d\n??  ??  ?\uc48b??\u0080 pkgRedirects\n??  ??  ?\ubdb4??\u0080 progress.marks\n??  ?\uc48b??\u0080 Makefile\n??  ?\uc48b??\u0080 cmake_install.cmake\n??  ?\uc48b??\u0080 lemondb\n??  ?\uc48b??\u0080 sample\n??  ??  ?\uc48b??\u0080 ...\n??  ??  ?\ubdb4??\u0080 test.query\n??  ?\uc48b??\u0080 sample_stdout\n??  ??  ?\uc48b??\u0080 ...\n??  ??  ?\ubdb4??\u0080 test.out\n??  ?\ubdb4??\u0080 stdout\n??      ?\ubdb4??\u0080 test.out\n?\uc48b??\u0080 db\n??  ?\uc48b??\u0080 fTable0.tbl\n??  ?\uc48b??\u0080 ... \n??  ?\uc48b??\u0080 mTable49.tbl\n??  ?\uc48b??\u0080 t1.tbl\n??  ?\uc48b??\u0080 t2.tbl\n??  ?\ubdb4??\u0080 tlarge.tbl\n?\uc48b??\u0080 src\n??  ?\uc48b??\u0080 CMakeLists.txt\n??  ?\uc48b??\u0080 db\n??  ??  ?\uc48b??\u0080 AdvancedLock.h\n??  ??  ?\uc48b??\u0080 Database.cpp\n??  ??  ?\uc48b??\u0080 Database.h\n??  ??  ?\uc48b??\u0080 Table.cpp\n??  ??  ?\ubdb4??\u0080 Table.h\n??  ?\uc48b??\u0080 main.cpp\n??  ?\uc48b??\u0080 query\n??  ??  ?\uc48b??\u0080 Query.cpp\n??  ??  ?\uc48b??\u0080 Query.h\n??  ??  ?\uc48b??\u0080 QueryBuilders.cpp\n??  ??  ?\uc48b??\u0080 QueryBuilders.h\n??  ??  ?\uc48b??\u0080 QueryParser.cpp\n??  ??  ?\uc48b??\u0080 QueryParser.h\n??  ??  ?\uc48b??\u0080 QueryResult.cpp\n??  ??  ?\uc48b??\u0080 QueryResult.h\n??  ??  ?\uc48b??\u0080 data\n??  ??  ??  ?\uc48b??\u0080 AddQuery.cpp\n??  ??  ??  ?\uc48b??\u0080 AddQuery.h\n??  ??  ??  ?\uc48b??\u0080 CountQuery.cpp\n??  ??  ??  ?\uc48b??\u0080 CountQuery.h\n??  ??  ??  ?\uc48b??\u0080 DeleteQuery.cpp\n??  ??  ??  ?\uc48b??\u0080 DeleteQuery.h\n??  ??  ??  ?\uc48b??\u0080 DuplicateQuery.cpp\n??  ??  ??  ?\uc48b??\u0080 DuplicateQuery.h\n??  ??  ??  ?\uc48b??\u0080 InsertQuery.cpp\n??  ??  ??  ?\uc48b??\u0080 InsertQuery.h\n??  ??  ??  ?\uc48b??\u0080 MaxQuery.cpp\n??  ??  ??  ?\uc48b??\u0080 MaxQuery.h\n??  ??  ??  ?\uc48b??\u0080 MinQuery.cpp\n??  ??  ??  ?\uc48b??\u0080 MinQuery.h\n??  ??  ??  ?\uc48b??\u0080 SelectQuery.cpp\n??  ??  ??  ?\uc48b??\u0080 SelectQuery.h\n??  ??  ??  ?\uc48b??\u0080 SubQuery.cpp\n??  ??  ??  ?\uc48b??\u0080 SubQuery.h\n??  ??  ??  ?\uc48b??\u0080 SumQuery.cpp\n??  ??  ??  ?\uc48b??\u0080 SumQuery.h\n??  ??  ??  ?\uc48b??\u0080 SwapQuery.cpp\n??  ??  ??  ?\uc48b??\u0080 SwapQuery.h\n??  ??  ??  ?\uc48b??\u0080 UpdateQuery.cpp\n??  ??  ??  ?\ubdb4??\u0080 UpdateQuery.h\n??  ??  ?\uc48b??\u0080 execute\n??  ??  ??  ?\uc48b??\u0080 QueryExecuter.cpp\n??  ??  ??  ?\uc48b??\u0080 QueryExecuter.h\n??  ??  ??  ?\uc48b??\u0080 QueryExecuterHelper.cpp\n??  ??  ??  ?\uc48b??\u0080 QueryExecuterHelper.h\n??  ??  ??  ?\uc48b??\u0080 QueryThreadPool.cpp\n??  ??  ??  ?\ubdb4??\u0080 QueryThreadPool.h\n??  ??  ?\ubdb4??\u0080 management\n??  ??      ?\uc48b??\u0080 CopyTableQuery.cpp\n??  ??      ?\uc48b??\u0080 CopyTableQuery.h\n??  ??      ?\uc48b??\u0080 DropTableQuery.cpp\n??  ??      ?\uc48b??\u0080 DropTableQuery.h\n??  ??      ?\uc48b??\u0080 DumpTableQuery.cpp\n??  ??      ?\uc48b??\u0080 DumpTableQuery.h\n??  ??      ?\uc48b??\u0080 ListTableQuery.cpp\n??  ??      ?\uc48b??\u0080 ListTableQuery.h\n??  ??      ?\uc48b??\u0080 LoadTableQuery.cpp\n??  ??      ?\uc48b??\u0080 LoadTableQuery.h\n??  ??      ?\uc48b??\u0080 PrintTableQuery.cpp\n??  ??      ?\uc48b??\u0080 PrintTableQuery.h\n??  ??      ?\uc48b??\u0080 QuitQuery.cpp\n??  ??      ?\uc48b??\u0080 QuitQuery.h\n??  ??      ?\uc48b??\u0080 TruncateTableQuery.cpp\n??  ??      ?\ubdb4??\u0080 TruncateTableQuery.h\n??  ?\ubdb4??\u0080 utils\n??      ?\uc48b??\u0080 formatter.h\n??      ?\ubdb4??\u0080 uexception.h\n?\ubdb4??\u0080 test\n    ?\uc48b??\u0080 run.sh\n    ?\uc48b??\u0080 run_wr.sh\n    ?\uc48b??\u0080 testAdd.query\n    ?\uc48b??\u0080 testMax.query\n    ?\uc48b??\u0080 testMin.query\n    ?\uc48b??\u0080 testSum.query\n    ?\ubdb4??\u0080 testSwap.query\n</code></pre>"},{"location":"ECE482FA24/ECE482P2/Design/#navigation_1","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>System Design</li> <li>Performance Improvements</li> <li>Multi-threading Challenges</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P2/DeveloperGuide/","title":"Developer Setup","text":"<p>Full setup and test guide from beginning to end </p>"},{"location":"ECE482FA24/ECE482P2/DeveloperGuide/#navigation","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>System Design</li> <li>Performance Improvements</li> <li>Multi-threading Challenges</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P2/DeveloperGuide/#prerequisites","title":"Prerequisites","text":"<ol> <li>C++ compiler: Clang &gt;= 6.0</li> <li>CMake &gt;= 2.7</li> </ol>"},{"location":"ECE482FA24/ECE482P2/DeveloperGuide/#download-program-files","title":"Download Program Files","text":"<p>First, clone the git repository or download the file.</p> <pre><code>git clone ssh://git@focs.ji.sjtu.edu.cn:2222/ece482-24fa/p2team-02.git \ncd p2team-02 \n</code></pre> <p>Download required files and locate them from SJTU school server. </p> <p>Required files are <code>db</code>, <code>sample</code>, <code>sample_stdout</code>. </p> <p>Value <code>ID</code> is student ID like 512212345678. </p> <pre><code>scp -r ID@111.186.59.59:/opt/lemondb/db ./ \nscp -r ID@111.186.59.59:/opt/lemondb/sample ./\nscp -r ID@111.186.59.59:/opt/lemondb/sample_stdout ./\n</code></pre> <p>After download, move downloaded folder files into corresponding locations inside project </p> <pre><code>cp -r ~/Downloads/db ~/path/to/p2team-02 \ncp -r ~/Downloads/sample ~/path/to/p2team-02/build\ncp -r ~/Downloads/sample_stdout ~/path/to/p2team-02/build \ncp -r ~/Downloads/stdout ~/path/to/p2team-02/build \n</code></pre>"},{"location":"ECE482FA24/ECE482P2/DeveloperGuide/#compile","title":"Compile","text":"<p>For the first compile, make directory <code>build</code>. Compile and run code at the <code>build</code> folder. </p> <pre><code>mkdir build &amp;&amp; cd build\ncmake -DCMAKE_C_COMPILER=/usr/bin/clang -DCMAKE_CXX_COMPILER=/usr/bin/clang++ -DCMAKE_BUILD_TYPE=Release ../src\ncmake --build . -- -j8\ncd ..\n</code></pre> <p>If compile success, you will have a lemondb binary file at <code>./build/lemondb</code>. </p> <p>Note: You can use <code>CMAKE_BUILD_TYPE</code> to switch between debug and release.</p> <p>Recompile inside <code>build</code> folder. </p> <pre><code>cmake -DCMAKE_C_COMPILER=/usr/bin/clang -DCMAKE_CXX_COMPILER=/usr/bin/clang++ -DCMAKE_BUILD_TYPE=Release ../src\ncmake --build . -- -j8\n</code></pre>"},{"location":"ECE482FA24/ECE482P2/DeveloperGuide/#test-by-running-code-measuring-input-and-output-locally","title":"Test by running code, measuring input and output locally","text":"<pre><code>cd build\nmkdir stdout  \ntime ./lemondb --listen ./sample/test.query &gt; stdout/test.out\n</code></pre>"},{"location":"ECE482FA24/ECE482P2/DeveloperGuide/#segmentation-error-debugging-test","title":"Segmentation Error Debugging Test","text":"<pre><code>cd ./build \nlldb ./lemondb\nrun --listen ./sample/test.query\nbt\n</code></pre>"},{"location":"ECE482FA24/ECE482P2/DeveloperGuide/#difference-check","title":"Difference Check","text":"<pre><code>diff -n ./sample_stdout/test.out ./stdout/test.out\n</code></pre> <p>This terminal command will show difference between standard output and test output </p>"},{"location":"ECE482FA24/ECE482P2/DeveloperGuide/#navigation_1","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>System Design</li> <li>Performance Improvements</li> <li>Multi-threading Challenges</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P2/Home/","title":"Project 2 LemonDB Multi Threading Database","text":"<p>2024FA ECE4820 Introduction to Operating Systems</p>"},{"location":"ECE482FA24/ECE482P2/Home/#navigation","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>System Design</li> <li>Performance Improvements</li> <li>Multi-threading Challenges</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P2/Home/#overview","title":"Overview","text":"<p>LemonDB is a multi-threaded database system project. It assigns each processes queries in parallel for faster execution.</p> <p>Project 2, named as LemonDB in this fictional home-brewed project of Lemonion.inc, is a team based assignment to program database from source code of previous system. Based on the concepts taught in the class, our team programmed the most efficient and optimized version of multi-threading database by considering parallel multi threading. By the time project is completed, the new implementation will be able to handle parallel query execution by concurrency, allowing heavy workload of multiple query execution in short period of time by optimized scheduling.</p> <p>Also, during the software development, team members will try to follow the principles for the agile development, clean documentation for better maintainability in the future, and software testing and benchmarking compared to the original system. Tasks will be divided and distributed as evenly as possible, but more competent member will contribute more to the project.</p>"},{"location":"ECE482FA24/ECE482P2/Home/#team-members-roles-and-contributions","title":"Team Members, Roles and contributions","text":"<p>Jae Heung Park</p> <ul> <li>Implementation of <code>MAX</code> <code>MIN</code> <code>SWAP</code> functions in single thread.</li> <li>Implementation of read  only <code>MAX</code> <code>MIN</code> <code>SUM</code> <code>SELECT</code> <code>COUNT</code> queries in multi thread.</li> <li>Documentation of <code>README</code> file and Wiki for project release.</li> <li>Compiling and debugging codes to run test cases in local environment.</li> <li>Detecting segmentation error and finding problematic queries.</li> <li>Discovering no implementation of <code>COPYTABLE</code> <code>TRUNCATE</code> and fix those.</li> <li>Supportive contribution to the project with effort</li> </ul> <p>He Wentao</p> <ul> <li>Project basic setup from given source code and functions.</li> <li>Compiling and debugging codes to run test cases in local environment.</li> <li>Code testing from server to check optimization and performance.</li> <li>Single thread functions implementation <code>ADD</code> <code>SUB</code> <code>COUNT</code> <code>DELETE</code></li> <li>Algorithm design implementation for multi threading</li> <li>Changing entire query functions to apply optimization algorithm</li> <li>Implementation of write queries in multi thread.</li> <li>High contribution to the project with great skills and effort</li> </ul> <p>Wang Rui</p> <ul> <li>Project template update, comment, and developer guide documentation</li> <li>Single thread functions implementation <code>SUM</code> <code>DELETE</code> <code>DUPLICATE</code></li> <li>Implementation of read  only <code>MAX</code> <code>MIN</code> <code>SUM</code> <code>SELECT</code> <code>COUNT</code> queries in multi thread.</li> <li>Algorithm design research and implementation for multi threading</li> <li>Implementation of write queries in multi thread.</li> <li>Compiling and debugging codes to run test cases in local environment.</li> <li>High contribution to the project with great skills and effort</li> </ul>"},{"location":"ECE482FA24/ECE482P2/Home/#navigation_1","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>System Design</li> <li>Performance Improvements</li> <li>Multi-threading Challenges</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P2/MultiThreading/","title":"Multi-threading Challenges","text":"<p>Support concurrent query execution using multi-threading.  </p>"},{"location":"ECE482FA24/ECE482P2/MultiThreading/#navigation","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>System Design</li> <li>Performance Improvements</li> <li>Multi-threading Challenges</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P2/MultiThreading/#features","title":"Features","text":""},{"location":"ECE482FA24/ECE482P2/MultiThreading/#1-multi-threaded-execution","title":"1. Multi-Threaded Execution:","text":"<ul> <li>Parallel execution of queries using a thread pool.</li> <li>Thread-safe resource management with fine-grained locks.</li> </ul>"},{"location":"ECE482FA24/ECE482P2/MultiThreading/#2-query-types","title":"2. Query Types:","text":"<ul> <li>Read-Only: SELECT, COUNT, MAX, MIN, SUM</li> <li>Write-Only: INSERT, DELETE, UPDATE, LOAD, COPY_TABLE</li> </ul>"},{"location":"ECE482FA24/ECE482P2/MultiThreading/#3-concurrency-control","title":"3. Concurrency Control:","text":"<ul> <li>Shared locks for read operations.</li> <li>Exclusive locks for write operations.</li> <li>Deadlock prevention through ordered locking.</li> </ul>"},{"location":"ECE482FA24/ECE482P2/MultiThreading/#challenges","title":"Challenges","text":""},{"location":"ECE482FA24/ECE482P2/MultiThreading/#deadlocks","title":"Deadlocks","text":"<ul> <li>Issue: Circular dependencies between locks might trigger threads to wait indefinitely  </li> <li>Solution: Break \"hold and wait\" by retrying when locks cannot be acquired </li> </ul>"},{"location":"ECE482FA24/ECE482P2/MultiThreading/#race-conditions","title":"Race Conditions","text":"<ul> <li>Issue: Concurrent access to shared resources causes inconsistent states </li> <li>Used atomic operations and counters </li> <li>Enforce ordered locking to prevent cyclic dependencies</li> </ul>"},{"location":"ECE482FA24/ECE482P2/MultiThreading/#thread-safety","title":"Thread Safety","text":"<ul> <li>Use <code>std::mutex</code> for exclusive locks </li> <li>Use <code>std::shared_mutex</code> for shared locks.</li> <li>Use <code>std::condition_variable</code> for coordinate threads.</li> </ul>"},{"location":"ECE482FA24/ECE482P2/MultiThreading/#original-approach-locking-each-function","title":"Original Approach: Locking Each Function","text":"<p>During the first 2 weeks, our approach for multi threading system lock was individual lock. Each query-related function (e.g., <code>SELECT</code>, <code>SWAP</code>, <code>MAX</code>) had its own lock  to protect the critical sections within that function. Locking within a function was the easiest method to implement.  Also, as each function handled its own locking,  detailed control over resource protection was possible. It also allowed minimal interference between unrelated operations. </p> <p>However, this method was not good approach to handle speed optimization.  There were large number of independent locks, making the system harder to manage and debug.  Moreover, higher risk of deadlocks when functions accessed shared resources followed.  Since original design's goal was simplicity and isolation, so that no function could accidentally handle shared resources without proper protection.  Thus, the operation speed was unacceptable, and new design was required. </p>"},{"location":"ECE482FA24/ECE482P2/MultiThreading/#current-approach-locks-per-table","title":"Current Approach: Locks Per Table","text":"<p>In the current design, locks are applied per table instead of per function.  Based on the query type: Each table has a shared or exclusive lock. </p> <ul> <li>Shared Locks (<code>std::shared_mutex</code>) allow multiple threads to perform read operations concurrently.</li> <li>Exclusive Locks  (<code>std::mutex</code>) block all other operations while a write operation is executed.</li> </ul> <p>Compared to the original design without enough consideration, table lock has several advantages. </p> <ul> <li>Read queries (<code>SELECT</code>, <code>COUNT</code>, etc.) can proceed in parallel without blocking each other.</li> <li>Write queries (<code>INSERT</code>, <code>DELETE</code>, etc.) need exclusive locks, ensuring data consistency.</li> <li>Ordered lock ensures threads lock in same order, preventing circular dependencies, meaning deadlock.</li> <li>Locks are managed at the table level rather than function level, reducing total lock/unlock operations. </li> <li>Allows unrelated queries on different tables to proceed simultaneously. </li> </ul>"},{"location":"ECE482FA24/ECE482P2/MultiThreading/#comparison-between-two-methods","title":"Comparison between two methods","text":"Metric Lock Per Function Per-Table Lock Concurrency Low (locks on functions block threads) High (multiple threads can read concurrently) Deadlock Risk High (independent locks cause cyclic dependencies) Low (ordered locking and fewer locks) Overhead High (many lock/unlock calls) Lower (fewer, coarser locks) Scalability Poor (limited by function locks) Better (independent locks per table) Complexity Simple (isolated locking) Moderate (lock coordination required) <p>It was able to accomplish following by implementation of lock per table </p> <ul> <li>Resource Optimization: Concurrent read queries on the same table</li> <li>Higher Throughput: Write queries block only specific table in work, avoid bottlenecks</li> <li>Reduced Lock Contention: Per-table locks is reduced compared to per-function locks </li> <li>Simplified Debugging: Lock-per-table approach centralizes lock to table-specific resources</li> <li>Future Scalability: Supports scaling to larger systems with more tables and threads</li> </ul>"},{"location":"ECE482FA24/ECE482P2/MultiThreading/#navigation_1","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>System Design</li> <li>Performance Improvements</li> <li>Multi-threading Challenges</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P2/Performance/","title":"Performance Improvements","text":"<p>This section documents the performance improvements of our LemonDB systems in school server. </p>"},{"location":"ECE482FA24/ECE482P2/Performance/#navigation","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>System Design</li> <li>Performance Improvements</li> <li>Multi-threading Challenges</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P2/Performance/#performance-analysis-overview","title":"Performance Analysis Overview","text":"<p>How multi-threading, query optimization, and efficient resource allocation improved overall system throughput and responsiveness will be recorded.</p> <p>Key observations from the timing log: - Baseline Performance: The original system's performance metrics were extracted to serve as a benchmark. - Improved Metrics:     - Execution times have been significantly reduced across all query types.     - Parallel query handling demonstrates efficient core utilization with minimal overhead.     - The system scales effectively with the number of cores, as verified on the 64-core test server.</p>"},{"location":"ECE482FA24/ECE482P2/Performance/#log-insights","title":"Log Insights","text":""},{"location":"ECE482FA24/ECE482P2/Performance/#timing-highlights","title":"Timing Highlights","text":"<p>Below are the key timing statistics derived from the log:</p> Query Type sample lemondb Time (ms) our lemondb Time (ms) Improvement (%) many_insert_delete 18021 5446.0 230.9 many_read 18899 5386 250.1 few_insert_delete 15708 5538 183.6 few_read 23977 7145 235.6 single_insert_delete 29316 23434 25.1 single_read 38493 28934 33.0"},{"location":"ECE482FA24/ECE482P2/Performance/#optimization-techniques","title":"Optimization Techniques","text":"<ol> <li>Multi-threading:<ul> <li>Implemented parallel query execution.</li> <li>Dynamically allocated threads using the <code>--threads</code> argument.</li> </ul> </li> <li>Resource Management:<ul> <li>Improved memory allocation and reallocation strategies.</li> <li>Minimized contention and avoided deadlocks.</li> </ul> </li> <li>Query Parsing Enhancements:<ul> <li>Optimized ID assignment for continuous integer sequences.</li> </ul> </li> <li>Core Utilization:<ul> <li>Auto-detection of available cores for <code>--threads=0</code>.</li> </ul> </li> </ol>"},{"location":"ECE482FA24/ECE482P2/Performance/#next-steps","title":"Next Steps","text":"<ul> <li>Continue profiling to identify edge cases that may impact performance.</li> <li>Explore advanced optimizations (e.g., thread pooling, asynchronous I/O).</li> <li>Document any additional improvements in subsequent updates.</li> </ul>"},{"location":"ECE482FA24/ECE482P2/Performance/#navigation_1","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>System Design</li> <li>Performance Improvements</li> <li>Multi-threading Challenges</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P2/RoadMap/","title":"Road Map","text":"<p>From beginning to end of the project, timeline and log </p>"},{"location":"ECE482FA24/ECE482P2/RoadMap/#navigation","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>System Design</li> <li>Performance Improvements</li> <li>Multi-threading Challenges</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P2/RoadMap/#milestone-1-single-threaded-version-of-the-database-program","title":"Milestone 1 : Single threaded version of the database program","text":"<p>Input from the standard input, all required instructions working;</p> <p>Single Query  Read Functions Checklist</p> <ul> <li>[x] <code>SELECT</code> Select and display records from a table based on conditions</li> <li>[x] <code>SUM</code> Aggregate the sum of fields in records</li> <li>[x] <code>COUNT</code> Count the number of records based on conditions</li> <li>[x] <code>MIN</code> Find the minimum values in specified fields based on conditions</li> <li>[x] <code>MAX</code> Find the maximum values in specified fields based on conditions</li> <li>[x] <code>QUIT</code> Exit the database program</li> </ul> <p>Single Query Write Functions Checklist</p> <ul> <li>[x] <code>ADD</code> Add specified fields and store the result in a destination field</li> <li>[x] <code>SUB</code> Subtract fields and store the result in a destination field</li> <li>[x] <code>DUMP</code> Dump an existing table to a file</li> <li>[x] <code>DROP</code> Delete an existing table to nothing</li> <li>[x] <code>DELETE</code> Delete records from a table based on conditions</li> <li>[x] <code>INSERT</code> Insert a new record into a table</li> <li>[x] <code>UPDATE</code> Update records in a table based on conditions</li> <li>[x] <code>SWAP</code> Swap values between fields based on conditions</li> <li>[x] <code>DUPLICATE</code> Duplicate records based on conditions</li> <li>[x] <code>LOAD</code> Load a new table from a file</li> <li>[ ] <code>COPYTABLE</code> Copy a table to create new table with same contents and different name</li> <li>[ ] <code>TRUNCATE</code> Clear all data from a table</li> </ul> <p>Accidentally, <code>COPYTABLE</code> and <code>TRUNCATE</code> were not implemented in beginning, so these two functions are discovered and implemented during milestone 2 testing. During testing, there were some segmentation error issues required for debugging.</p>"},{"location":"ECE482FA24/ECE482P2/RoadMap/#milestone-2-multi-threaded-version-of-the-database-program","title":"Milestone 2 : Multi-threaded version of the database program,","text":"<p>Input from the standard input, three-quarter of the instructions implemented;</p> <p>For the following, efficient algorithm design for handling multiple parallel query execution was key concept. There was need to decide Data structure (Bitmap, Balanced Tree, Hash Table, etc...)</p> <p>1. Multi-Threading Implementation: - [x] Introduced C++ threading libraries including <code>&lt;thread&gt;</code>, <code>&lt;mutex&gt;</code>, <code>&lt;condition_variable&gt;</code>. - [x] Ensured thread synchronization using mutexes and condition variables. - [x] Implemented a basic thread pool to manage query execution.</p> <p>2. Optimization of Read-Only Queries: - [x] Ensured thread-safe execution for queries like <code>SELECT</code>, <code>SUM</code>, <code>COUNT</code>, <code>MIN</code>, <code>MAX</code>. - [x] Benchmarked performance improvements over the single-threaded implementation.</p> <p>3. Partial Write Functionality: - [x] Implemented three-quarters of write-based instructions including <code>INSERT</code>, <code>DELETE</code>, and <code>UPDATE</code>. - [x] Implemented missing functions <code>COPYTABLE</code> and <code>TRUNCATE</code></p> <p>4. Testing and Debugging: - [x] Conducted multi threaded stress tests to identify race conditions and deadlocks. - [x] Debugged segmentation fault issues encountered during concurrent execution.</p>"},{"location":"ECE482FA24/ECE482P2/RoadMap/#milestone-3-final-submission-fully-working-database-program","title":"Milestone 3 : Final submission, fully working database program","text":"<p>Supporting multi-threading, all required instruction, and command line arguments;</p> <p>1. Finalize Write-Only Queries: - [x] Completed implementation of all write-based queries, including <code>ADD</code>, <code>SUB</code>, <code>DUPLICATE</code>, and <code>SWAP</code>.</p> <p>2. Add Command-Line Arguments: - [x] Implemented <code>--threads=&lt;int&gt;</code>: Allows users to specify the number of threads or auto-detect available CPU cores when set to 0. - [x] Implemented <code>--listen &lt;filename&gt;</code>: Enables file-based query input.</p> <p>3. Performance Optimization: - [x] Profiled the system for bottlenecks and improved thread scheduling. - [x] Conducted final performance benchmarks to ensure superior efficiency compared to the single-threaded version.</p> <p>4. Comprehensive Testing: - [x] Validated correctness using the provided test suite and custom test scripts. - [x] Ran stress tests on the school server to ensure stability under heavy workloads.</p> <p>5. Documentation: - [x] Provided detailed explanations of:   - System Design: Architectural overview of LemonDB.   - Threading Model: Thread pool design, synchronization strategies, and concurrency handling.   - Optimizations: Performance improvements and challenges resolved.   - Testing Results: Summary of test outcomes and benchmarks.</p> <p>Final programming and documentation continued until the deadline date.</p>"},{"location":"ECE482FA24/ECE482P2/RoadMap/#changelogs-meeting-records","title":"Changelogs &amp; Meeting records","text":""},{"location":"ECE482FA24/ECE482P2/RoadMap/#meeting-1-20241023","title":"Meeting 1: 2024.10.23","text":"<p>Discussion: Our team met each other and briefly discussed the whole project schema. Our short term goal was following, to finish basic setup as soon as possible. - Fix source code compilation - Write comment for part of source code - Start writing milestone 1 - Initiate the Agile Development steps on gitea</p>"},{"location":"ECE482FA24/ECE482P2/RoadMap/#remarkable-change-logs","title":"Remarkable Change Logs","text":"<ul> <li>AddQuery/SubQuery: Added implementation for handling addition/subtraction operations.</li> <li>CountQuery: Added implementation for counting entries.</li> <li>DeleteQuery: Added implementation for deleting records.</li> <li>DuplicateQuery: Added implementation for duplicating records.</li> <li>InsertQuery: Added implementation for inserting new rows.</li> <li>MaxQuery/MinQuery: Added implementation or finding maxima/minima.</li> <li>SelectQuery: Added implementation for accessing data in a table.</li> <li>SumQuery: Added implementation for summing records.</li> <li>SwapQuery: Added implementation for swapping values</li> <li> <p>UpdateQuery: Added implementation for updating data in a table</p> </li> <li> <p>Table Management:</p> </li> <li>CopyTableQuery: Added implementation for copy a table.</li> <li>DropTableQuery: Added implementation for deleting an existing table.</li> <li>DumpTableQuery: Added implementation for dumping exisiting table to file.</li> <li>TruncateTableQuery: Added implementation for clear an existing table.</li> </ul>"},{"location":"ECE482FA24/ECE482P2/RoadMap/#meeting-2-20241030","title":"Meeting 2: 2024.10.30","text":"<p>Discussion: First step is to remove useless files from original LemonDB source code. Our team accomplished goals in previous meeting and target to do. - Write comment for part of source code - Start writing milestone 1</p> <p>Now, implement all query execution functions for single thread.</p>"},{"location":"ECE482FA24/ECE482P2/RoadMap/#remarkable-change-logs_1","title":"Remarkable Change Logs","text":"<ul> <li>QueryExecuter, QueryExecuterHelper, QueryThreadPool: Introduced thread pool management. Changed the logic of query execution from single-thread to multithread, used a thread pool to manage the thread.</li> </ul>"},{"location":"ECE482FA24/ECE482P2/RoadMap/#meeting-3-20241110","title":"Meeting 3: 2024.11.10","text":"<p>Discussion: - Milestone 1 single-threaded functions were mostly completed but required passing all test cases to mark true completion. - Focus shifted to designing an efficient algorithm for handling parallel query execution. Key considerations included:   - Selection of data structures (Bitmap, Balanced Tree, Hash Table, etc.) for concurrent data access.   - Synchronizing shared resources to prevent race conditions and ensure thread safety.</p>"},{"location":"ECE482FA24/ECE482P2/RoadMap/#remarkable-change-logs_2","title":"Remarkable Change Logs","text":"<ul> <li>System Optimization:</li> <li>Improved resource handling for better memory and time efficiency during query execution.</li> <li>Improved mutex handling for better thread safety.</li> <li>Refined algorithms for query operations to reduce overhead and improve response times.</li> </ul>"},{"location":"ECE482FA24/ECE482P2/RoadMap/#meeting-4-20241117","title":"Meeting 4: 2024.11.17","text":"<p>Discussion: - Successfully implemented thread pool for efficient multi-threaded query execution. - Identified the need to create custom test scripts for testing the program on the school server. - Evaluated and improved thread locking mechanisms to resolve performance bottlenecks.</p>"},{"location":"ECE482FA24/ECE482P2/RoadMap/#navigation_1","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>System Design</li> <li>Performance Improvements</li> <li>Multi-threading Challenges</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P3/Design/","title":"System Design","text":"<p>Software design schema structure overview and description</p>"},{"location":"ECE482FA24/ECE482P3/Design/#navigation","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>Risk Assessment</li> <li>Performance Analysis</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P3/Design/#software-architecture-overview","title":"Software Architecture Overview","text":"<p>The project implements a lottery scheduling algorithm in kernel space using eBPF.  This section provides an overview of the system's key components, workflow, and design considerations.  The architecture leverages modern kernel technologies to achieve a balance of performance and extensibility.</p>"},{"location":"ECE482FA24/ECE482P3/Design/#system-workflow","title":"System Workflow","text":"<ul> <li>Run <code>src/start.sh</code> to start the project. </li> <li>Queue and manage processes by shared dispatch queues (DSQ) </li> <li>Allocate and schedule tickets by custom scheduler </li> <li>Use kernel probes and eBPF tracing tools to monitor task scheduling and performance in real time.  </li> </ul>"},{"location":"ECE482FA24/ECE482P3/Design/#lottery-scheduling-algorithm","title":"Lottery Scheduling Algorithm","text":"<ol> <li>Assign tickets to each process based on priority.</li> <li>Build a ticket pool with entries proportional to ticket counts.</li> <li>Select a random ticket to choose the next process to run.</li> <li>Allocate a time slice to the chosen process.</li> <li>Re queue or terminate the process based on its state. </li> </ol>"},{"location":"ECE482FA24/ECE482P3/Design/#key-components","title":"Key Components","text":""},{"location":"ECE482FA24/ECE482P3/Design/#bootloader","title":"Bootloader","text":"<p>A bootloader is a small program that loads the operating system (OS) into memory when a computer or device is powered on or reset. It acts as the initial step in the booting process, ensuring that the necessary system files are loaded for the OS to function properly.</p>"},{"location":"ECE482FA24/ECE482P3/Design/#ebpf-extended-berkeley-packet-filter","title":"eBPF (Extended Berkeley Packet Filter)","text":"<p>eBPF is an advanced kernel technology that allows users to run secure and high-performance programmable code within the operating system kernel. Originally, eBPF was designed for network packet filtering. However, it continuously evolved to support use cases in monitoring, security, networking, and performance optimization. eBPF programs are verified and loaded into the kernel, enabling functionality extension without modifying the kernel source code, all while maintaining low overhead and high security.</p>"},{"location":"ECE482FA24/ECE482P3/Design/#ebpf-events-monitoring","title":"eBPF Events monitoring","text":"<p>Following <code>bpftrace</code> command can be used to monitor scheduling events in real time</p> <pre><code>sudo bpftrace -e 'kprobe:schedule { printf(\"Scheduled Process : %s\\\\n\", comm); }'\n</code></pre> <p><code>kprobe:schedule</code> attach kernel probe to <code>schedule</code> function in kernel.</p> <p>This single line can leverage eBPF to monitor events.  </p>"},{"location":"ECE482FA24/ECE482P3/Developer/","title":"Developer Guide","text":"<p>Installation and Testing Guideline </p>"},{"location":"ECE482FA24/ECE482P3/Developer/#navigation","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>Risk Assessment</li> <li>Performance Analysis</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P3/Developer/#implement-in-user-space","title":"Implement in user space","text":"<p>First of all, we implemented the idea of lottery scheduling in user space as our first demonstration. Processes are assigned tickets based on their nice values. The process with more tickets has a higher chance of being selected.</p>"},{"location":"ECE482FA24/ECE482P3/Developer/#one-line-ebpf","title":"One-Line eBPF","text":"<p>Focus on basic use cases like system monitoring calls or capture process scheduling events. </p> <pre><code>sudo bpftrace -e 'kprobe:schedule { printf(\"Scheduled Process: %s\\\\n\", comm); }'\n</code></pre>"},{"location":"ECE482FA24/ECE482P3/Developer/#prerequisites","title":"Prerequisites","text":"<ul> <li>Linux Operating System </li> <li><code>GCC</code> (GNU Compiler Collection) </li> <li><code>make</code> for build automation</li> <li><code>git</code> for version control</li> <li>Optional: <code>valgrind</code> for memory debugging</li> </ul>"},{"location":"ECE482FA24/ECE482P3/Developer/#environment-setup","title":"Environment Setup","text":"<p>Clone Repository  <pre><code>$ git clone ssh://git@focs.ji.sjtu.edu.cn:2222/ece482-24fa/p3team-02.git  \n$ cd p3team-02\n</code></pre> Build Project  <pre><code>$ cd src\n$ make vmlinux.h \n$ make NAME=simple_scheduler obj\n</code></pre> Start scheduler demo  <pre><code>$ ./start.sh\n$ sudo cat /sys/kernel/debug/tracing/trace_pipe\n</code></pre> Stop scheduler demo  <pre><code>$ ./stop.sh\n</code></pre> Clean compiled files  <pre><code>$ make NAME=simple_scheduler clean\n$ make \n</code></pre> Then, recompile is successful. </p> <pre><code>make vmlinux.h \nmake NAME=simple_scheduler obj\n\nsudo ./start.sh\n\nsudo cat /sys/kernel/debug/tracing/trace_pipe\n\nsudo ./stop.sh\n\nmake NAME=simple_scheduler clean\n</code></pre> <p>This will be final. </p>"},{"location":"ECE482FA24/ECE482P3/Developer/#debug-and-test","title":"Debug and Test","text":"<p>Use <code>trace_pipe</code> for process monitoring  <pre><code>sudo cat /sys/kernel/debug/tracing/trace_pipe\n</code></pre> Use debugging tools like <code>valgrind</code> for memory safety.  <pre><code>valgrind ./start.sh\n</code></pre></p>"},{"location":"ECE482FA24/ECE482P3/Home/","title":"Project 3 Lottery Scheduling","text":"<p>2024FA ECE4820 Introduction to Operating Systems</p>"},{"location":"ECE482FA24/ECE482P3/Home/#navigation","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>Risk Assessment</li> <li>Performance Analysis</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P3/Home/#team-members-roles-and-contributions","title":"Team Members, Roles and contributions","text":"<p>Jae Heung Park</p> <ul> <li>Documentation of <code>README</code> file and Wiki for project release.</li> <li>Supportive contribution to the project with effort</li> </ul> <p>He Wentao</p> <ul> <li>Project basic setup from given source code and functions.</li> <li>Compiling and debugging codes to run test cases in local environment.</li> <li>Project structure design and plan</li> </ul> <p>Wang Rui</p> <ul> <li>Project basic setup from given source code and functions.</li> <li>Compiling and debugging codes to run test cases in local environment.</li> <li>Project structure design and plan</li> </ul>"},{"location":"ECE482FA24/ECE482P3/Home/#overview-of-ebpf-implementation","title":"Overview of eBPF implementation","text":"<p>For now, since we have get the idea of how to implement the lottery scheduler in user space.  The next thing to do is to implement it in kernel space with eBPF.  We referred to the websites and resources provided in wiki, especially in the <code>sched-ext</code> repo. By reading through some sample codes in this repo and refer to what we have learned in the lab,  we noticed that we need to implement <code>enqueue</code>, <code>dispatch</code> and <code>init</code> these three functions.</p>"},{"location":"ECE482FA24/ECE482P3/Home/#key-functions","title":"Key Functions","text":"<ul> <li><code>enqueue</code>: Adds tasks to dispatch queue.</li> <li><code>dispatch</code>: Selects tasks for execution based on ticket values.</li> <li><code>init</code>: Initializes the scheduler and shared dispatch queues.</li> </ul> <pre><code>struct sched_ext_ops sched_ops = {\n    .enqueue = (void *)sched_enqueue,\n    .dispatch = (void *)sched_dispatch,\n    .init = (void *)sched_init,\n    .flags = SCX_OPS_ENQ_LAST | SCX_OPS_KEEP_BUILTIN_IDLE,\n    .name = \"p3_scheduler\"};\n</code></pre>"},{"location":"ECE482FA24/ECE482P3/Home/#ticket-management","title":"Ticket Management","text":"<p>The first problem we met with was how to store all the ticket information.  Since we cannot modify a structure called <code>task_struct</code>,  so we use a map with hash to store all the ticket information:</p> <pre><code>struct\n{\n    __uint(type, BPF_MAP_TYPE_HASH);\n    __type(key, __u32); // task UID\n    __type(value, __u64);\n    __uint(max_entries, 1024);\n} task_tickets_map SEC(\".maps\");\n</code></pre>"},{"location":"ECE482FA24/ECE482P3/Home/#shared-dispatch-queues","title":"Shared Dispatch Queues","text":"<p>Next, we initialized two shared Dispatch Queue (DSQ). A shared dispatch queue used to coordinate the scheduling of different tasks.  It typically acts as a buffer for tasks or an intermediary for task scheduling, allowing interaction between different schedulers or task producers and consumers.</p> <pre><code>s32 BPF_STRUCT_OPS_SLEEPABLE(sched_init)\n{\n    bpf_printk(\"Scheduler initialized with DSQ ID: %d\\n\", SHARED_DSQ_ID);\n    int create_1 = scx_bpf_create_dsq(SHARED_DSQ_ID, -1);\n    int create_2 = scx_bpf_create_dsq(WINNER_DSQ_ID, -1);\n    return create_1 &amp;&amp; create_2;\n}\n</code></pre> <p>As you can see, it's very simple to implement.</p> <p>When enqueue tasks, we noticed that there is a variable called <code>enq_flags</code>  and we think that it's used for signal the priority of different tasks.  So we use it to help decide the number of tickets.  Basically, we first generate a random number between 1 and 100 as the ticket number,  then for high priority, we add 100 more; and for low priority, we minus 100.  As you can see, the ticket number signals the priority.</p> <p>When choosing which task to run, we get a random number, than find the corresponding task.</p> <p>At last, we want to talk about something about discussion.  First of all, we noticed that <code>bpf_task_from_pid</code> has different performance on different version of kernel.  For example, it works fine on version 6.12 on ubuntu while it meets some problem on version 6.12 on arch.  To avoid problems, we have to use multiple maps to store information like slice, task ID.  But we eventually managed to make it work.</p> <p>Another thing we want to discuss is about the ticket method.  For now, we tried to implement <code>nice</code> with <code>enq_flags</code> variable to decide the ticket number.  But we only had time to implement a rough one, it can be more precise.</p> <p>Moreover, we noticed that our scheduler fails after running for a while.  The performance is like the whole computer stucks and then our program was kicked out by the kernel.</p>"},{"location":"ECE482FA24/ECE482P3/Performance/","title":"System Design","text":"<p>Software design schema structure overview and description</p>"},{"location":"ECE482FA24/ECE482P3/Performance/#navigation","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>Risk Assessment</li> <li>Performance Analysis</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P3/Performance/#lottery-scheduling","title":"Lottery Scheduling","text":"<p>Lottery Scheduling is a probabilistic scheduling algorithm used in multi-tasking operating systems, particularly for CPU resource allocation. The core idea is to assign a number of \"lottery tickets\" to each process, and the process that wins the lottery (i.e., the one with the randomly drawn ticket) is granted CPU time. This approach ensures fair distribution of CPU time, with the option to adjust the number of tickets to prioritize certain processes.</p> <ol> <li>Ticket Allocation: Each process is assigned a certain number of tickets based on its weight or priority. The more tickets one process have, the higher chance to be scheduled.</li> <li>Randomness: CPU allocation is determined by a random lottery draw, ensuring fairness in scheduling.</li> <li>Priority Adjustment: The number of tickets can be adjusted to change the process's priority. More tickets mean higher priority.</li> <li>Use Case: Ideal for scenarios where fair resource distribution and flexible priority adjustment are needed.</li> </ol>"},{"location":"ECE482FA24/ECE482P3/Risk/","title":"Project 3 Lottery Scheduling Risk Assessment","text":"<p>2024FA ECE4820J Introduction to Operating Systems</p>"},{"location":"ECE482FA24/ECE482P3/Risk/#navigation","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>Risk Assessment</li> <li>Performance Analysis</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P3/Risk/#risk-categories","title":"Risk Categories","text":""},{"location":"ECE482FA24/ECE482P3/Risk/#1-technical-risks","title":"1. Technical Risks","text":"<ul> <li> <p>Complexity of Algorithm: Difficulty in implementing a fair and efficient lottery scheduling algorithm. Mitigation: Break down tasks and perform early unit tests.</p> </li> <li> <p>Performance under Load: The algorithm may degrade as the number of processes increases. Mitigation: Test with varying loads and optimize ticket distribution.</p> </li> </ul>"},{"location":"ECE482FA24/ECE482P3/Risk/#2-operational-risks","title":"2. Operational Risks","text":"<ul> <li> <p>Time Constraints: Limited time may delay progress. Mitigation: Use a structured timeline and monitor progress regularly.</p> </li> <li> <p>Testing Complexity: Difficulty in creating comprehensive test cases for a probabilistic algorithm. Mitigation: Develop a broad set of test cases and automate tests.</p> </li> </ul>"},{"location":"ECE482FA24/ECE482P3/Risk/#3-human-resource-risks","title":"3. Human Resource Risks","text":"<ul> <li>Lack of Expertise: Team members may be unfamiliar with eBPF or kernel programming. Mitigation: Allocate time for training and practice.</li> </ul>"},{"location":"ECE482FA24/ECE482P3/Risk/#4-external-risks","title":"4. External Risks","text":"<ul> <li>System Compatibility: Compatibility issues with the testing environment. Mitigation: Ensure portability and test on multiple platforms, like ubuntu, arch, etc.</li> </ul>"},{"location":"ECE482FA24/ECE482P3/RoadMap/","title":"Project 3 Lottery Scheduling RoadMap","text":"<p>2024FA ECE4820 Introduction to Operating Systems</p>"},{"location":"ECE482FA24/ECE482P3/RoadMap/#navigation","title":"Navigation","text":"<ul> <li>Home</li> <li>Project Roadmap</li> <li>Risk Assessment</li> <li>Performance Analysis</li> <li>Developer Guide</li> </ul>"},{"location":"ECE482FA24/ECE482P3/RoadMap/#documentation-plan","title":"Documentation Plan","text":"<ol> <li>Lottery Scheduling overview, key principles</li> <li>Code structure design choices and explanations</li> <li>Testing tools and methodologies in function, performance, edge cases</li> <li>Test result summary and performance analysis of throughput and latency</li> </ol>"},{"location":"ECE482FA24/ECE482P3/RoadMap/#development-strategies","title":"Development Strategies","text":""},{"location":"ECE482FA24/ECE482P3/RoadMap/#task-list","title":"Task List","text":"<ol> <li>Lottery Scheduling - 6 hours</li> <li>Solve Simple Investigation Questions - 1 hours</li> <li>Test Program for Lottery - 15 hours</li> </ol>"},{"location":"ECE482FA24/ECE482P3/RoadMap/#1-lottery-scheduling","title":"1. Lottery Scheduling","text":"<ul> <li>Action Plan:</li> <li>Study the basic principles of lottery scheduling and its implementation.</li> <li>Write the initial scheduling algorithm code and test its performance under various loads.</li> <li> <p>Debug and optimize the code to ensure stability and efficiency in a multitasking environment.</p> </li> <li> <p>Difficulty Evaluation:   High. Our major task</p> </li> <li> <p>Time Estimation:   Estimated to take 6 hours:  </p> </li> <li>Research and design: 1 hours  </li> <li>Code implementation: 3 hours  </li> <li>Debugging and optimization: 2 hours</li> </ul>"},{"location":"ECE482FA24/ECE482P3/RoadMap/#2-test-program-for-lottery","title":"2. Test Program for Lottery","text":"<ul> <li>Action Plan:</li> <li>Write test cases to cover different scheduling scenarios.</li> <li>Run the tests and record the results to verify the correctness of the lottery scheduling algorithm.</li> <li> <p>Conduct performance testing to ensure the algorithm performs well under different loads.</p> </li> <li> <p>Difficulty Evaluation:   Medium. Would be very fast if our original design is good enough.</p> </li> <li> <p>Time Estimation:   Estimated to take 2 hours:  </p> </li> <li>Write test cases: 0.5 hours  </li> <li>Execute tests and record results: 1.5 hours  </li> <li>Debugging and fixing issues: it depends</li> </ul>"},{"location":"ECE482FA24/ECE482P3/RoadMap/#total-time-estimation","title":"Total Time Estimation:","text":"<ul> <li>Lottery Scheduling: 6 hours  </li> <li>Solve Simple Investigation Questions: [ ] hours  </li> <li>Test Program for Lottery: 2 hours  </li> </ul> <p>Total: [] hours</p>"}]}