## 핵심 요약: 시스템 프로그래밍 심화 및 컴파일러 동작 원리 💻

### 1. 전위/후위 연산자 (++, --)와 최적화

* **전위/후위 연산의 차이**: 전위 연산자(`++a`)는 값을 증가시킨 후 그 값을 반환하고, 후위 연산자(`a++`)는 값을 반환한 후 증가시킵니다. 후위 연산은 사본을 만들어야 하므로 전위 연산보다 느릴 가능성이 있습니다.
* **컴파일러 최적화**: 단순 반복문(`for(int i = 0; ...; ++i)`)의 경우 컴파일러가 최적화하여 전위/후위 연산자 간의 성능 차이가 거의 없습니다. 그러나 복합적인 대입 연산에서는 차이가 발생할 수 있습니다.

---

### 2. 비트 연산자

* **종류**: `&`(AND), `|`(OR), `^`(XOR), `~`(NOT), `<<`(Shift Left), `>>`(Shift Right).
* **활용**:
    * **마스킹**: `&` 연산자를 사용하여 특정 비트만 추출하거나 확인합니다. (예: `a & 0xF0`로 상위 4비트 추출)
    * **합치기**: `|` 연산자로 서로 다른 영역의 비트를 합칩니다.
    * **XOR**: 같은 값은 0, 다른 값은 1이 됩니다. 간단한 암호화나 그래픽 처리(그림 복원)에 사용되며, **`XOR eax, eax`** 와 같이 레지스터 값을 0으로 만드는 데 매우 효율적입니다.
* **Shift 연산자**:
    * `<<`: 곱하기(`*2`, `*4`...) 효과를 냅니다.
    * `>>`: 나누기(`/2`, `/4`...) 효과를 냅니다.
    * **주의**: 부호 있는(`signed`) 변수에 대한 시프트 연산은 컴파일러 경고가 발생하므로 사용하지 않는 것이 권장됩니다.

---

### 3. 컴파일러와 메모리 구조

* **`map` 파일**: 컴파일러가 생성하는 파일로, 함수와 변수들의 메모리 주소 및 길이를 알려줍니다.
* **`VMMap`**: Windows Sysinternals 도구로, 프로세스의 메모리 사용 현황(힙, 매핑된 파일 등)을 시각적으로 보여줍니다.
* **C/C++의 메모리 영역**: 코드(Code), 읽기 전용(Read-only), 데이터(Data), 스택(Stack), 힙(Heap)으로 나뉘지만, `VMMap`에서는 **`Private Data`** 와 같이 더 추상적인 이름으로 나타납니다.
* **`sizeof`**: 컴파일 시점에 변수나 자료형의 크기를 계산하여 어셈블리어에 상수 값으로 변환됩니다. **런타임 시점에는 `sizeof`로 객체의 크기를 알 수 없습니다.**

---

### 4. 조건문과 최적화

* **`if-else` vs. `switch-case`**:
    * **`if-else`**: 순차적으로 조건을 비교(`cmp` 명령어)하여 성능이 저하될 수 있습니다.
    * **`switch-case`**: `case` 값이 연속적이거나 일정한 규칙을 가지는 경우, 컴파일러가 **점프 테이블**을 생성하여 `case` 값에 맞는 코드로 한 번에 이동합니다. 이는 `if-else` 문보다 훨씬 빠릅니다.
* **점프 테이블의 조건**: `case` 문이 3개 이하일 경우 `if-else`처럼 동작할 수 있으며, `case` 값이 불연속적이거나 무작위인 경우 컴파일러는 점프 테이블 대신 다른 방식(예: 인덱스 변환 테이블)을 사용하거나 `if-else`처럼 처리할 수 있습니다.

---

### 5. 기타 용어

* **`.bss` (Block Started by Symbol)**: 초기화되지 않은 전역/정적 변수가 할당되는 메모리 영역입니다.
* **IP(Instruction Pointer)**: 다음에 실행할 명령어의 주소를 가리키는 레지스터로, `PC(Program Counter)`와 동일한 역할을 합니다.
* **`e` (x86 32비트)**, **`r` (x86 64비트)**: 레지스터 이름의 접두사로, CPU 아키텍처에 따라 다릅니다.
* **`Dangling Pointer`**: 해제된 메모리를 가리키는 포인터입니다. 디버그 모드에서는 오류가 즉시 발생하지만, 릴리즈 모드에서는 우연히 작동하여 버그를 찾기 어렵게 만듭니다.