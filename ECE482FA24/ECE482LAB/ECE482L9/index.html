
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="C++ Blog and Study Notes">
      
      
        <meta name="author" content="Renaissancor">
      
      
        <link rel="canonical" href="https://renaissancor.github.io/ECE482FA24/ECE482LAB/ECE482L9/">
      
      
        <link rel="prev" href="../ECE482L8/">
      
      
        <link rel="next" href="../../ECE482P2/Design/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.11">
    
    
      
        <title>Lab 09 - Renaissancoriate</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Fira Code"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="light-green" data-md-color-accent="green">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#lab-09" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Renaissancoriate" class="md-header__button md-logo" aria-label="Renaissancoriate" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Renaissancoriate
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Lab 09
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Renaissancoriate" class="md-nav__button md-logo" aria-label="Renaissancoriate" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Renaissancoriate
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Welcome to MkDocs
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR111111/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sample Template Title
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250325/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Custom String Utilities
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250326/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Memory Layout and Static Variables
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250327/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dynamic Memory Allocation and Heap Management
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250328/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linked List and Dynamic Array
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250331/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Class vs Struct, Encapsulation, and Const-Correctness
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250401/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Function &amp; Operator Overloading, Object Lifetime, and Const Safety
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250402/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Namespaces, Constructors, and Copy Mechanics
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250403/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CPP Dynamic Array
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250407/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AR250407
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250408/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AR250408
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250409/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AR250409
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250410/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AR250410
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250411/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AR250411
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250414/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AR250414
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../AR250415/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AR250415
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_18" >
        
          
          <label class="md-nav__link" for="__nav_18" id="__nav_18_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Algorithm
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_18_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_18">
            <span class="md-nav__icon md-icon"></span>
            Algorithm
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Algorithm/HKUL1P1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Divide and Conquer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Algorithm/HKUL1P2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tower of Hanoi
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Algorithm/HKUL1P3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Divide-and-Conquer Approach
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Algorithm/HKUL1P4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Master Theorem, Fibonacci Example
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Algorithm/HKUL1P5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Fibonacci Numbers &amp; Matrix Exponentiation Summary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Algorithm/HKUL1P6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Maximum Subarray Problem
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Algorithm/HKUL1P7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exercises Summary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Algorithm/HKUL1P8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HKUL1P8
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Algorithm/HKUPSET1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HKUPSET1
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Algorithm/HKU_Math/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HKU Math
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_19" >
        
          
          <label class="md-nav__link" for="__nav_19" id="__nav_19_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    C C++ Basics
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_19_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_19">
            <span class="md-nav__icon md-icon"></span>
            C C++ Basics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../C_C%2B%2B_Basics/AR250305/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++ Data Types and Basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../C_C%2B%2B_Basics/AR250306/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Operators and Precedence
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../C_C%2B%2B_Basics/AR250307/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Control Flow in C++
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../C_C%2B%2B_Basics/AR250310/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bitwise Operators &amp; Preprocessor Macros
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../C_C%2B%2B_Basics/AR250311/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Local Variables, Arrays, &amp; Loops
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../C_C%2B%2B_Basics/AR250312/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Structs and Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../C_C%2B%2B_Basics/AR250313/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Recursion and Function Mechanics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../C_C%2B%2B_Basics/AR250317/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Recursion and Static Variables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../C_C%2B%2B_Basics/AR250318/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Global and Static Variables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../C_C%2B%2B_Basics/AR250319/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pointer Basics and Function Overloading
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../C_C%2B%2B_Basics/AR250320/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Constexpr, Const, Volatile, and Pointer Fundamentals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../C_C%2B%2B_Basics/AR250321/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C Memory Functions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../C_C%2B%2B_Basics/AR250324/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Const Pointers and Type-Punning
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_20" checked>
        
          
          <label class="md-nav__link" for="__nav_20" id="__nav_20_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ECE482FA24
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_20_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_20">
            <span class="md-nav__icon md-icon"></span>
            ECE482FA24
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_20_1" >
        
          
          <label class="md-nav__link" for="__nav_20_1" id="__nav_20_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ECE482HW
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_20_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_20_1">
            <span class="md-nav__icon md-icon"></span>
            ECE482HW
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482HW/ECE482H1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment I
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482HW/ECE482H2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment II
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482HW/ECE482H3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment III
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482HW/ECE482H4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment IV
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482HW/ECE482H5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment V
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482HW/ECE482H6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment VI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482HW/ECE482H7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment VII
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482HW/ECE482H8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Assignment VIII
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_20_2" checked>
        
          
          <label class="md-nav__link" for="__nav_20_2" id="__nav_20_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ECE482LAB
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_20_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_20_2">
            <span class="md-nav__icon md-icon"></span>
            ECE482LAB
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 01
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L10/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 10
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L11/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 11
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 02
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 03
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 04
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 05
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L6/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 06
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L7/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 07
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ECE482L8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Lab 08
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Lab 09
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Lab 09
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-project-3-presentations-part-1" class="md-nav__link">
    <span class="md-ellipsis">
      1 Project 3: presentations (part 1)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      2 Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-a-dice-module" class="md-nav__link">
    <span class="md-ellipsis">
      3 A dice module
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      4 Tasks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 Tasks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-needs-to-be-returned-by-read-and-write-file-operations-for-a-character-device" class="md-nav__link">
    <span class="md-ellipsis">
      What needs to be returned by read and write file operations for a character device?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-are-exactly-those-major-and-minor-numbers-working-you-vaguely-remember-that-you-can-display-them-using-ls-l-dev" class="md-nav__link">
    <span class="md-ellipsis">
      How are exactly those major and minor numbers working? You vaguely remember that you can display them using ls -l /dev.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#knowing-the-major-number-and-minor-numbers-of-a-device-how-to-add-a-character-device-to-dev" class="md-nav__link">
    <span class="md-ellipsis">
      Knowing the major number and minor numbers of a device, how to add a character device to /dev?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where-are-the-following-terms-located-in-linux-source-code" class="md-nav__link">
    <span class="md-ellipsis">
      Where are the following terms located in linux source code?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-generate-random-numbers-when-working-inside-the-linux-kernel-you-think-that-a-while-back-you-read-something-about-getting-the-current-time" class="md-nav__link">
    <span class="md-ellipsis">
      How to generate random numbers when working inside the Linux kernel? You think that a while back you read something about getting the current time.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-define-and-specify-module-options" class="md-nav__link">
    <span class="md-ellipsis">
      How to define and specify module options?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compile-and-test-log-in-linux" class="md-nav__link">
    <span class="md-ellipsis">
      Compile and test log in Linux
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_20_3" >
        
          
          <label class="md-nav__link" for="__nav_20_3" id="__nav_20_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ECE482P2
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_20_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_20_3">
            <span class="md-nav__icon md-icon"></span>
            ECE482P2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P2/Design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P2/DeveloperGuide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P2/Home/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project 2 LemonDB Multi Threading Database
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P2/MultiThreading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Multi-threading Challenges
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P2/Performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Performance Improvements
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P2/RoadMap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Road Map
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_20_4" >
        
          
          <label class="md-nav__link" for="__nav_20_4" id="__nav_20_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    ECE482P3
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_20_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_20_4">
            <span class="md-nav__icon md-icon"></span>
            ECE482P3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P3/Design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P3/Developer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Developer Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P3/Home/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project 3 Lottery Scheduling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P3/Performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    System Design
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P3/Risk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project 3 Lottery Scheduling Risk Assessment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ECE482P3/RoadMap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Project 3 Lottery Scheduling RoadMap
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-project-3-presentations-part-1" class="md-nav__link">
    <span class="md-ellipsis">
      1 Project 3: presentations (part 1)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      2 Introduction
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-a-dice-module" class="md-nav__link">
    <span class="md-ellipsis">
      3 A dice module
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      4 Tasks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 Tasks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-needs-to-be-returned-by-read-and-write-file-operations-for-a-character-device" class="md-nav__link">
    <span class="md-ellipsis">
      What needs to be returned by read and write file operations for a character device?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-are-exactly-those-major-and-minor-numbers-working-you-vaguely-remember-that-you-can-display-them-using-ls-l-dev" class="md-nav__link">
    <span class="md-ellipsis">
      How are exactly those major and minor numbers working? You vaguely remember that you can display them using ls -l /dev.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#knowing-the-major-number-and-minor-numbers-of-a-device-how-to-add-a-character-device-to-dev" class="md-nav__link">
    <span class="md-ellipsis">
      Knowing the major number and minor numbers of a device, how to add a character device to /dev?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where-are-the-following-terms-located-in-linux-source-code" class="md-nav__link">
    <span class="md-ellipsis">
      Where are the following terms located in linux source code?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-generate-random-numbers-when-working-inside-the-linux-kernel-you-think-that-a-while-back-you-read-something-about-getting-the-current-time" class="md-nav__link">
    <span class="md-ellipsis">
      How to generate random numbers when working inside the Linux kernel? You think that a while back you read something about getting the current time.
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-define-and-specify-module-options" class="md-nav__link">
    <span class="md-ellipsis">
      How to define and specify module options?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compile-and-test-log-in-linux" class="md-nav__link">
    <span class="md-ellipsis">
      Compile and test log in Linux
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="lab-09">Lab 09</h1>
<p>ECE4820 FA2024 Introduction to Operating Systems</p>
<p>518370990004 Jae Heung Park</p>
<hr />
<h2 id="1-project-3-presentations-part-1">1 Project 3: presentations (part 1)</h2>
<p>Presentation</p>
<h2 id="2-introduction">2 Introduction</h2>
<p>Reading</p>
<h2 id="3-a-dice-module">3 A dice module</h2>
<p>You remember that for what you want to implement, a character device should at least match the <code>open</code>,
<code>close</code>, <code>read</code>, and <code>write</code> system calls. You will also have to decide on a major and a minor for your
dice device. By definition the major must correspond to the driver associated to the device so it cannot
?쐄reely??choose it. However, the minor is more flexible and you can pass it to the driver. You therefore
decide to use it to create more than one type of dice device: each type would feature a different minor
corresponding to a different type of dice. The displayed result of a roll would then depend on the minor.
That being set, you now want to specify more precisely how to implement your devices, but for that
you need grandpa?셲 help. What kind of game does he want to play? How many players there would be?
Based on his answers it appears that you need to implement the following options:</p>
<ul>
<li>Change the number of dice by a <code>write</code> on the device;</li>
<li>Display the result of a roll by a <code>read</code> on the device;</li>
<li>Use the minor to specify the type of dice when creating the device;</li>
<li>Depending on the type of dice display a different output;</li>
<li>Use a module option to set the number of sides for a generic type of dice;</li>
</ul>
<p>Based on his answers you quickly get a sketch of what you will do, and show it to him to ensure you
match all his expectations. You will have three main types of dice:</p>
<ul>
<li>(i) regular,</li>
<li>(ii) backgammon, and</li>
<li>(iii) generic</li>
</ul>
<p>featuring an arbitrary number of sides.
For this latter dice the side number should be specified as a module option.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>$ #regular dice
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>$ echo 2 &gt; /dev/dice0
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>$ cat /dev/dice0
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>------- -------
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>| o o | | o o |
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>| o o | | o |
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>| o o | | o o |
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>&#39;-----&#39; &#39;-----&#39;
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>$ #backgammon die
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>$ echo 1 &gt; /dev/dice1
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>$ cat /dev/dice1
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>16
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>$ #generic dice, gen_sides=20
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>$ # gen_sides: module option
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>$ echo 3 &gt; /dev/dice2
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>$ cat /dev/dice2
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>12 19 8
</code></pre></div>
<p>As grandpa is perfectly happy with your idea you decide to carry on with it.</p>
<h2 id="4-tasks">4 Tasks</h2>
<p>First you want to make sure you are fully familiar with the kernel API for creating character devices. So
you ask yourself the following questions.</p>
<h3 id="what-needs-to-be-returned-by-read-and-write-file-operations-for-a-character-device">What needs to be returned by read and write file operations for a character device?</h3>
<p>Operation <code>read</code> should return the number of bytes read from device to provide data to user buffer.
If no more data exist to be read, return 0, meaning EOF (End Of File).
Errors should return negative value like <code>-EINVAL</code>.</p>
<p>Operation <code>write</code> should return the number of bytes that are written to device.
It should process user provided data and return negative value in error case.
Common error is <code>-EFAULT</code>, a failure to access user memory.</p>
<h3 id="how-are-exactly-those-major-and-minor-numbers-working-you-vaguely-remember-that-you-can-display-them-using-ls-l-dev">How are exactly those major and minor numbers working? You vaguely remember that you can display them using ls -l /dev.</h3>
<p><strong>Major Number</strong> identify device associated drivers.
OS kernel will use these major numbers to locate appropriate driver required when device file is accessed.</p>
<p><strong>Minor Number</strong> specifically identifies particular device managed by drivers.
Single driver could operate several devices and those subordinate drivers will be minor number.</p>
<p>Display major numbers and minor numbers in Linux OS by following command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>ls<span class="w"> </span>-l<span class="w"> </span>/dev
</code></pre></div>
<h3 id="knowing-the-major-number-and-minor-numbers-of-a-device-how-to-add-a-character-device-to-dev">Knowing the major number and minor numbers of a device, how to add a character device to /dev?</h3>
<p>Add character device to <code>/dev</code> by using <code>mknod</code> command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>mknod<span class="w"> </span>/dev/&lt;device_name&gt;<span class="w"> </span>c<span class="w"> </span>&lt;major_num&gt;<span class="w"> </span>&lt;minor_num&gt;
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>mknod<span class="w"> </span>/dev/dice0<span class="w"> </span>c<span class="w"> </span><span class="m">250</span><span class="w"> </span><span class="m">0</span>
</code></pre></div>
<h3 id="where-are-the-following-terms-located-in-linux-source-code">Where are the following terms located in linux source code?</h3>
<table>
<thead>
<tr>
<th>Term</th>
<th>Location</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>module_init</code></td>
<td><code>linux/init.h</code></td>
<td>Macro for defining the initialization function of a kernel module.</td>
</tr>
<tr>
<td><code>module_exit</code></td>
<td><code>linux/init.h</code></td>
<td>Macro for defining the cleanup function of a kernel module.</td>
</tr>
<tr>
<td><code>printk</code></td>
<td><code>linux/kernel.h</code></td>
<td>Used for logging kernel messages.</td>
</tr>
<tr>
<td><code>container_of</code></td>
<td><code>linux/kernel.h</code></td>
<td>Retrieves the containing structure from a pointer to a member.</td>
</tr>
<tr>
<td><code>dev_t</code></td>
<td><code>linux/types.h</code></td>
<td>Represents device numbers (combines major and minor numbers).</td>
</tr>
<tr>
<td><code>MAJOR</code></td>
<td><code>linux/kdev_t.h</code></td>
<td>Extracts the major number from <code>dev_t</code>.</td>
</tr>
<tr>
<td><code>MINOR</code></td>
<td><code>linux/kdev_t.h</code></td>
<td>Extracts the minor number from <code>dev_t</code>.</td>
</tr>
<tr>
<td><code>MKDEV</code></td>
<td><code>linux/kdev_t.h</code></td>
<td>Combines major and minor numbers into a <code>dev_t</code>.</td>
</tr>
<tr>
<td><code>alloc_chrdev_region</code></td>
<td><code>linux/fs.h</code></td>
<td>Allocates device numbers dynamically.</td>
</tr>
<tr>
<td><code>module_param</code></td>
<td><code>linux/moduleparam.h</code></td>
<td>Defines module parameters.</td>
</tr>
<tr>
<td><code>cdev_init</code></td>
<td><code>linux/cdev.h</code></td>
<td>Initializes a character device structure.</td>
</tr>
<tr>
<td><code>cdev_add</code></td>
<td><code>linux/cdev.h</code></td>
<td>Registers a character device with the kernel.</td>
</tr>
<tr>
<td><code>cdev_del</code></td>
<td><code>linux/cdev.h</code></td>
<td>Removes a character device from the kernel.</td>
</tr>
<tr>
<td><code>THIS_MODULE</code></td>
<td><code>linux/module.h</code></td>
<td>Macro referring to the current kernel module.</td>
</tr>
</tbody>
</table>
<h3 id="how-to-generate-random-numbers-when-working-inside-the-linux-kernel-you-think-that-a-while-back-you-read-something-about-getting-the-current-time">How to generate random numbers when working inside the Linux kernel? You think that a while back you read something about getting the current time.</h3>
<p>Linux kernel has random number generator functions in <code>linux/random.h</code> including</p>
<ul>
<li><code>get_random_int()</code></li>
<li><code>get_random_bytes(void *buf, int nbytes)</code></li>
</ul>
<h3 id="how-to-define-and-specify-module-options">How to define and specify module options?</h3>
<p>Linux kernel has module parameter macro <code>module_param</code> function in <code>linux/moduleparam.h</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">static</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">gen_sides</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">module_param</span><span class="p">(</span><span class="n">gen_sides</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="mo">0444</span><span class="p">);</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="n">MODULE_PARM_DESC</span><span class="p">(</span><span class="n">gen_sides</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Total number of generic dice sides&quot;</span><span class="p">);</span>
</code></pre></div>
<p>Pass module options at load time</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>insmod<span class="w"> </span>dice.ko<span class="w"> </span><span class="nv">gen_sides</span><span class="o">=</span><span class="m">12</span>
</code></pre></div>
<p>Where <code>0444</code> specify permission (Read only for all), while <code>MODULE_PARM_DESC</code> is text description</p>
<blockquote>
<p>As you can answer all those questions it feels that you are almost ready to get started, so you open your
favorite tool to code and write a very basic module which on a cat simply prints ?쏛lmost there grandpa!??</p>
</blockquote>
<p>A few useful references:</p>
<ul>
<li>https://github.com/starpos/scull</li>
<li>https://www.oreilly.com/library/view/linux-device-drivers/0596005903/ch03.html</li>
<li>https://elixir.bootlin.com/linux/latest/source</li>
</ul>
<h3 id="compile-and-test-log-in-linux">Compile and test log in Linux</h3>
<p>Supports three types of dice</p>
<ul>
<li>Regular Dice: <code>/dev/dice0</code></li>
<li>Backgammon Dice: <code>/dev/dice1</code></li>
<li>Generic Dice: <code>/dev/dice2</code></li>
</ul>
<p>Implementation</p>
<ul>
<li><code>write</code> to set dice number to roll.</li>
<li><code>read</code> to display dice rolls.</li>
</ul>
<p>Set dice number to roll (<code>write</code>), <code>?</code> is number</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nb">echo</span><span class="w"> </span>&lt;number&gt;<span class="w"> </span>&gt;<span class="w"> </span>/dev/dice?
</code></pre></div>
<p>Read dice number to roll (<code>read</code>), <code>?</code> is number</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>cat<span class="w"> </span>/dev/dice?
</code></pre></div>
<p>Compile by <code>make</code> command and clean by <code>make clean</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>make
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>make<span class="w"> </span>clean
</code></pre></div>
<p>Check generated dice</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>ls<span class="w"> </span>-l<span class="w"> </span>/dev/dice*
</code></pre></div>
<p>Check file contents</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>sudo<span class="w"> </span>cat<span class="w"> </span>/dev/dice0
</code></pre></div>
<p>Returns following</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>1 3
</code></pre></div>
<p>Check logs</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>sudo<span class="w"> </span>dmseg<span class="w"> </span><span class="p">|</span><span class="w"> </span>tail
</code></pre></div>
<p>Logs contents</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>sudo dmesg | tail
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>[    7.878369] audit: type=1107 audit(1733345694.330:59): pid=819 uid=102 auid=4294967295 ses=4294967295 subj=unconfined msg=&#39;apparmor=&quot;DENIED&quot; operation=&quot;dbus_method_call&quot;  bus=&quot;system&quot; path=&quot;/org/freedesktop/PolicyKit1/Authority&quot; interface=&quot;org.freedesktop.PolicyKit1.Authority&quot; member=&quot;CheckAuthorization&quot; mask=&quot;send&quot; name=&quot;:1.3&quot; pid=1598 label=&quot;snap.snap-store.ubuntu-software&quot; peer_pid=832 peer_label=&quot;unconfined&quot;
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>                exe=&quot;/usr/bin/dbus-daemon&quot; sauid=102 hostname=? addr=? terminal=?&#39;
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>[    7.880613] audit: type=1107 audit(1733345694.332:60): pid=819 uid=102 auid=4294967295 ses=4294967295 subj=unconfined msg=&#39;apparmor=&quot;DENIED&quot; operation=&quot;dbus_method_call&quot;  bus=&quot;system&quot; path=&quot;/org/freedesktop/PolicyKit1/Authority&quot; interface=&quot;org.freedesktop.DBus.Properties&quot; member=&quot;GetAll&quot; mask=&quot;send&quot; name=&quot;:1.3&quot; pid=1598 label=&quot;snap.snap-store.ubuntu-software&quot; peer_pid=832 peer_label=&quot;unconfined&quot;
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>                exe=&quot;/usr/bin/dbus-daemon&quot; sauid=102 hostname=? addr=? terminal=?&#39;
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a>[    7.880708] audit: type=1107 audit(1733345694.332:61): pid=819 uid=102 auid=4294967295 ses=4294967295 subj=unconfined msg=&#39;apparmor=&quot;DENIED&quot; operation=&quot;dbus_method_call&quot;  bus=&quot;system&quot; path=&quot;/org/freedesktop/PolicyKit1/Authority&quot; interface=&quot;org.freedesktop.PolicyKit1.Authority&quot; member=&quot;CheckAuthorization&quot; mask=&quot;send&quot; name=&quot;:1.3&quot; pid=1598 label=&quot;snap.snap-store.ubuntu-software&quot; peer_pid=832 peer_label=&quot;unconfined&quot;
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>                exe=&quot;/usr/bin/dbus-daemon&quot; sauid=102 hostname=? addr=? terminal=?&#39;
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a>[    8.039953] audit: type=1400 audit(1733345694.491:62): apparmor=&quot;DENIED&quot; operation=&quot;open&quot; class=&quot;file&quot; profile=&quot;snap.snap-store.ubuntu-software&quot; name=&quot;/etc/appstream.conf&quot; pid=1598 comm=&quot;snap-store&quot; requested_mask=&quot;r&quot; denied_mask=&quot;r&quot; fsuid=1000 ouid=0
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a>[ 8096.679822] audit: type=1326 audit(1733352979.809:63): auid=1000 uid=1000 gid=1000 ses=2 subj=snap.snap-store.ubuntu-software pid=1598 comm=&quot;pool-org.gnome.&quot; exe=&quot;/snap/snap-store/1217/usr/bin/snap-store&quot; sig=0 arch=c00000b7 syscall=55 compat=0 ip=0xf8108010910c code=0x50000
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>[10648.110448] dicedevice: loading out-of-tree module taints kernel.
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a>[10648.110513] dicedevice: module verification failed: signature and/or required key missing - tainting kernel
</code></pre></div>
<p>Verify device noce</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>ls<span class="w"> </span>-l<span class="w"> </span>/dev/dice*
</code></pre></div>
<p>Test reading from device</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>sudo<span class="w"> </span>cat<span class="w"> </span>/dev/dice0
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>sudo<span class="w"> </span>cat<span class="w"> </span>/dev/dice1
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>sudo<span class="w"> </span>cat<span class="w"> </span>/dev/dice2
</code></pre></div>
<p><img alt="Dice Result Screenshot" src="../figure/dice_result.jpg" />
This is success result image.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.top", "content.code.annotate", "content.code.copy", "search.highlight", "search.share", "toc.follow"], "search": "../../../assets/javascripts/workers/search.f8cc74c7.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>